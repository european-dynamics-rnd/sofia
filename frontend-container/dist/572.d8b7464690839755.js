(self.webpackChunkpd_free_angularcli=self.webpackChunkpd_free_angularcli||[]).push([[572],{6572:(ke,Ht,x)=>{"use strict";x.r(Ht),x.d(Ht,{AdminLayoutModule:()=>ns});var D=x(3825),v=x(6895),T=x(4719),et=x(1674);class k extends et.g{constructor(){super(),this.menuFieldList=[],this.accessControls=[],this.translations=[]}}class Ne extends et.g{constructor(){super(...arguments),this.sidebarMenu=new k,this.headerMenu=new k,this.roles=[],this.languages=[]}}var Y=x(588);class gt{constructor(){}}var t=x(5062),Yt=x(6722),$t=x(1450),A=x(9743);function X(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"tr",37),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw().selectSidebarMenu(s)}),t.TgZ(1,"td"),t._UZ(2,"input",38),t.qZA(),t.TgZ(3,"td"),t._UZ(4,"input",38),t.qZA()()}if(2&n){const e=r.$implicit;t.xp6(2),t.s9C("value",e.id),t.xp6(2),t.s9C("value",e.name)}}function ae(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"tr",37),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw().selectHeaderMenu(s)}),t.TgZ(1,"td"),t._UZ(2,"input",38),t.qZA(),t.TgZ(3,"td"),t._UZ(4,"input",38),t.qZA()()}if(2&n){const e=r.$implicit;t.xp6(2),t.s9C("value",e.id),t.xp6(2),t.s9C("value",e.name)}}let $=(()=>{class n extends Y.I{constructor(e,i,o,s,a){super(),this.userService=e,this.menuService=i,this.navigatorService=o,this.activatedRoute=s,this.location=a,this.userDTO=new Ne,this.changePasswordRequest=new gt}ngOnInit(){this.initNav(this.activatedRoute),this.userService.getCurrentUser().subscribe(e=>{this.userDTO=e})}save(){this.setNewPassword(),this.userService.changePassword(this.changePasswordRequest).subscribe(e=>{this.location.back()})}showNextPageButton(){return null!==this.nextPage}showPreviousPageButton(){return null!==this.previousPage}navigateToNextPage(){this.navigatorService.navigateToNextPage(this.pageId)}navigateToPreviousPage(){this.navigatorService.navigateToPreviousPage(this.pageId)}selectSidebarMenu(e){this.userDTO.sidebarMenu=e}selectHeaderMenu(e){this.userDTO.headerMenu=e}setNewPassword(){this.changePasswordRequest.username=this?.userDTO?.username,this.changePasswordRequest.password=this?.userDTO?.password,this.changePasswordRequest.repeatPassword=this?.userDTO?.repeatPassword}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Yt.K),t.Y36($t.h),t.Y36(A.s),t.Y36(D.gz),t.Y36(v.Ye))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-user-cmp"]],features:[t.qOj],decls:104,vars:7,consts:[[1,"row","formnav"],[1,"col-sm-12"],[1,"pull-right"],[1,"btn","btn-outline-success",2,"margin-top","0px",3,"click"],[1,"fa","fa-save"],[1,"row","form-area"],[1,"col-md-12"],[1,"card","card-user"],[1,"card-header"],[1,"card-title"],[1,"fa","fa-user"],[1,"card-body"],[1,"row"],[1,"form-group"],["type","text","readonly","","name","username",1,"form-control",3,"ngModel","ngModelChange"],["type","text","readonly","","name","email",1,"form-control",3,"ngModel","ngModelChange"],["type","text","readonly","","name","email",1,"form-control",3,"value"],[1,"fa","fa-key"],[1,"col-md-6"],["type","password","name","password",1,"form-control",3,"ngModel","ngModelChange","keydown.space"],["type","password","name","repeatPassword",1,"form-control",3,"ngModel","ngModelChange","keydown.space"],["aria-labelledby","ModalLabel","id","insertSidebarMenuModal","role","dialog","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header","justify-content-center"],[1,"title","title-up","modal-title"],["aria-label","Close","data-dismiss","modal","type","button",1,"close"],[1,"fa","fa-times"],[1,"modal-body"],[1,"col-12"],[1,"table","table-striped"],[1,"text-primary"],["data-dismiss","modal","style","cursor: pointer;",3,"click",4,"ngFor","ngForOf"],[1,"modal-footer"],[1,"left-side"],["data-dismiss","modal","type","button",1,"btn","btn-outline-danger"],["aria-labelledby","ModalLabel","id","insertHeaderMenuModal","role","dialog","aria-hidden","true",1,"modal","fade"],["data-dismiss","modal",2,"cursor","pointer",3,"click"],["type","text","readonly","",1,"form-control","transparent-input",3,"value"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),t.NdJ("click",function(){return i.save()}),t._UZ(4,"i",4),t._uU(5," Save "),t.qZA()()()(),t.TgZ(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8)(10,"h5",9),t._UZ(11,"i",10),t._uU(12," Profile "),t.qZA()(),t.TgZ(13,"div",11)(14,"div",12)(15,"div",6)(16,"div",13)(17,"label"),t._uU(18,"Username"),t.qZA(),t.TgZ(19,"input",14),t.NdJ("ngModelChange",function(s){return i.userDTO.username=s}),t.qZA(),t._UZ(20,"code"),t.qZA()(),t.TgZ(21,"div",6)(22,"div",13)(23,"label"),t._uU(24,"Email"),t.qZA(),t.TgZ(25,"input",15),t.NdJ("ngModelChange",function(s){return i.userDTO.email=s}),t.qZA(),t._UZ(26,"code"),t.qZA()(),t.TgZ(27,"div",6)(28,"div",13)(29,"label"),t._uU(30,"User Platform Origin"),t.qZA(),t._UZ(31,"input",16)(32,"code"),t.qZA()()()()()()(),t.TgZ(33,"div",5)(34,"div",6)(35,"div",7)(36,"div",8)(37,"h5",9),t._UZ(38,"i",17),t._uU(39," Password Update "),t.qZA()(),t.TgZ(40,"div",11)(41,"div",12)(42,"div",18)(43,"div",13)(44,"label"),t._uU(45,"Password"),t.qZA(),t.TgZ(46,"input",19),t.NdJ("ngModelChange",function(s){return i.userDTO.password=s})("keydown.space",function(s){return s.preventDefault()}),t.qZA(),t._UZ(47,"code"),t.qZA()(),t.TgZ(48,"div",18)(49,"div",13)(50,"label"),t._uU(51,"Repeat Password"),t.qZA(),t.TgZ(52,"input",20),t.NdJ("ngModelChange",function(s){return i.userDTO.repeatPassword=s})("keydown.space",function(s){return s.preventDefault()}),t.qZA(),t._UZ(53,"code"),t.qZA()()()()()()(),t.TgZ(54,"div",21)(55,"div",22)(56,"div",23)(57,"div",24)(58,"h4",25),t._uU(59,"Insert Sidebar Menu"),t.qZA(),t.TgZ(60,"button",26),t._UZ(61,"i",27),t.qZA()(),t.TgZ(62,"div",28)(63,"form")(64,"div",12)(65,"div",29)(66,"table",30)(67,"thead",31)(68,"tr")(69,"th"),t._uU(70,"id"),t.qZA(),t.TgZ(71,"th"),t._uU(72,"name"),t.qZA()()(),t.TgZ(73,"tbody"),t.YNc(74,X,5,2,"tr",32),t.qZA()()()()()(),t.TgZ(75,"div",33)(76,"div",34)(77,"button",35),t._uU(78,"Close"),t.qZA()()()()()(),t.TgZ(79,"div",36)(80,"div",22)(81,"div",23)(82,"div",24)(83,"h4",25),t._uU(84,"Insert Header Menu"),t.qZA(),t.TgZ(85,"button",26),t._UZ(86,"i",27),t.qZA()(),t.TgZ(87,"div",28)(88,"form")(89,"div",12)(90,"div",29)(91,"table",30)(92,"thead",31)(93,"tr")(94,"th"),t._uU(95,"id"),t.qZA(),t.TgZ(96,"th"),t._uU(97,"name"),t.qZA()()(),t.TgZ(98,"tbody"),t.YNc(99,ae,5,2,"tr",32),t.qZA()()()()()(),t.TgZ(100,"div",33)(101,"div",34)(102,"button",35),t._uU(103,"Close"),t.qZA()()()()()()),2&e&&(t.xp6(19),t.Q6J("ngModel",i.userDTO.username),t.xp6(6),t.Q6J("ngModel",i.userDTO.email),t.xp6(6),t.s9C("value",i.userDTO.provider),t.xp6(15),t.Q6J("ngModel",i.userDTO.password),t.xp6(6),t.Q6J("ngModel",i.userDTO.repeatPassword),t.xp6(22),t.Q6J("ngForOf",i.menuDTOS),t.xp6(25),t.Q6J("ngForOf",i.menuDTOS))},directives:[T.Fj,T.JJ,T.On,T._Y,T.JL,T.F,v.sg],encapsulation:2}),n})(),ce=(()=>{class n{ngOnInit(){this.tableData1={headerRow:["ID","Name","Country","City","Salary"],dataRows:[["1","Dakota Rice","Niger","Oud-Turnhout","$36,738"],["2","Minerva Hooper","Cura\xe7ao","Sinaai-Waas","$23,789"],["3","Sage Rodriguez","Netherlands","Baileux","$56,142"],["4","Philip Chaney","Korea, South","Overland Park","$38,735"],["5","Doris Greene","Malawi","Feldkirchen in K\xe4rnten","$63,542"],["6","Mason Porter","Chile","Gloucester","$78,615"]]},this.tableData2={headerRow:["ID","Name","Salary","Country","City"],dataRows:[["1","Dakota Rice","$36,738","Niger","Oud-Turnhout"],["2","Minerva Hooper","$23,789","Cura\xe7ao","Sinaai-Waas"],["3","Sage Rodriguez","$56,142","Netherlands","Baileux"],["4","Philip Chaney","$38,735","Korea, South","Overland Park"],["5","Doris Greene","$63,542","Malawi","Feldkirchen in K\xe4rnten"],["6","Mason Porter","$78,615","Chile","Gloucester"]]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["table-cmp"]],decls:165,vars:0,consts:[[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-body"],[1,""],[1,"table"],[1,"text-primary"],[1,"text-right"],[1,"card","card-plain"],[1,"card-category"],[1,"table-responsive"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h4",4),t._uU(5," Simple Table"),t.qZA()(),t.TgZ(6,"div",5)(7,"div",6)(8,"table",7)(9,"thead",8)(10,"th"),t._uU(11," Name "),t.qZA(),t.TgZ(12,"th"),t._uU(13," Country "),t.qZA(),t.TgZ(14,"th"),t._uU(15," City "),t.qZA(),t.TgZ(16,"th",9),t._uU(17," Salary "),t.qZA()(),t.TgZ(18,"tbody")(19,"tr")(20,"td"),t._uU(21," Dakota Rice "),t.qZA(),t.TgZ(22,"td"),t._uU(23," Niger "),t.qZA(),t.TgZ(24,"td"),t._uU(25," Oud-Turnhout "),t.qZA(),t.TgZ(26,"td",9),t._uU(27," $36,738 "),t.qZA()(),t.TgZ(28,"tr")(29,"td"),t._uU(30," Minerva Hooper "),t.qZA(),t.TgZ(31,"td"),t._uU(32," Cura\xe7ao "),t.qZA(),t.TgZ(33,"td"),t._uU(34," Sinaai-Waas "),t.qZA(),t.TgZ(35,"td",9),t._uU(36," $23,789 "),t.qZA()(),t.TgZ(37,"tr")(38,"td"),t._uU(39," Sage Rodriguez "),t.qZA(),t.TgZ(40,"td"),t._uU(41," Netherlands "),t.qZA(),t.TgZ(42,"td"),t._uU(43," Baileux "),t.qZA(),t.TgZ(44,"td",9),t._uU(45," $56,142 "),t.qZA()(),t.TgZ(46,"tr")(47,"td"),t._uU(48," Philip Chaney "),t.qZA(),t.TgZ(49,"td"),t._uU(50," Korea, South "),t.qZA(),t.TgZ(51,"td"),t._uU(52," Overland Park "),t.qZA(),t.TgZ(53,"td",9),t._uU(54," $38,735 "),t.qZA()(),t.TgZ(55,"tr")(56,"td"),t._uU(57," Doris Greene "),t.qZA(),t.TgZ(58,"td"),t._uU(59," Malawi "),t.qZA(),t.TgZ(60,"td"),t._uU(61," Feldkirchen in K\xe4rnten "),t.qZA(),t.TgZ(62,"td",9),t._uU(63," $63,542 "),t.qZA()(),t.TgZ(64,"tr")(65,"td"),t._uU(66," Mason Porter "),t.qZA(),t.TgZ(67,"td"),t._uU(68," Chile "),t.qZA(),t.TgZ(69,"td"),t._uU(70," Gloucester "),t.qZA(),t.TgZ(71,"td",9),t._uU(72," $78,615 "),t.qZA()(),t.TgZ(73,"tr")(74,"td"),t._uU(75," Jon Porter "),t.qZA(),t.TgZ(76,"td"),t._uU(77," Portugal "),t.qZA(),t.TgZ(78,"td"),t._uU(79," Gloucester "),t.qZA(),t.TgZ(80,"td",9),t._uU(81," $98,615 "),t.qZA()()()()()()()(),t.TgZ(82,"div",1)(83,"div",10)(84,"div",3)(85,"h4",4),t._uU(86," Table on Plain Background"),t.qZA(),t.TgZ(87,"p",11),t._uU(88," Here is a subtitle for this table"),t.qZA()(),t.TgZ(89,"div",5)(90,"div",12)(91,"table",7)(92,"thead",8)(93,"th"),t._uU(94," Name "),t.qZA(),t.TgZ(95,"th"),t._uU(96," Country "),t.qZA(),t.TgZ(97,"th"),t._uU(98," City "),t.qZA(),t.TgZ(99,"th",9),t._uU(100," Salary "),t.qZA()(),t.TgZ(101,"tbody")(102,"tr")(103,"td"),t._uU(104," Dakota Rice "),t.qZA(),t.TgZ(105,"td"),t._uU(106," Niger "),t.qZA(),t.TgZ(107,"td"),t._uU(108," Oud-Turnhout "),t.qZA(),t.TgZ(109,"td",9),t._uU(110," $36,738 "),t.qZA()(),t.TgZ(111,"tr")(112,"td"),t._uU(113," Minerva Hooper "),t.qZA(),t.TgZ(114,"td"),t._uU(115," Cura\xe7ao "),t.qZA(),t.TgZ(116,"td"),t._uU(117," Sinaai-Waas "),t.qZA(),t.TgZ(118,"td",9),t._uU(119," $23,789 "),t.qZA()(),t.TgZ(120,"tr")(121,"td"),t._uU(122," Sage Rodriguez "),t.qZA(),t.TgZ(123,"td"),t._uU(124," Netherlands "),t.qZA(),t.TgZ(125,"td"),t._uU(126," Baileux "),t.qZA(),t.TgZ(127,"td",9),t._uU(128," $56,142 "),t.qZA()(),t.TgZ(129,"tr")(130,"td"),t._uU(131," Philip Chaney "),t.qZA(),t.TgZ(132,"td"),t._uU(133," Korea, South "),t.qZA(),t.TgZ(134,"td"),t._uU(135," Overland Park "),t.qZA(),t.TgZ(136,"td",9),t._uU(137," $38,735 "),t.qZA()(),t.TgZ(138,"tr")(139,"td"),t._uU(140," Doris Greene "),t.qZA(),t.TgZ(141,"td"),t._uU(142," Malawi "),t.qZA(),t.TgZ(143,"td"),t._uU(144," Feldkirchen in K\xe4rnten "),t.qZA(),t.TgZ(145,"td",9),t._uU(146," $63,542 "),t.qZA()(),t.TgZ(147,"tr")(148,"td"),t._uU(149," Mason Porter "),t.qZA(),t.TgZ(150,"td"),t._uU(151," Chile "),t.qZA(),t.TgZ(152,"td"),t._uU(153," Gloucester "),t.qZA(),t.TgZ(154,"td",9),t._uU(155," $78,615 "),t.qZA()(),t.TgZ(156,"tr")(157,"td"),t._uU(158," Jon Porter "),t.qZA(),t.TgZ(159,"td"),t._uU(160," Portugal "),t.qZA(),t.TgZ(161,"td"),t._uU(162," Gloucester "),t.qZA(),t.TgZ(163,"td",9),t._uU(164," $98,615 "),t.qZA()()()()()()()()())},encapsulation:2}),n})();class Ee extends et.g{constructor(){super(...arguments),this.code="",this.name="",this.headerTitle="",this.headerDescription="",this.headerIcon="",this.groupingTitle="",this.groupingDescription="",this.title="",this.description="",this.icon="",this.selector="",this.filterFieldStructure="",this.customFilterFieldStructure=!1,this.defaultPage="list",this.autoRun=!1,this.listVisible=!0,this.filterVisible=!1,this.jsonUrl="",this.listActionButtons=[],this.listComponentColumnFieldList=[],this.listComponentFilterFieldList=[],this.listComponentLeftGroupFieldList=[],this.listComponentTopGroupFieldList=[],this.listComponentOrderByFieldList=[],this.listComponentActionFieldList=[],this.listScripts=[],this.listCssList=[],this.accessControls=[],this.translations=[]}}var I=x(1406),L=x(529),S=x(9981),y=x(2340),ht=x(2916);let At=(()=>{class n extends S.I{constructor(e){super(e,"list"),this.http=e,this.cachedDtos=new Map}getListById(e,i,o){const s=localStorage.getItem("cachedList"+e+"-"+o);if(null!=s){const a=JSON.parse(s);if(a.instanceVersion.toString()===i)return new ht.y(p=>p.next(a))}return this.requestListFromBackend(e,o)}requestListFromBackend(e,i){return this.http.get(`${y.N.serverUrl}/${this.endpoint}/ui?id=${e}&language-id=${i}`)}getVersion(e){const o={headers:(new L.WM).set("Content-Type","text/plain; charset=utf-8"),responseType:"text"};return this.http.get(`${y.N.serverUrl}/${this.endpoint}/instance-version?id=${e}`,o)}getListResult(e,i,o,s){let a="?id="+o;for(const p of e.keys())a+="&"+encodeURIComponent(p)+"="+encodeURIComponent(e.get(p));return this.http.get(`${y.N.serverUrl}/${this.endpoint}/results/page/${i}${a}&language-id=${s}`)}getListResultDataExcel(e,i){return this.http.post(`${y.N.serverUrl}/${this.endpoint}/data-excel&language-id=${i}`,e,{responseType:"blob"})}getGroupResult(e,i,o){let s="?id="+i;for(const a of e.keys())s+="&"+encodeURIComponent(a)+"="+encodeURIComponent(e.get(a));return s+="&language-id="+o,this.http.get(`${y.N.serverUrl}/${this.endpoint}/left-grouping/results`+s)}updateField(e,i,o,s,a){return this.http.put(`${y.N.serverUrl}/${this.endpoint}/update-field?id=${e}&rel=${i}&field=${o}&field-value=${s}&language-id=${a}`,null)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(L.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var vt=x(6243),nt=x(3207),q=x(1481),at=x(4958),xt=x(3263),Bt=x(3497);let Ct=(()=>{class n{constructor(e,i,o,s){this.dynamicJavaScriptLoader=e,this.dynamicRequestService=i,this.navigatorService=o,this.staticJavascriptLoader=s,this.navigateToCommand=a=>{this.navigatorService.navigate(a)},this.getFromBackend=(a,p)=>{this.dynamicRequestService.getFromBackend(a).subscribe(_=>{p(_)})},this.getFromUrl=(a,p)=>{this.dynamicRequestService.getFromUrl(a).subscribe(_=>{p(_)})},this.postToBackend=(a,p,_)=>{this.dynamicRequestService.postToBackend(a,p).subscribe(m=>{_(m)})},this.postToUrl=(a,p,_)=>{this.dynamicRequestService.postToUrl(a,p).subscribe(m=>{_(m)})},this.putToBackend=(a,p,_)=>{this.dynamicRequestService.putToBackend(a,p).subscribe(m=>{_(m)})},this.putToUrl=(a,p,_)=>{this.dynamicRequestService.putToUrl(a,p).subscribe(m=>{_(m)})},this.deleteFromBackend=(a,p)=>{this.dynamicRequestService.deleteFromBackend(a).subscribe(_=>{p(_)})},this.deleteFromUrl=(a,p)=>{this.dynamicRequestService.deleteFromUrl(a).subscribe(_=>{p(_)})}}loadWithPromise(e){return new Promise((i,o)=>{this.staticJavascriptLoader.addScript("list").then(s=>{this.dynamicJavaScriptLoader.addScript(e.listDto.id,"list").then(a=>{registerListDynamicScript(e.listDto.id,e),defineListNavigator(e.listDto.id,this.navigateToCommand),defineListGetFromBackend(e.listDto.id,this.getFromBackend),defineListGetFromUrl(e.listDto.id,this.getFromUrl),defineListPostToBackend(e.listDto.id,this.postToBackend),defineListPostToUrl(e.listDto.id,this.postToUrl),defineListPutToBackend(e.listDto.id,this.putToBackend),defineListPutToUrl(e.listDto.id,this.putToUrl),defineListDeleteFromBackend(e.listDto.id,this.deleteFromBackend),defineListDeleteFromUrl(e.listDto.id,this.deleteFromUrl),this.triggerListEvent(e.listDto.id,"onListOpen",""),i({script:"listScript",loaded:!0,status:"Loaded"})}).catch(a=>console.log(a))})})}triggerListEvent(e,i,o){nativeListEventsHandler(e,i,o)}listNativeRowButtonClickHandler(e,i,o){listNativeRowButtonClickHandler(e,i,o)}listNativeHeaderButtonClickHandler(e,i){listNativeHeaderButtonClickHandler(e,i)}calcPivotValueBranch(e,i,o,s,a){return calcPivotValueBranch(e,i,o,s,a)}pivotCellClick(e,i){pivotCellClick(e,i)}printHtmlReport(e,i){this.dynamicRequestService.getFromBackend(`/html-template/instant-access-token?id=${e}&selection-id=${i}`).subscribe(o=>{const s=document.createElement("iframe");s.setAttribute("src",`${y.N.serverUrl}/html-template/preview-page.html?token=${o.token}`),console.log(`${y.N.serverUrl}/html-template/preview-page.html?token=${o.token}`),s.style.display="none",document.body.appendChild(s),setTimeout(()=>{document.body.removeChild(s)},500)})}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(at._),t.LFG(xt.g),t.LFG(A.s),t.LFG(Bt.w))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var de=x(654),Ue=x(5267),pe=x(3454),ue=x(6635),bt=x(4686),Gt=x(904),Se=x(3815),Tt=x(6915),zt=x(8989),Ft=x(1094);function qe(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",30),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw(3).headerActionButtonClicked(s)}),t._UZ(1,"i"),t._uU(2),t.qZA()}if(2&n){const e=r.$implicit;t.Gre("btn ",e.cssClass,""),t.xp6(1),t.Gre("fa ",e.icon,""),t.xp6(1),t.hij(" ",e.description," ")}}function Je(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"a",45),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(4);return o.navigateToPage((null==o.listResultsData?null:o.listResultsData.currentPage)-1)}),t._uU(1),t.qZA()}if(2&n){const e=t.oxw(4);t.xp6(1),t.Oqu(null==e.listResultsData?null:e.listResultsData.currentPage)}}function N(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"a",45),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(4);return o.navigateToPage((null==o.listResultsData?null:o.listResultsData.currentPage)+1)}),t._uU(1),t.qZA()}if(2&n){const e=t.oxw(4);t.xp6(1),t.Oqu((null==e.listResultsData?null:e.listResultsData.currentPage)+2)}}function ct(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"ul",31)(1,"li",32),t._uU(2," Page "),t.qZA(),t.TgZ(3,"li",33)(4,"a",34),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).navigateToPage(0)}),t.TgZ(5,"span",35),t._UZ(6,"i",36),t.qZA()()(),t.TgZ(7,"li",33)(8,"a",37),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return o.navigateToPage((null==o.listResultsData?null:o.listResultsData.currentPage)-1)}),t.TgZ(9,"span",35),t._UZ(10,"i",38),t.qZA()()(),t.TgZ(11,"li",33),t.YNc(12,Je,2,1,"a",39),t.qZA(),t.TgZ(13,"li",40)(14,"a",41),t._uU(15),t.qZA()(),t.TgZ(16,"li",33),t.YNc(17,N,2,1,"a",39),t.qZA(),t.TgZ(18,"li",33)(19,"a",42),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return o.navigateToPage((null==o.listResultsData?null:o.listResultsData.currentPage)+1)}),t.TgZ(20,"span",35),t._UZ(21,"i",43),t.qZA()()(),t.TgZ(22,"li",33)(23,"a",42),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return o.navigateToPage((null==o.listResultsData?null:o.listResultsData.totalPages)-1)}),t.TgZ(24,"span",35),t._UZ(25,"i",44),t.qZA()()(),t.TgZ(26,"li",32),t._uU(27),t.qZA()()}if(2&n){const e=t.oxw(3);t.xp6(12),t.Q6J("ngIf",e.showPrevPagination),t.xp6(3),t.Oqu((null==e.listResultsData?null:e.listResultsData.currentPage)+1),t.xp6(2),t.Q6J("ngIf",e.showNextPagination),t.xp6(10),t.hij(" of Total ",null==e.listResultsData?null:e.listResultsData.totalPages," Pages ")}}function P(n,r){if(1&n&&(t.TgZ(0,"div",10)(1,"div",25)(2,"div",12)(3,"div",11)(4,"h3",26),t._UZ(5,"i",27),t._uU(6),t.qZA(),t._UZ(7,"p",15),t.qZA()(),t.TgZ(8,"div",16),t.YNc(9,qe,3,7,"button",28),t.YNc(10,ct,28,4,"ul",29),t.qZA()()()),2&n){const e=t.oxw(2);t.xp6(5),t.Gre("fa fa ",e.listDto.headerIcon,""),t.xp6(1),t.hij("",e.listDto.headerTitle," "),t.xp6(1),t.Q6J("innerHTML",e.listDto.headerDescription,t.oJD),t.xp6(2),t.Q6J("ngForOf",null==e.listDto?null:e.listDto.listActionButtons),t.xp6(1),t.Q6J("ngIf",null==e.listDto?null:e.listDto.hasPagination)}}function U(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",59),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2).$implicit;return t.oxw(6).updateVisibility(o)}),t._UZ(1,"i",60),t.qZA()}}function Dt(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",61),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2).$implicit;return t.oxw(6).updateVisibility(o)}),t._UZ(1,"i",62),t.qZA()}}function yt(n,r){1&n&&(t.TgZ(0,"button",63),t._UZ(1,"i",64),t.qZA())}function Zt(n,r){1&n&&t.GkF(0)}const ft=function(n){return{$implicit:n}};function Pt(n,r){if(1&n&&(t.TgZ(0,"ul"),t.YNc(1,Zt,1,0,"ng-container",53),t.qZA()),2&n){const e=t.oxw(2).$implicit;t.oxw(2);const i=t.MAs(2);t.xp6(1),t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.VKq(2,ft,e.children))}}function G(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",54),t.YNc(2,U,2,0,"button",55),t.YNc(3,Dt,2,0,"button",56),t.YNc(4,yt,2,0,"button",57),t.TgZ(5,"button",58),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit;return t.oxw(6).filterGroup(o)}),t.qZA()(),t.YNc(6,Pt,2,4,"ul",0),t.BQk()}if(2&n){const e=t.oxw().$implicit,i=t.oxw(6);t.xp6(2),t.Q6J("ngIf",i.groupHasChildred(e.children)&&!e.childrenVisible),t.xp6(1),t.Q6J("ngIf",i.groupHasChildred(e.children)&&e.childrenVisible),t.xp6(1),t.Q6J("ngIf",!i.groupHasChildred(e.children)),t.xp6(1),t.Q6J("innerHTML",e.value,t.oJD),t.xp6(1),t.Q6J("ngIf",null!=e.children&&e.childrenVisible)}}function dt(n,r){if(1&n&&(t.TgZ(0,"li"),t.YNc(1,G,7,5,"ng-container",0),t.qZA()),2&n){const e=r.$implicit;t.xp6(1),t.Q6J("ngIf",""!=(e.value??""))}}function _e(n,r){1&n&&t.YNc(0,dt,2,1,"li",22),2&n&&t.Q6J("ngForOf",r.$implicit)}function ge(n,r){1&n&&t.GkF(0)}function kt(n,r){if(1&n&&(t.TgZ(0,"ul"),t.YNc(1,_e,1,1,"ng-template",null,52,t.W1O),t.YNc(3,ge,1,0,"ng-container",53),t.qZA()),2&n){const e=t.MAs(2),i=t.oxw(4);t.xp6(3),t.Q6J("ngTemplateOutlet",e)("ngTemplateOutletContext",t.VKq(2,ft,i.groupContent))}}function V(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",3)(1,"div",11)(2,"h6",65),t._uU(3," Selections "),t.TgZ(4,"span",66),t.NdJ("click",function(){return t.CHM(e),t.oxw(4).clearFilterGroup()}),t._UZ(5,"i",67),t._uU(6," Clear "),t.qZA()()()()}}function Ve(n,r){1&n&&(t.TgZ(0,"div",70),t._UZ(1,"i",71),t.qZA())}function Re(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",72)(1,"div",73)(2,"button",74),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit;return t.oxw(4).filterGroupOnField(o)}),t.qZA()()()}if(2&n){const e=t.oxw().$implicit;t.xp6(2),t.Q6J("innerHTML",e.fieldValue,t.oJD)}}function Qe(n,r){if(1&n&&(t.ynx(0),t.YNc(1,Ve,2,0,"div",68),t.YNc(2,Re,3,1,"div",69),t.BQk()),2&n){const e=r.$implicit,i=r.first;t.xp6(1),t.Q6J("ngIf",""!=(e.fieldValue??"")&&!i),t.xp6(1),t.Q6J("ngIf",""!=(e.fieldValue??""))}}function He(n,r){if(1&n&&(t.TgZ(0,"div",48)(1,"div",8)(2,"div",9)(3,"div",10)(4,"div",11)(5,"div",12)(6,"h5",13),t._UZ(7,"i",49),t._uU(8),t.qZA(),t.TgZ(9,"p",15),t._uU(10," Navigate to "),t.TgZ(11,"b"),t._uU(12,"Mechanisms of attack"),t.qZA(),t._uU(13," categorization "),t.TgZ(14,"b"),t._uU(15,"tree "),t._UZ(16,"i",49),t.qZA(),t._uU(17," of Capecs"),t.qZA()(),t._UZ(18,"div",16),t.qZA()()(),t.TgZ(19,"div",18),t.YNc(20,kt,4,4,"ul",0),t.YNc(21,V,7,0,"div",50),t.TgZ(22,"div",51),t.YNc(23,Qe,3,2,"ng-container",22),t.qZA()()()()),2&n){const e=t.oxw(3);t.xp6(8),t.hij(" ",e.listDto.groupingTitle," "),t.xp6(1),t.Q6J("innerHTML",e.listDto.groupingDescription,t.oJD),t.xp6(11),t.Q6J("ngIf",(null==e.groupContent?null:e.groupContent.length)>0),t.xp6(1),t.Q6J("ngIf",e.hasSelections(e.listDto.listComponentLeftGroupFieldList)),t.xp6(2),t.Q6J("ngForOf",null==e.listDto?null:e.listDto.listComponentLeftGroupFieldList)}}const it=function(n){return{"is-hidden":n}},ot=function(n){return{"text-danger":n}};function fe(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",79)(2,"div",80)(3,"div",79),t._uU(4),t.qZA(),t.TgZ(5,"input",81),t.NdJ("ngModelChange",function(o){return t.CHM(e),t.oxw().$implicit.fieldValue=o}),t.qZA()()(),t.BQk()}if(2&n){const e=t.oxw().$implicit,i=t.oxw(4);t.xp6(1),t.Akn(e.css),t.DjV("",e.bclass,"  L",i.listDto.id,"-",i.listDto.code,"-",e.code," filter-col"),t.Q6J("ngClass",t.VKq(13,it,!e.visible)),t.xp6(2),t.Q6J("ngClass",t.VKq(15,ot,e.required)),t.xp6(1),t.Oqu(e.description),t.xp6(1),t.Q6J("ngModel",e.fieldValue)}}function me(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",79)(2,"div",80)(3,"div",82),t._uU(4),t.qZA(),t.TgZ(5,"app-numeric-input",83),t.NdJ("inputValueChange",function(o){return t.CHM(e),t.oxw().$implicit.fieldValue=o}),t.qZA()()(),t.BQk()}if(2&n){const e=t.oxw().$implicit,i=t.oxw(4);t.xp6(1),t.Akn(e.css),t.DjV("",e.bclass," L",i.listDto.id,"-",i.listDto.code,"-",e.code," filter-col"),t.Q6J("ngClass",t.VKq(15,it,!e.visible)),t.xp6(2),t.Q6J("ngClass",t.VKq(17,ot,e.required)),t.xp6(1),t.Oqu(e.description),t.xp6(1),t.Q6J("inputValue",e.fieldValue)("mask","0*.0000")("editable",e.editable)}}function he(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",79)(2,"div",80)(3,"div",79),t._uU(4),t.qZA(),t.TgZ(5,"app-numeric-input",84),t.NdJ("inputValueChange",function(o){return t.CHM(e),t.oxw().$implicit.fieldValue=o}),t.qZA()()(),t.BQk()}if(2&n){const e=t.oxw().$implicit,i=t.oxw(4);t.xp6(1),t.Akn(e.css),t.DjV("",e.bclass," L",i.listDto.id,"-",i.listDto.code,"-",e.code," filter-col"),t.Q6J("ngClass",t.VKq(15,it,!e.visible)),t.xp6(2),t.Q6J("ngClass",t.VKq(17,ot,e.required)),t.xp6(1),t.Oqu(e.description),t.xp6(1),t.Q6J("inputValue",e.fieldValue)("mask","0*")("editable",e.editable)}}function It(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",79)(2,"div",80)(3,"div",79),t._uU(4),t.qZA(),t.TgZ(5,"app-list-selector",85),t.NdJ("valueChange",function(o){return t.CHM(e),t.oxw().$implicit.fieldValue=o}),t.qZA()()(),t.BQk()}if(2&n){const e=t.oxw().$implicit,i=t.oxw(4);t.xp6(1),t.Akn(e.css),t.DjV("",e.bclass," L",i.listDto.id,"-",i.listDto.code,"-",e.code," filter-col"),t.Q6J("ngClass",t.VKq(17,it,!e.visible)),t.xp6(2),t.Q6J("ngClass",t.VKq(19,ot,e.required)),t.xp6(1),t.Oqu(e.description),t.xp6(1),t.Q6J("editable",e.editable)("command",e.editor)("defaultValue",e.defaultValue)("displayValue",e.displayValue)("value",e.fieldValue)}}function Wt(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",79)(2,"div",80)(3,"div",79),t._uU(4),t.qZA(),t.TgZ(5,"app-date-picker",86),t.NdJ("inputDateChange",function(o){return t.CHM(e),t.oxw().$implicit.fieldValue=o}),t.qZA()()(),t.BQk()}if(2&n){const e=t.oxw().$implicit,i=t.oxw(4);t.xp6(1),t.Akn(e.css),t.DjV("",e.bclass," L",i.listDto.id,"-",i.listDto.code,"-",e.code," filter-col"),t.Q6J("ngClass",t.VKq(15,it,!e.visible)),t.xp6(2),t.Q6J("ngClass",t.VKq(17,ot,e.required)),t.xp6(1),t.Oqu(e.description),t.xp6(1),t.Q6J("inputDate",e.fieldValue)("mask","dd/MM/yyyy")("editable",e.editable)}}function Ye(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",79)(2,"div",80)(3,"div",79),t._uU(4),t.qZA(),t.TgZ(5,"app-date-time-picker",86),t.NdJ("inputDateChange",function(o){return t.CHM(e),t.oxw().$implicit.fieldValue=o}),t.qZA()()(),t.BQk()}if(2&n){const e=t.oxw().$implicit,i=t.oxw(4);t.xp6(1),t.Akn(e.css),t.DjV("",e.bclass," L",i.listDto.id,"-",i.listDto.code,"-",e.code," filter-col"),t.Q6J("ngClass",t.VKq(15,it,!e.visible)),t.xp6(2),t.Q6J("ngClass",t.VKq(17,ot,e.required)),t.xp6(1),t.Oqu(e.description),t.xp6(1),t.Q6J("inputDate",e.fieldValue)("mask","dd/MM/yyyy")("editable",e.editable)}}function $e(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",79)(2,"div",80)(3,"div",79),t._uU(4),t.qZA(),t.TgZ(5,"app-combo-box",87),t.NdJ("valueChange",function(o){return t.CHM(e),t.oxw().$implicit.fieldValue=o}),t.qZA()()(),t.BQk()}if(2&n){const e=t.oxw().$implicit,i=t.oxw(4);t.xp6(1),t.Akn(e.css),t.DjV("",e.bclass," L",i.listDto.id,"-",i.listDto.code,"-",e.code," filter-col"),t.Q6J("ngClass",t.VKq(16,it,!e.visible)),t.xp6(2),t.Q6J("ngClass",t.VKq(18,ot,e.required)),t.xp6(1),t.Oqu(e.description),t.xp6(1),t.Q6J("value",e.fieldValue)("comboOptions",e.editor)("defaultValue",e.defaultValue)("editable",e.editable)}}function Be(n,r){if(1&n&&(t.ynx(0),t.YNc(1,fe,6,17,"ng-container",0),t.YNc(2,me,6,19,"ng-container",0),t.YNc(3,he,6,19,"ng-container",0),t.YNc(4,It,6,21,"ng-container",0),t.YNc(5,Wt,6,19,"ng-container",0),t.YNc(6,Ye,6,19,"ng-container",0),t.YNc(7,$e,6,20,"ng-container",0),t.BQk()),2&n){const e=r.$implicit;t.xp6(1),t.Q6J("ngIf","varchar"===e.type||"text"===e.type),t.xp6(1),t.Q6J("ngIf","double"===e.type),t.xp6(1),t.Q6J("ngIf","int"===e.type||"bigint"===e.type),t.xp6(1),t.Q6J("ngIf","list"===e.type),t.xp6(1),t.Q6J("ngIf","datetime"===e.type),t.xp6(1),t.Q6J("ngIf","datetime_det"===e.type),t.xp6(1),t.Q6J("ngIf","combo"===e.type)}}function Ge(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",48)(1,"div",8)(2,"div",9)(3,"div",10)(4,"div",11)(5,"div",12)(6,"h5",13),t._UZ(7,"i",75),t._uU(8," Filters "),t.qZA(),t.TgZ(9,"p",76),t._uU(10," Select & "),t.TgZ(11,"b"),t._uU(12,"Refine Seach"),t.qZA()()(),t.TgZ(13,"div",16)(14,"button",77),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).getListResultData()}),t._UZ(15,"i",78),t._uU(16," Filter "),t.qZA()()()()(),t.TgZ(17,"div",18)(18,"div",3),t.YNc(19,Be,8,7,"ng-container",22),t.qZA()()()()}if(2&n){const e=t.oxw(3);t.xp6(19),t.Q6J("ngForOf",null==e.listDto?null:e.listDto.listComponentFilterFieldList)}}function ze(n,r){if(1&n&&(t.TgZ(0,"div",46)(1,"div",3),t.YNc(2,He,24,5,"div",47),t.YNc(3,Ge,20,1,"div",47),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(2),t.Q6J("ngIf",e.isGroupContentDivVisible()),t.xp6(1),t.Q6J("ngIf",null==e.listDto?null:e.listDto.filterVisible)}}function Nt(n,r){if(1&n&&t._UZ(0,"i"),2&n){const e=t.oxw(2);t.Gre("fa ",e.listDto.icon,"")}}function We(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",88),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).dataExcel()}),t._UZ(1,"i",89),t.qZA()}}function je(n,r){1&n&&(t.TgZ(0,"button",90),t._UZ(1,"i",49),t.qZA())}function ve(n,r){if(1&n&&(t.ynx(0),t._UZ(1,"button",92),t.BQk()),2&n){const e=r.$implicit;t.xp6(1),t.MT6("btn ",e.code," ",e.bclass," btn-icon btn-sm")}}function xe(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"th",91),t.YNc(2,ve,2,4,"ng-container",22),t.qZA(),t.BQk()),2&n){const e=t.oxw(2);t.xp6(2),t.Q6J("ngForOf",null==e.listDto?null:e.listDto.listComponentActionFieldList)}}function jt(n,r){1&n&&t._UZ(0,"i",97)}function Xe(n,r){1&n&&t._UZ(0,"i",98)}function Ke(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"th",94),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit;return t.oxw(2).shortByColumnField(o.code)}),t._uU(1),t.YNc(2,jt,1,0,"i",95),t.YNc(3,Xe,1,0,"i",96),t.qZA()}if(2&n){const e=t.oxw().$implicit,i=t.oxw(2);t.Gre("th-header-",e.id," th-header-pointer"),t.xp6(1),t.hij(" ",e.description," "),t.xp6(1),t.Q6J("ngIf",e.code===i.selectedShortCode&&"desc"===i.selectedShortOrder),t.xp6(1),t.Q6J("ngIf",e.code===i.selectedShortCode&&"asc"===i.selectedShortOrder)}}function tn(n,r){if(1&n&&(t.ynx(0),t.YNc(1,Ke,4,6,"th",93),t.BQk()),2&n){const e=r.$implicit;t.xp6(1),t.Q6J("ngIf",e.visible)}}function Ce(n,r){if(1&n&&(t.ynx(0),t._UZ(1,"button",100),t.BQk()),2&n){const e=r.$implicit;t.xp6(1),t.Gre("btn ",e.code," btn-icon btn-sm")}}function en(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"th",99),t.YNc(2,Ce,2,3,"ng-container",22),t.qZA(),t.BQk()),2&n){const e=t.oxw(3);t.xp6(2),t.Q6J("ngForOf",null==e.listDto?null:e.listDto.listComponentActionFieldList)}}function nn(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"input",102),t.NdJ("ngModelChange",function(o){return t.CHM(e),t.oxw(2).$implicit.fieldValue=o})("keydown",function(o){t.CHM(e);const s=t.oxw(2).index;return t.oxw(3).columnFilterRefreshData(o,s)}),t.qZA()}if(2&n){const e=t.oxw(2).$implicit;t.Gre("form-control transparent-input header-filter-",e.code," ctrl-field"),t.Q6J("readonly",!1)("ngModel",e.fieldValue)}}function on(n,r){if(1&n&&(t.TgZ(0,"th"),t.YNc(1,nn,1,5,"input",101),t.qZA()),2&n){const e=t.oxw(),i=e.$implicit;t.IyS("th-header-filter-",i.id," header-col-",e.index," th-header-filter-",i.code,""),t.xp6(1),t.Q6J("ngIf",i.headerFilter)}}function Et(n,r){if(1&n&&(t.ynx(0),t.YNc(1,on,2,6,"th",14),t.BQk()),2&n){const e=r.$implicit;t.xp6(1),t.Q6J("ngIf",e.visible)}}function rn(n,r){if(1&n&&(t.TgZ(0,"tr"),t.YNc(1,en,3,1,"ng-container",0),t.YNc(2,Et,2,1,"ng-container",22),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",(null==e.listDto?null:e.listDto.listComponentActionFieldList.length)>0),t.xp6(1),t.Q6J("ngForOf",e.filterHiddenColumns(null==e.listDto?null:e.listDto.listComponentColumnFieldList))}}function sn(n,r){if(1&n&&(t.TgZ(0,"tr")(1,"td",103),t._uU(2," Empty! "),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(1),t.s9C("rowspan",e.calcColSpan(null==e.listDto?null:e.listDto.listComponentActionFieldList,null==e.listDto?null:e.listDto.listComponentColumnFieldList))}}function be(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",108),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,s=t.oxw(2).$implicit,a=t.oxw(2);return a.listRowButtonClick(s,a.listDto,o)}),t._UZ(1,"i"),t.qZA()}if(2&n){const e=t.oxw().$implicit;t.MT6("btn ",e.bclass," ",e.code," btn-icon btn-sm"),t.s9C("title",e.description),t.xp6(1),t.Gre("fa ",e.defaultValue,"")}}function Xt(n,r){if(1&n&&t._UZ(0,"div"),2&n){const e=t.oxw().$implicit;t.Gre("dropdown-divider ",e.code,"")}}function ln(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",114),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,s=t.oxw(4).$implicit,a=t.oxw(2);return a.listRowButtonClick(s,a.listDto,o)}),t._UZ(1,"i"),t._uU(2),t.qZA()}if(2&n){const e=t.oxw().$implicit;t.Gre("",e.code," menu-button"),t.xp6(1),t.MT6("fa ",e.defaultValue," ",e.bclass,""),t.xp6(1),t.hij(" ",e.description," ")}}function Te(n,r){if(1&n&&(t.ynx(0),t.YNc(1,Xt,1,3,"div",14),t.YNc(2,ln,3,8,"button",113),t.BQk()),2&n){const e=r.$implicit;t.xp6(1),t.Q6J("ngIf","#divider#"===e.editor),t.xp6(1),t.Q6J("ngIf","#divider#"!==e.editor)}}function an(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",109,110)(2,"button",111),t.NdJ("click",function(){return t.CHM(e),t.MAs(1).open()}),t._UZ(3,"i"),t.qZA(),t.TgZ(4,"div",112),t.YNc(5,Te,3,2,"ng-container",22),t.qZA()()}if(2&n){const e=t.oxw().$implicit;t.xp6(2),t.MT6("btn ",e.bclass," ",e.code," btn-icon btn-sm"),t.s9C("title",e.description),t.xp6(1),t.Gre("fa ",e.defaultValue,""),t.xp6(2),t.Q6J("ngForOf",null==e?null:e.listComponentActionFieldList)}}function ye(n,r){if(1&n&&(t.ynx(0),t.YNc(1,be,2,8,"button",106),t.YNc(2,an,6,9,"div",107),t.BQk()),2&n){const e=r.$implicit;t.xp6(1),t.Q6J("ngIf","#parent-menu#"!==e.editor),t.xp6(1),t.Q6J("ngIf","#parent-menu#"===e.editor)}}function Ze(n,r){if(1&n&&(t.TgZ(0,"td",105),t.YNc(1,ye,3,2,"ng-container",22),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",null==e.listDto?null:e.listDto.listComponentActionFieldList)}}function Pe(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"app-list-selector",117),t.NdJ("eventOccured",function(o){t.CHM(e);const s=t.oxw().$implicit,a=t.oxw().$implicit;return t.oxw(2).listEventOccured(o,s,a)})("valueChange",function(o){t.CHM(e);const s=t.oxw().$implicit;return t.oxw().$implicit[s.code]=o}),t.qZA(),t.BQk()}if(2&n){const e=t.oxw().$implicit,i=t.oxw().$implicit;t.xp6(1),t.Q6J("editable",e.editable)("command",e.editor)("listRow",i)("value",i[e.code])}}function we(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"app-date-picker",118),t.NdJ("inputDateChange",function(o){t.CHM(e);const s=t.oxw().$implicit;return t.oxw().$implicit[s.code]=o}),t.qZA(),t.BQk()}if(2&n){const e=t.oxw().$implicit,i=t.oxw().$implicit;t.xp6(1),t.Q6J("editable",e.editable)("inputDate",i[e.code])("mask","dd/MM/yyyy")}}function Kt(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"app-date-time-picker",118),t.NdJ("inputDateChange",function(o){t.CHM(e);const s=t.oxw().$implicit;return t.oxw().$implicit[s.code]=o}),t.qZA(),t.BQk()}if(2&n){const e=t.oxw().$implicit,i=t.oxw().$implicit;t.xp6(1),t.Q6J("editable",e.editable)("inputDate",i[e.code])("mask","dd/MM/yyyy")}}function pt(n,r){if(1&n&&(t.ynx(0),t._uU(1),t.ALo(2,"date"),t.BQk()),2&n){const e=t.oxw().$implicit,i=t.oxw().$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,i[e.code],"dd/MM/yyyy h:mm a")," ")}}function wt(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",80)(2,"app-numeric-input",119),t.NdJ("inputValueChange",function(o){t.CHM(e);const s=t.oxw().$implicit;return t.oxw().$implicit[s.code]=o}),t.qZA()(),t.BQk()}if(2&n){const e=t.oxw().$implicit,i=t.oxw().$implicit;t.xp6(2),t.Q6J("editable",e.editable)("inputValue",i[e.code])("mask","0*")}}function Lt(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"app-numeric-input",120),t.NdJ("inputValueChange",function(o){t.CHM(e);const s=t.oxw().$implicit;return t.oxw().$implicit[s.code]=o}),t.qZA(),t.BQk()}if(2&n){const e=t.oxw().$implicit,i=t.oxw().$implicit;t.xp6(1),t.Q6J("editable",e.editable)("inputValue",i[e.code])("mask","0*.0000")}}function Ut(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"input",121),t.NdJ("ngModelChange",function(o){t.CHM(e);const s=t.oxw().$implicit;return t.oxw().$implicit[s.code]=o}),t.qZA(),t.BQk()}if(2&n){const e=t.oxw().$implicit,i=t.oxw().$implicit;t.xp6(1),t.Q6J("readonly",!e.editable)("ngModel",i[e.code])}}function te(n,r){if(1&n&&(t.ynx(0),t._UZ(1,"input",122),t.BQk()),2&n){const e=t.oxw().$implicit,i=t.oxw().$implicit;t.xp6(1),t.s9C("value",i[e.code])}}function cn(n,r){if(1&n&&(t.ynx(0),t._UZ(1,"span",123),t.BQk()),2&n){const e=t.oxw().$implicit,i=t.oxw().$implicit;t.xp6(1),t.Q6J("innerHTML",i[e.code],t.oJD)}}function dn(n,r){if(1&n&&t._UZ(0,"img",125),2&n){const e=t.oxw(2).$implicit,i=t.oxw().$implicit,o=t.oxw(2);t.Q6J("src",o.trustResource(i[e.code]),t.LSH)}}function St(n,r){if(1&n&&(t.ynx(0),t.YNc(1,dn,1,1,"img",124),t.BQk()),2&n){const e=t.oxw().$implicit,i=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",""!=i[e.code]&&null!=i[e.code])}}function R(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"td",115),t.NdJ("focusout",function(){const s=t.CHM(e).$implicit,a=t.oxw().$implicit;return t.oxw(2).listFieldFocusOut(s,a)})("focusin",function(){const s=t.CHM(e).$implicit,a=t.oxw().$implicit;return t.oxw(2).listFieldFocusIn(a[s.code])})("keydown",function(o){const a=t.CHM(e).index,p=t.oxw(),_=p.index,m=p.$implicit;return t.oxw(2).cellsKeyDown(o,_,a,m)}),t.TgZ(2,"span",116),t._uU(3),t.qZA(),t.YNc(4,Pe,2,4,"ng-container",0),t.YNc(5,we,2,3,"ng-container",0),t.YNc(6,Kt,2,3,"ng-container",0),t.YNc(7,pt,3,4,"ng-container",0),t.YNc(8,wt,3,3,"ng-container",0),t.YNc(9,Lt,2,3,"ng-container",0),t.YNc(10,Ut,2,2,"ng-container",0),t.YNc(11,te,2,1,"ng-container",0),t.YNc(12,cn,2,1,"ng-container",0),t.YNc(13,St,2,1,"ng-container",0),t.qZA(),t.BQk()}if(2&n){const e=r.$implicit,i=r.index,o=t.oxw().index;t.xp6(1),t.O5Y("\n                               ",e.bclass,"\n                               col-",e.id,"\n                               col-",e.code,"\n                               col-",e.code,"-",o,"\n                               row-",o,"-col-",i,"\n                               row-col"),t.xp6(2),t.Oqu(e.description),t.xp6(1),t.Q6J("ngIf","list"===e.type),t.xp6(1),t.Q6J("ngIf","datetime"===e.type),t.xp6(1),t.Q6J("ngIf","datetime_det"===e.type),t.xp6(1),t.Q6J("ngIf","datetime_det_simple"===e.type),t.xp6(1),t.Q6J("ngIf","int"===e.type||"bigint"===e.type),t.xp6(1),t.Q6J("ngIf","double"===e.type),t.xp6(1),t.Q6J("ngIf","varchar"===e.type||"text"===e.type),t.xp6(1),t.Q6J("ngIf","field"===e.type),t.xp6(1),t.Q6J("ngIf","simple-field"===e.type),t.xp6(1),t.Q6J("ngIf","image-viewer"===e.type)}}function mt(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"tr"),t.YNc(2,Ze,2,1,"td",104),t.YNc(3,R,14,20,"ng-container",22),t.qZA(),t.BQk()),2&n){const e=r.$implicit,i=t.oxw(2);t.xp6(1),t.Tol(e.bclass),t.xp6(1),t.Q6J("ngIf",(null==i.listDto?null:i.listDto.listComponentActionFieldList.length)>0),t.xp6(1),t.Q6J("ngForOf",i.filterHiddenColumns(null==i.listDto?null:i.listDto.listComponentColumnFieldList))}}function rt(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"a",45),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return o.navigateToPage((null==o.listResultsData?null:o.listResultsData.currentPage)-1)}),t._uU(1),t.qZA()}if(2&n){const e=t.oxw(3);t.xp6(1),t.Oqu(null==e.listResultsData?null:e.listResultsData.currentPage)}}function K(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"a",45),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return o.navigateToPage((null==o.listResultsData?null:o.listResultsData.currentPage)+1)}),t._uU(1),t.qZA()}if(2&n){const e=t.oxw(3);t.xp6(1),t.Oqu((null==e.listResultsData?null:e.listResultsData.currentPage)+2)}}function Ot(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"ul",126)(1,"li",32),t._uU(2," Page "),t.qZA(),t.TgZ(3,"li",33)(4,"a",34),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).navigateToPage(0)}),t.TgZ(5,"span",35),t._UZ(6,"i",36),t.qZA()()(),t.TgZ(7,"li",33)(8,"a",37),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return o.navigateToPage((null==o.listResultsData?null:o.listResultsData.currentPage)-1)}),t.TgZ(9,"span",35),t._UZ(10,"i",38),t.qZA()()(),t.TgZ(11,"li",33),t.YNc(12,rt,2,1,"a",39),t.qZA(),t.TgZ(13,"li",40)(14,"a",41),t._uU(15),t.qZA()(),t.TgZ(16,"li",33),t.YNc(17,K,2,1,"a",39),t.qZA(),t.TgZ(18,"li",33)(19,"a",42),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return o.navigateToPage((null==o.listResultsData?null:o.listResultsData.currentPage)+1)}),t.TgZ(20,"span",35),t._UZ(21,"i",43),t.qZA()()(),t.TgZ(22,"li",33)(23,"a",42),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return o.navigateToPage((null==o.listResultsData?null:o.listResultsData.totalPages)-1)}),t.TgZ(24,"span",35),t._UZ(25,"i",44),t.qZA()()(),t.TgZ(26,"li",32),t._uU(27),t.qZA()()}if(2&n){const e=t.oxw(2);t.xp6(12),t.Q6J("ngIf",e.showPrevPagination),t.xp6(3),t.Oqu((null==e.listResultsData?null:e.listResultsData.currentPage)+1),t.xp6(2),t.Q6J("ngIf",e.showNextPagination),t.xp6(10),t.hij(" of Total ",null==e.listResultsData?null:e.listResultsData.totalPages," Pages ")}}function z(n,r){if(1&n&&(t.ynx(0),t.YNc(1,P,11,7,"div",1),t.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),t.YNc(6,ze,4,2,"div",6),t.TgZ(7,"div",7)(8,"div",8)(9,"div",9)(10,"div",10)(11,"div",11)(12,"div",12)(13,"h5",13),t.YNc(14,Nt,1,3,"i",14),t._uU(15),t.qZA(),t._UZ(16,"p",15),t.qZA(),t.TgZ(17,"div",16),t.YNc(18,We,2,0,"button",17),t.qZA()()()(),t.TgZ(19,"div",18),t.YNc(20,je,2,0,"button",19),t.TgZ(21,"table",20)(22,"thead",21)(23,"tr"),t.YNc(24,xe,3,1,"ng-container",0),t.YNc(25,tn,2,1,"ng-container",22),t.qZA(),t.YNc(26,rn,3,2,"tr",0),t.qZA(),t.TgZ(27,"tbody",null,23),t.YNc(29,sn,3,1,"tr",0),t.YNc(30,mt,4,5,"ng-container",22),t.qZA()(),t.YNc(31,Ot,28,4,"ul",24),t.qZA()()()()()()(),t.BQk()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.showTopHeader()),t.xp6(1),t.Q6J("ngClass",t.VKq(17,it,null==e.listResultsData)),t.xp6(4),t.Q6J("ngIf",e.isGroupContentDivVisible()||e.listDto.filterVisible),t.xp6(8),t.Q6J("ngIf",null!=e.listDto.icon&&""!=e.listDto.icon),t.xp6(1),t.hij(" ",e.listDto.title," "),t.xp6(1),t.Q6J("innerHTML",e.listDto.description,t.oJD),t.xp6(2),t.Q6J("ngIf",null==e.listDto?null:e.listDto.exportExcel),t.xp6(2),t.Q6J("ngIf",e.isGroupContentDivVisible()),t.xp6(4),t.Q6J("ngIf",(null==e.listDto?null:e.listDto.listComponentActionFieldList.length)>0),t.xp6(1),t.Q6J("ngForOf",null==e.listDto?null:e.listDto.listComponentColumnFieldList),t.xp6(1),t.Q6J("ngIf",null==e.listDto?null:e.listDto.headerFilters),t.xp6(1),t.Gre("list-table-body list-table-body-",e.listDto.id,""),t.xp6(2),t.Q6J("ngIf",0===(null==e.listResultsData?null:e.listResultsData.listContent.length)),t.xp6(1),t.Q6J("ngForOf",e.filterHiddenRows(null==e.listResultsData?null:e.listResultsData.listContent)),t.xp6(1),t.Q6J("ngIf",null==e.listDto?null:e.listDto.hasPagination)}}let B=(()=>{class n extends Y.I{constructor(e,i,o,s,a,p,_,m,h,Z,w,J){super(),this.service=e,this.commandNavigatorService=i,this.notificationService=o,this.datepipe=s,this.activatedRoute=a,this.tableComponentService=p,this.title=_,this.listScriptsService=m,this.dynamicCssScriptLoader=h,this.languageService=Z,this.listSearchService=w,this.sanitizer=J,this.listDto=null,this.showPrevPagination=!1,this.showNextPagination=!1,this.listHeaderVisible=!1,this.filterHeaderVisible=!1,this.filterBodyVisible=!1,this.listBodyVisible=!0,this.selectedShortCode="",this.selectedShortOrder="desc",this.customCommand="",this.runCustomCommand=!1}ngOnInit(){this.runCustomCommand&&this.setPresetCommand(this.customCommand),this.initNav(this.activatedRoute),this.refresh()}ngAfterViewInit(){this.applyHeaderSearchFilter(),this.applyLanguageSelection()}ngOnDestroy(){this.listSearchSubject.unsubscribe(),this.languageSelectionSubject.unsubscribe()}applyLanguageSelection(){this.languageSelectionSubject=this.languageService.languageSelectionEmmiter.subscribe(e=>{this.refresh()})}applyHeaderSearchFilter(){this.listSearchSubject=this.listSearchService.listSearchEmmiter.subscribe(e=>{this.listResultsData?.listContent.forEach(i=>{let o=!1;this.listDto?.listComponentColumnFieldList.forEach(s=>{const a=i[s.code];null!=a&&s.visible&&(a.toString().toUpperCase().includes(e.toUpperCase())||""===e)&&(o=!0)}),i["hide-row"]=!o})})}refresh(){const e=this.getLocateParams().get("ID"),i=JSON.parse(localStorage.getItem("loggedin_user")).currentLanguage,o=null==i?0:i.id;this.listDto=new Ee,this.service.getVersion(e).pipe((0,I.b)(s=>this.service.getListById(e,s,o))).subscribe(s=>{localStorage.setItem("cachedList"+e+"-"+o,JSON.stringify(s)),this.listDto=s,this.listHeaderVisible=this.listDto.listVisible,this.filterHeaderVisible=this.listDto.filterVisible,this.setDafaultCommandParams(),this.dynamicCssScriptLoader.addScript(e,"list"),this.defineTitle(),this.focusElement(),this.listScriptsService.loadWithPromise(this).then(a=>{this.listDto.autoRun&&this.getListResultData()})})}defineTitle(){this.commandShowCustomTitle()&&this.title.setTitle(this.getWindowCustomTitleFromCommand())}getListResultData(e=!0){const i=JSON.parse(localStorage.getItem("loggedin_user")).currentLanguage,o=null==i?0:i.id;let s=!1;for(const _ of this.listDto.listComponentFilterFieldList)(null==_.fieldValue||""===_.fieldValue)&&_.required&&(this.notificationService.showNotification("top","center","alert-danger","fa-id-card","<b>Filters error</b> Required filter field "+_.description+" is empty!"),s=!0);if(s)return;const a=new Map,p=this.listDto.listComponentFilterFieldList.concat(this.listDto.listComponentLeftGroupFieldList).concat(this.listDto.listComponentColumnFieldList);for(const _ of p)if(null!=_.fieldValue&&""!==_.fieldValue){let m="";m=["datetime","datetime_det"].includes(_.type)&&"function"==typeof _?.fieldValue?.toISOString?null==_.fieldValue?"":_?.fieldValue?.toISOString():_.fieldValue,a.set(_.code,m)}""!==this.selectedShortCode&&(a.set("sel-sort-code",this.selectedShortCode),a.set("sel-sort-order",this.selectedShortOrder)),this.service.getListResult(a,0,this.listDto.id,o).subscribe(_=>{this.listResultsData=_,this.setPaginationSettings(),e&&this.getGroupResultData(a),this.listScriptsService.triggerListEvent(this.listDto.id,"onListDataLoaded",_)})}setPaginationSettings(){!this.listDto.hasPagination||(this.showPrevPagination=this.listResultsData.currentPage>0,this.showNextPagination=this.listResultsData.currentPage+1<this.listResultsData.totalPages)}getGroupResultData(e){const i=JSON.parse(localStorage.getItem("loggedin_user")).currentLanguage;null!=this.listDto.listComponentLeftGroupFieldList&&0!==this.listDto.listComponentLeftGroupFieldList.length&&this.service.getGroupResult(e,this.listDto.id,null==i?0:i.id).subscribe(s=>{this.groupContent=s,this.initializeGroupContentVisibility(this.listResultsData.groupContent,!1),this.initializeGroupContentParrents(this.listResultsData.groupContent)})}listRowButtonClick(e,i,o){this.listScriptsService.listNativeRowButtonClickHandler(this.listDto.id,o.code,e);let s=o.editor;"#select"!==s&&"RETURN"!==s.toUpperCase()?""!==s.toUpperCase()&&(i.listComponentColumnFieldList.forEach((a,p)=>{s=s.replace("#"+a.code,e[a.code])}),s=s.replace("$PAGEID",this.pageId),this.listDeleteCommandExecute(s),this.commandNavigatorService.navigate(s)):this.emitReturningValues(e)}listDeleteCommandExecute(e){const i=this.commandParserService.parse(e);"LIST-DELETE"===i.get("COMMAND-TYPE")&&i.has("COMPONENT-ID")&&i.has("SELECTION-ID")&&this.tableComponentService.deleteComponentData(i.get("COMPONENT-ID"),i.get("SELECTION-ID")).subscribe(s=>{this.getListResultData()})}updateVisibility(e){e.childrenVisible=!e.childrenVisible}filterGroup(e){this.clearValuesToListComponentLeftGroupFieldList(),this.setValueToListComponentLeftGroupFieldList(e.code,e.value),null!=e.parrent&&this.filterGroupParrent(e.parrent),this.getListResultData(!1)}filterGroupOnField(e){let i=!1,o=!1;for(const s of this.listDto.listComponentLeftGroupFieldList)i&&(s.fieldValue="",o=!0),s.id===e.id&&(i=!0);o&&this.getListResultData(!1)}clearFilterGroup(){this.clearValuesToListComponentLeftGroupFieldList(),this.getListResultData(!1)}filterGroupParrent(e){this.setValueToListComponentLeftGroupFieldList(e.code,e.value),null!=e.parrent&&this.filterGroupParrent(e.parrent)}isGroupContentDivVisible(){return this.listDto.listComponentLeftGroupFieldList.length>0}dataExcel(){const e=JSON.parse(localStorage.getItem("loggedin_user")).currentLanguage;this.service.getListResultDataExcel(this.listDto,null==e?0:e.id).subscribe(o=>{new Blob([o],{type:"application/xlsx"});const a=window.URL.createObjectURL(o),p=document.createElement("a");p.href=a,p.download="list-data.xlsx",p.click()})}columnFilterRefreshData(e,i){if(e.shiftKey&&"ArrowLeft"===e.key){const o=document.getElementsByClassName("header-col-"+(i-1));o.length>0&&this.findContorlField(o[0].children)}if(e.shiftKey&&"ArrowRight"===e.key){const o=document.getElementsByClassName("header-col-"+(i+1));o.length>0&&this.findContorlField(o[0].children)}if(e.shiftKey&&"ArrowDown"===e.key){const o=document.getElementsByClassName("row-0-col-"+i);o.length>0&&this.findContorlField(o[0].children)}e.altKey&&"Enter"===e.key&&1===this.listResultsData.listContent.length&&this.emitReturningValues(this.listResultsData.listContent[0]),"Enter"===e.key&&this.getListResultData(!1)}emitReturningValues(e){if(this.params.has("RETURN")){const i=[],o=this.params.get("RETURN");o in e&&(i.RETURN=e[o]);const s=[],a=this.getReturningDisplayValues();for(const[p,_]of a)p in e&&s.push(e[p]);i["RETURN-DISLPAY"]=s.join(" "),i.EXECUTED=!0,this.selectEmmiter.emit(i)}}navigateToPage(e){const i=JSON.parse(localStorage.getItem("loggedin_user")).currentLanguage,o=null==i?0:i.id;if(e<0||e>this.listResultsData.totalPages-1)return;this.listDto.currentPage=e;const s=new Map,a=this.listDto.listComponentFilterFieldList.concat(this.listDto.listComponentLeftGroupFieldList).concat(this.listDto.listComponentColumnFieldList);for(const p of a)if(null!=p.fieldValue&&""!==p.fieldValue){let _="";_=["datetime","datetime_det"].includes(p.type)?null==p.fieldValue?"":p?.fieldValue?.toISOString():p.fieldValue,s.set(p.code,_)}""!==this.selectedShortCode&&(s.set("sel-sort-code",this.selectedShortCode),s.set("sel-sort-order",this.selectedShortOrder)),this.service.getListResult(s,e,this.listDto.id,o).subscribe(p=>{this.listResultsData=p,this.setPaginationSettings()})}setFilterBodyVisible(){this.filterBodyVisible=!0,this.listBodyVisible=!1}setListBodyVisible(){this.filterBodyVisible=!1,this.listBodyVisible=!0}showPreviousPageButton(){return null!==this.previousPage}navigateToPreviousPage(){this.commandNavigatorService.navigateToPreviousPage(this.pageId)}headerActionButtonClicked(e){this.listScriptsService.listNativeHeaderButtonClickHandler(this.listDto.id,e.code),this.commandNavigatorService.navigate(e.editor)}showTopHeader(){return(null==this.listDto.headerIcon?0:this.listDto.headerIcon.length)>0||(null==this.listDto.headerTitle?0:this.listDto.headerTitle.length)>0||(null==this.listDto.headerDescription?0:this.listDto.headerDescription.length)>0}groupHasChildred(e){return e.filter(o=>""!==(o.value??"")).length>0}hasSelections(e){return e.filter(o=>""!==(o.fieldValue??"")).length>0}calcColSpan(e,i){let o=0;return null!=i&&(o=i.length),null!=e&&e.length>0&&(o+=1),o}filterHiddenColumns(e){return null==e?null:e.filter(i=>i.visible)}filterHiddenRows(e){return null==e?null:e.filter(i=>!0!==i["hide-row"])}cellsKeyDown(e,i,o,s){if(e.shiftKey&&"ArrowLeft"===e.key){const a=document.getElementsByClassName("row-"+i+"-col-"+(o-1));a.length>0&&this.findContorlField(a[0].children)}if(e.shiftKey&&"ArrowRight"===e.key){const a=document.getElementsByClassName("row-"+i+"-col-"+(o+1));a.length>0&&this.findContorlField(a[0].children)}if(e.shiftKey&&"ArrowUp"===e.key){let a;a=0===i?document.getElementsByClassName("header-col-"+o):document.getElementsByClassName("row-"+(i-1)+"-col-"+o),a.length>0&&this.findContorlField(a[0].children)}if(e.shiftKey&&"ArrowDown"===e.key){const a=document.getElementsByClassName("row-"+(i+1)+"-col-"+o);a.length>0&&this.findContorlField(a[0].children)}e.altKey&&"Enter"===e.key&&this.emitReturningValues(s)}listFieldFocusIn(e){this.focusedFieldValue=e}listFieldFocusOut(e,i){if(!e.editable||"field"===e.type||"list"===e.type)return;let o,s;["datetime","datetime_det"].includes(e.type)?(o=null==this.focusedFieldValue?"":this.focusedFieldValue.toString(),s=null==i[e.code]?"":i[e.code].toString()):(o=this.focusedFieldValue,s=i[e.code]),o!==s&&this.updateListField(e,i)}listEventOccured(e,i,o){["listselected","listcleared"].includes(e.eventtype)&&this.updateListField(i,o)}updateListField(e,i){const o=JSON.parse(localStorage.getItem("loggedin_user")).currentLanguage,s=null==o?0:o.id;if(null==e.editableRelFieldCode||""===e.editableRelFieldCode||null===i[e.editableRelFieldCode]||""===i[e.editableRelFieldCode])return;let a=null;a=["datetime","datetime_det"].includes(e.type)?null==i[e.code]?"":i[e.code].toISOString():i[e.code],this.service.updateField(this.listDto.id,i[e.editableRelFieldCode],e.code,a,s).subscribe()}shortByColumnField(e){this.selectedShortCode===e?this.selectedShortOrder="asc"===this.selectedShortOrder?"desc":"asc":(this.selectedShortCode=e,this.selectedShortOrder="desc"),this.getListResultData(!1)}setDafaultCommandParams(){this.getParams("DEFAULTS").forEach((e,i)=>{this.listDto.listComponentFilterFieldList.filter(o=>o.code===i).forEach(o=>o.fieldValue=e),this.listDto.listComponentColumnFieldList.filter(o=>o.code===i).forEach(o=>o.fieldValue=e)})}initializeGroupContentParrents(e){if(null!=e)for(const i of e)if(null!==i.children){for(const o of i.children)o.parrent=i;this.initializeGroupContentParrents(i.children)}}initializeGroupContentVisibility(e,i){if(null!=e)for(const o of e)o.childrenVisible=i,null!==o.children&&this.initializeGroupContentVisibility(o.children,i)}clearValuesToListComponentLeftGroupFieldList(){for(const e of this.listDto.listComponentLeftGroupFieldList)e.fieldValue=""}setValueToListComponentLeftGroupFieldList(e,i){for(const o of this.listDto.listComponentLeftGroupFieldList)o.code===e&&(o.fieldValue=i)}findContorlField(e){for(let i=0;i<e.length;i++)if(e[i].classList.contains("ctrl-field"))return e[i].focus(),!0;for(let i=0;i<e.length;i++)if(this.findContorlField(e[i].children))return!0;return!1}trustResource(e){return this.sanitizer.bypassSecurityTrustResourceUrl(e)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(At),t.Y36(A.s),t.Y36(vt.g),t.Y36(v.uU),t.Y36(D.gz),t.Y36(nt.q),t.Y36(q.Dx),t.Y36(Ct),t.Y36(de.z),t.Y36(Ue.T),t.Y36(pe.E),t.Y36(q.H7))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-list"]],inputs:{customCommand:"customCommand",runCustomCommand:"runCustomCommand"},features:[t.qOj],decls:1,vars:1,consts:[[4,"ngIf"],["class","row formnav",4,"ngIf"],[1,"tab-pane","form-area",3,"ngClass"],[1,"row"],[1,"col"],[1,"row",2,"padding-right","10px","padding-left","10px"],["class","col-md-3 col-sm-12 col-12 entity-parent-col","style","padding-right: 5px;padding-left: 5px;",4,"ngIf"],[1,"col",2,"padding-right","5px","padding-left","5px"],[1,"card"],[1,"card-header"],[1,"row","formnav"],[1,"col-12"],[1,"pull-left"],[1,"card-title",2,"margin-bottom","0px"],[3,"class",4,"ngIf"],[2,"margin-bottom","5px",3,"innerHTML"],[1,"pull-right"],["type","button","title","Excel","class","btn btn-outline-primary btn-icon btn-sm",3,"click",4,"ngIf"],[1,"card-body"],["type","button","style","position: absolute; top: 15px; left: 17px;display: none;","class","btn btn-outline-default btn-icon btn-sm",4,"ngIf"],[1,"table","table-striped","table-fixed",2,"margin-bottom","0rem"],[1,"text-primary","list-table-head"],[4,"ngFor","ngForOf"],["ltb",""],["class","pagination pull-right",4,"ngIf"],[1,"col-sm-12"],[2,"margin-top","20px","margin","0px","margin-top","10px"],[2,"padding-right","5px"],["style","margin-top: 0px;",3,"class","click",4,"ngFor","ngForOf"],["class","header-pagination pagination pull-right",4,"ngIf"],[2,"margin-top","0px",3,"click"],[1,"header-pagination","pagination","pull-right"],[1,"page-item","page-item-label"],[1,"page-item"],["aria-label","First","disabled","",1,"page-link",3,"click"],["aria-hidden","true"],["aria-hidden","true",1,"fa","fa-angles-left"],["aria-label","Previous","disabled","",1,"page-link",3,"click"],["aria-hidden","true",1,"fa","fa-angle-left"],["class","page-link",3,"click",4,"ngIf"],[1,"page-item","active"],[1,"page-link"],["aria-label","Next",1,"page-link",3,"click"],["aria-hidden","true",1,"fa","fa-angle-right"],["aria-hidden","true",1,"fa","fa-angles-right"],[1,"page-link",3,"click"],[1,"col-md-3","col-sm-12","col-12","entity-parent-col",2,"padding-right","5px","padding-left","5px"],["style","margin-bottom: 10px;","class","col-12",4,"ngIf"],[1,"col-12",2,"margin-bottom","10px"],[1,"fas","fa-stream"],["class","row",4,"ngIf"],[1,"row",2,"padding-right","15px","padding-left","15px"],["recursiveList",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"btn-group"],["type","button","class","btn left-group-button btn-outline-info active-header","style","padding: 2px;font-size: 10px;",3,"click",4,"ngIf"],["type","button","class","btn left-group-button btn-outline-success active-header","style","padding: 2px;font-size: 10px;",3,"click",4,"ngIf"],["type","button","class","btn left-group-button btn-outline-default active-header","style","padding: 2px;font-size: 10px;border: 2px solid #959494 !important; color: #959494;",4,"ngIf"],[1,"btn","left-group-button","btn-outline-default",2,"border","1px solid #66615b !important","text-align","left",3,"innerHTML","click"],["type","button",1,"btn","left-group-button","btn-outline-info","active-header",2,"padding","2px","font-size","10px",3,"click"],[1,"fa","fa-plus"],["type","button",1,"btn","left-group-button","btn-outline-success","active-header",2,"padding","2px","font-size","10px",3,"click"],[1,"fa","fa-minus"],["type","button",1,"btn","left-group-button","btn-outline-default","active-header",2,"padding","2px","font-size","10px","border","2px solid #959494 !important","color","#959494"],[1,"fas","fa-circle",2,"color","#959494"],[1,"float-left"],[2,"color","#ff733e","cursor","pointer",3,"click"],[1,"fas","fa-trash"],["class","","style","padding-left: 0px;padding-right: 0px;",4,"ngIf"],["class","","style","padding-left: 0px;padding-right: 0px;padding-top: 2px;",4,"ngIf"],[1,"",2,"padding-left","0px","padding-right","0px"],[1,"fas","fa-angle-double-right",2,"padding-top","8px"],[1,"",2,"padding-left","0px","padding-right","0px","padding-top","2px"],[1,"text-center"],[1,"btn","left-group-button","btn-outline-default",2,"border","1px solid #66615b !important",3,"innerHTML","click"],[1,"fas","fa-filter"],[2,"margin-bottom","5px"],[1,"btn","btn-outline-success",2,"margin-top","0px",3,"click"],[1,"fa","fa-filter"],[3,"ngClass"],[1,"form-group"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"text-danger",3,"ngClass"],[3,"inputValue","mask","editable","inputValueChange"],["readonly","",3,"inputValue","mask","editable","inputValueChange"],[3,"editable","command","defaultValue","displayValue","value","valueChange"],[3,"inputDate","mask","editable","inputDateChange"],[1,"form-input-field",3,"value","comboOptions","defaultValue","editable","valueChange"],["type","button","title","Excel",1,"btn","btn-outline-primary","btn-icon","btn-sm",3,"click"],[1,"fa","fa-file-excel-o"],["type","button",1,"btn","btn-outline-default","btn-icon","btn-sm",2,"position","absolute","top","15px","left","17px","display","none"],[1,"table-title-buttons",2,"max-width","fit-content"],["type","button",2,"visibility","hidden","height","2px"],[3,"class","click",4,"ngIf"],[3,"click"],["aria-hidden","true","class","fa fa-caret-down",4,"ngIf"],["aria-hidden","true","class","fa fa-caret-up",4,"ngIf"],["aria-hidden","true",1,"fa","fa-caret-down"],["aria-hidden","true",1,"fa","fa-caret-up"],[1,"header-action-corner",2,"max-width","fit-content"],["type","button",2,"visibility","hidden"],["type","text",3,"class","readonly","ngModel","ngModelChange","keydown",4,"ngIf"],["type","text",3,"readonly","ngModel","ngModelChange","keydown"],[1,"empty-table",3,"rowspan"],["class","td-action","style","max-width: fit-content;",4,"ngIf"],[1,"td-action",2,"max-width","fit-content"],["type","button","style","margin-top: 4px;",3,"title","class","click",4,"ngIf"],["ngbDropdown","","class","d-inline-block","style","margin-top: 4px;",4,"ngIf"],["type","button",2,"margin-top","4px",3,"title","click"],["ngbDropdown","",1,"d-inline-block",2,"margin-top","4px"],["myDrop","ngbDropdown"],[3,"title","click"],["ngbDropdownMenu",""],["ngbDropdownAnchor","",3,"class","click",4,"ngIf"],["ngbDropdownAnchor","",3,"click"],[3,"focusout","focusin","keydown"],[1,"cell-headers-descr"],[3,"editable","command","listRow","value","eventOccured","valueChange"],[3,"editable","inputDate","mask","inputDateChange"],[1,"form-input-field",3,"editable","inputValue","mask","inputValueChange"],[3,"editable","inputValue","mask","inputValueChange"],["type","text","mask","",1,"form-control","transparent-input","ctrl-field",3,"readonly","ngModel","ngModelChange"],["type","text","readonly","",1,"form-control","transparent-input","ctrl-field",3,"value"],[3,"innerHTML"],[3,"src",4,"ngIf"],[3,"src"],[1,"pagination","pull-right"]],template:function(e,i){1&e&&t.YNc(0,z,32,19,"ng-container",0),2&e&&t.Q6J("ngIf",null!=i.listDto)},directives:[v.O5,v.sg,v.mk,v.tP,T.Fj,T.JJ,T.On,ue.A,bt.p,Gt.L,Se.J,Tt.o,zt.jt,zt.Vi,zt.YE,Ft.hx],pipes:[v.uU],styles:['.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{margin:0 1px;background-color:transparent!important;color:#66615b!important;border:2px solid #66615B!important;border-width:1px;border-radius:30px;padding-right:23px;padding-left:23px}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{background-color:transparent!important;border:2px solid #11b3b3!important}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{background-color:#a5a19d!important;color:#fff!important}.nav-tabs[_ngcontent-%COMP%]{border-bottom:0px solid transparent}.nav-tabs-navigation[_ngcontent-%COMP%]{padding-top:8px}.form-group[_ngcontent-%COMP%]{margin:0!important}.input-group[_ngcontent-%COMP%]{margin-bottom:0!important}[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px;height:2px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#dee2e6}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#78cbce}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#11abab}.card[_ngcontent-%COMP%]{margin:0}.card-header[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{padding:0!important}.table-fixed[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{width:100%}.table-fixed[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], .table-fixed[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{display:block}.table-fixed[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{border-top:1px solid #caeff0;border-bottom:1px solid #caeff0;border-left:0px;border-right:0px}.empty-table[_ngcontent-%COMP%]{padding:20px!important;text-align:center!important;font-style:italic!important}.table-fixed[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.table-fixed[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table-fixed[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{flex-basis:0;flex-grow:1;max-width:100%;padding:1px}.table-fixed[_ngcontent-%COMP%]   .sortable[_ngcontent-%COMP%]:after{content:"\\f0dc";position:relative;bottom:1px;display:inline-block;right:-7px;font-family:FontAwesome;opacity:.4;font-size:11px}.col-10-percent[_ngcontent-%COMP%]{flex:0 0 10%;max-width:10%}ul[_ngcontent-%COMP%]{padding-left:7px}li[_ngcontent-%COMP%]{list-style-type:none;padding-left:0;text-align:left}.btn[_ngcontent-%COMP%]{margin:2px;background:white}.left-group-button[_ngcontent-%COMP%]{padding:2px 6px}@media (min-width: 768px){.col-md-2[_ngcontent-%COMP%]{padding:0 0 0 15px}}@media (max-width: 768px){.col-12[_ngcontent-%COMP%]{padding-bottom:5px!important}}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%], .nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{background-color:#fffffffa!important}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]:hover{color:#11b3b3!important}.pagination[_ngcontent-%COMP%]{margin:10px 1px 1px}.pagination[_ngcontent-%COMP%]   .page-item.active[_ngcontent-%COMP%] > .page-link[_ngcontent-%COMP%], .pagination[_ngcontent-%COMP%]   .page-item.active[_ngcontent-%COMP%] > .page-link[_ngcontent-%COMP%]:focus, .pagination[_ngcontent-%COMP%]   .page-item.active[_ngcontent-%COMP%] > .page-link[_ngcontent-%COMP%]:hover, .pagination[_ngcontent-%COMP%]   .paginate_button.active[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .pagination[_ngcontent-%COMP%]   .paginate_button.active[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus, .pagination[_ngcontent-%COMP%]   .paginate_button.active[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#51cbce;color:#fff}.pagination[_ngcontent-%COMP%]   .page-item[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%], .pagination[_ngcontent-%COMP%]   .paginate_button[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{border:0;border-radius:10px!important;transition:all .3s;padding:0 11px;margin:0 3px;min-width:30px;text-align:center;height:30px;line-height:30px;color:#2c2c2c;cursor:pointer;font-size:14px;text-transform:uppercase;background:0 0;outline:0}.is-hidden[_ngcontent-%COMP%]{display:none}.btn-outline-default[_ngcontent-%COMP%]{background-color:#fff!important}.btn-outline-default[_ngcontent-%COMP%]:focus, .btn-outline-default[_ngcontent-%COMP%]:active, .btn-outline-default[_ngcontent-%COMP%]:focus:active, .btn-outline-default.active[_ngcontent-%COMP%], .open[_ngcontent-%COMP%] > .btn-outline-default.dropdown-toggle[_ngcontent-%COMP%]{background-color:#fff!important;color:#66615b!important;border-color:#3cb3b3!important}.btn-outline-default[_ngcontent-%COMP%]:hover{background-color:#fff!important;color:#297a7a!important;border-color:#3cb3b3!important}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:0 15px 15px}.dropdown-menu[_ngcontent-%COMP%]:before{border-bottom:11px solid #FFFFFF;border-left:11px solid rgba(0,0,0,0);border-right:11px solid rgba(0,0,0,0);content:"";display:inline-block;position:absolute;left:7px;top:-11px}.filters-area[_ngcontent-%COMP%]{padding-right:0}.form-control[_ngcontent-%COMP%]{padding:10px}.form-control[_ngcontent-%COMP%]:focus{border:1px solid #057da1;color:#044a5e}.th-header-pointer[_ngcontent-%COMP%]{cursor:pointer}.page-item-label[_ngcontent-%COMP%]{padding-top:4px;font-size:13px;font-style:italic}.header-pagination[_ngcontent-%COMP%]{border:1px solid #51ccce!important;background-color:#ffffffe6;padding:4px 10px;border-radius:0;margin:11px 1px 1px 5px;font-weight:600;font-size:.8571em;font-style:normal;color:#309ea0}.table-fixed[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .cell-headers-descr[_ngcontent-%COMP%]{display:none;font-weight:700}@media only screen and (max-width: 992px){.table-fixed[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{display:none}.table-fixed[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{margin-bottom:10px;margin-top:10px}.table-fixed[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{min-width:100%;border-top:none}.table-fixed[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .cell-headers-descr[_ngcontent-%COMP%]{display:block}.table-fixed[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{padding-top:5px;padding-bottom:5px;border-top:1px solid #dee2e6}}']}),n})();var ee=x(3174);let Le=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-empty"]],decls:0,vars:0,template:function(e,i){},styles:["path.link{stroke:#5f5f5f;stroke-width:2px}  circle.node{stroke-width:1.5px;cursor:pointer}  circle.node.reflexive{stroke:#000!important;stroke-width:1.5px}  text{font:12px sans-serif;pointer-events:none}  text.labelText{text-anchor:middle}  text.nodeText{font-size:14px;stroke:#000!important}"]}),n})(),qt=(()=>{class n extends S.I{constructor(e){super(e,"dashboard"),this.http=e}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(L.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Q=x(1042),Jt=x(3192),ne=x(5386),ut=x.n(ne),b=x(4425);const _t=n=>n&&n.enabled&&n.modifierKey,Mt=(n,r)=>n&&r[n+"Key"],tt=(n,r)=>n&&!r[n+"Key"];function st(n,r,e){return void 0===n||("string"==typeof n?-1!==n.indexOf(r):"function"==typeof n&&-1!==n({chart:e}).indexOf(r))}function Vt(n,r){return"function"==typeof n&&(n=n({chart:r})),"string"==typeof n?{x:-1!==n.indexOf("x"),y:-1!==n.indexOf("y")}:{x:!1,y:!1}}function Me(n,r,e){const{mode:i="xy",scaleMode:o,overScaleMode:s}=n||{},a=function Oe({x:n,y:r},e){const i=e.scales,o=Object.keys(i);for(let s=0;s<o.length;s++){const a=i[o[s]];if(r>=a.top&&r<=a.bottom&&n>=a.left&&n<=a.right)return a}return null}(r,e),p=Vt(i,e),_=Vt(o,e);if(s){const h=Vt(s,e);for(const Z of["x","y"])h[Z]&&(_[Z]=p[Z],p[Z]=!1)}if(a&&_[a.axis])return[a];const m=[];return(0,b.F)(e.scales,function(h){p[h.axis]&&m.push(h)}),m}const oe=new WeakMap;function l(n){let r=oe.get(n);return r||(r={originalScaleLimits:{},updatedScaleLimits:{},handlers:{},panDelta:{}},oe.set(n,r)),r}function d(n,r,e){const i=n.max-n.min,o=i*(r-1),s=n.isHorizontal()?e.x:e.y,a=Math.max(0,Math.min(1,(n.getValueForPixel(s)-n.min)/i||0));return{min:o*a,max:o*(1-a)}}function u(n,r,e,i,o){let s=e[i];if("original"===s){const a=n.originalScaleLimits[r.id][i];s=(0,b.v)(a.options,a.scale)}return(0,b.v)(s,o)}function f(n,{min:r,max:e},i,o=!1){const s=l(n.chart),{id:a,axis:p,options:_}=n,m=i&&(i[a]||i[p])||{},{minRange:h=0}=m,Z=u(s,n,m,"min",-1/0),w=u(s,n,m,"max",1/0),J=Math.max(r,Z),j=Math.min(e,w),lt=o?Math.max(j-J,h):n.max-n.min;if(j-J!==lt)if(Z>j-lt)r=J,e=J+lt;else if(w<J+lt)e=j,r=j-lt;else{const Un=(lt-j+J)/2;r=J-Un,e=j+Un}else r=J,e=j;return _.min=r,_.max=e,s.updatedScaleLimits[n.id]={min:r,max:e},n.parse(r)!==n.min||n.parse(e)!==n.max}const M=n=>0===n||isNaN(n)?0:n<0?Math.min(Math.round(n),-1):Math.max(Math.round(n),1),Jn={second:500,minute:3e4,hour:18e5,day:432e5,week:3024e5,month:1296e6,quarter:5184e6,year:157248e5};function mn(n,r,e,i=!1){const{min:o,max:s,options:a}=n,_=Jn[a.time&&a.time.round]||0,m=n.getValueForPixel(n.getPixelForValue(o+_)-r),h=n.getValueForPixel(n.getPixelForValue(s+_)-r),{min:Z=-1/0,max:w=1/0}=i&&e&&e[n.axis]||{};return!!(isNaN(m)||isNaN(h)||m<Z||h>w)||f(n,{min:m,max:h},e,i)}function hn(n,r,e){return mn(n,r,e,!0)}const pn={category:function W(n,r,e,i){const o=d(n,r,e);return n.min===n.max&&r<1&&function E(n){const e=n.getLabels().length-1;n.min>0&&(n.min-=1),n.max<e&&(n.max+=1)}(n),f(n,{min:n.min+M(o.min),max:n.max-M(o.max)},i,!0)},default:function C(n,r,e,i){const o=d(n,r,e);return f(n,{min:n.min+o.min,max:n.max-o.max},i,!0)}},un={default:function O(n,r,e,i){f(n,function g(n,r,e){const i=n.getValueForPixel(r),o=n.getValueForPixel(e);return{min:Math.min(i,o),max:Math.max(i,o)}}(n,r,e),i,!0)}},_n={category:function qn(n,r,e){const o=n.getLabels().length-1;let{min:s,max:a}=n;const p=Math.max(a-s,1),_=Math.round(function Sn(n){return n.isHorizontal()?n.width:n.height}(n)/Math.max(p,10)),m=Math.round(Math.abs(r/_));let h;return r<-_?(a=Math.min(a+m,o),s=1===p?a:a-p,h=a===o):r>_&&(s=Math.max(0,s-m),a=1===p?s:s+p,h=0===s),f(n,{min:s,max:a},e)||h},default:mn,logarithmic:hn,timeseries:hn};function vn(n,r){(0,b.F)(n,(e,i)=>{r[i]||delete n[i]})}function re(n,r){const{scales:e}=n,{originalScaleLimits:i,updatedScaleLimits:o}=r;return(0,b.F)(e,function(s){(function Vn(n,r,e){const{id:i,options:{min:o,max:s}}=n;if(!r[i]||!e[i])return!0;const a=e[i];return a.min!==o||a.max!==s})(s,i,o)&&(i[s.id]={min:{scale:s.min,options:s.options.min},max:{scale:s.max,options:s.options.max}})}),vn(i,e),vn(o,e),i}function xn(n,r,e,i){(0,b.Q)(pn[n.type]||pn.default,[n,r,e,i])}function Cn(n,r,e,i,o){(0,b.Q)(un[n.type]||un.default,[n,r,e,i,o])}function Rn(n){const r=n.chartArea;return{x:(r.left+r.right)/2,y:(r.top+r.bottom)/2}}function gn(n,r,e="none"){const{x:i=1,y:o=1,focalPoint:s=Rn(n)}="number"==typeof r?{x:r,y:r}:r,a=l(n),{options:{limits:p,zoom:_}}=a;re(n,a);const m=1!==i,h=1!==o,Z=Me(_,s,n);(0,b.F)(Z||n.scales,function(w){w.isHorizontal()&&m?xn(w,i,s,p):!w.isHorizontal()&&h&&xn(w,o,s,p)}),n.update(e),(0,b.Q)(_.onZoom,[{chart:n}])}function bn(n,r,e,i="none"){const o=l(n),{options:{limits:s,zoom:a}}=o,{mode:p="xy"}=a;re(n,o);const _=st(p,"x",n),m=st(p,"y",n);(0,b.F)(n.scales,function(h){h.isHorizontal()&&_?Cn(h,r.x,e.x,s):!h.isHorizontal()&&m&&Cn(h,r.y,e.y,s)}),n.update(i),(0,b.Q)(a.onZoom,[{chart:n}])}function Tn(n,r,e,i){const{panDelta:o}=i,s=o[n.id]||0;(0,b.s)(s)===(0,b.s)(r)&&(r+=s),o[n.id]=(0,b.Q)(_n[n.type]||_n.default,[n,r,e])?0:r}function yn(n,r,e,i="none"){const{x:o=0,y:s=0}="number"==typeof r?{x:r,y:r}:r,a=l(n),{options:{pan:p,limits:_}}=a,{onPan:m}=p||{};re(n,a);const h=0!==o,Z=0!==s;(0,b.F)(e||n.scales,function(w){w.isHorizontal()&&h?Tn(w,o,_,a):!w.isHorizontal()&&Z&&Tn(w,s,_,a)}),n.update(i),(0,b.Q)(m,[{chart:n}])}function Zn(n){const r=l(n),e={};for(const i of Object.keys(n.scales)){const{min:o,max:s}=r.originalScaleLimits[i]||{min:{},max:{}};e[i]={min:o.scale,max:s.scale}}return e}function H(n,r){const{handlers:e}=l(n),i=e[r];i&&i.target&&(i.target.removeEventListener(r,i),delete e[r])}function se(n,r,e,i){const{handlers:o,options:s}=l(n),a=o[e];a&&a.target===r||(H(n,e),o[e]=p=>i(n,p,s),o[e].target=r,r.addEventListener(e,o[e]))}function Gn(n,r){const e=l(n);e.dragStart&&(e.dragging=!0,e.dragEnd=r,n.update("none"))}function zn(n,r){const e=l(n);!e.dragStart||"Escape"!==r.key||(H(n,"keydown"),e.dragging=!1,e.dragStart=e.dragEnd=null,n.update("none"))}function Pn(n,r,e){const{onZoomStart:i,onZoomRejected:o}=e;if(i){const{left:s,top:a}=r.target.getBoundingClientRect();if(!1===(0,b.Q)(i,[{chart:n,event:r,point:{x:r.clientX-s,y:r.clientY-a}}]))return(0,b.Q)(o,[{chart:n,event:r}]),!1}}function Wn(n,r){const e=l(n),{pan:i,zoom:o={}}=e.options;if(0!==r.button||Mt(_t(i),r)||tt(_t(o.drag),r))return(0,b.Q)(o.onZoomRejected,[{chart:n,event:r}]);!1!==Pn(n,r,o)&&(e.dragStart=r,se(n,n.canvas,"mousemove",Gn),se(n,window.document,"keydown",zn))}function wn(n,r,e,i){const{left:o,top:s}=e.target.getBoundingClientRect(),a=st(r,"x",n),p=st(r,"y",n);let{top:_,left:m,right:h,bottom:Z,width:w,height:J}=n.chartArea;a&&(m=Math.min(e.clientX,i.clientX)-o,h=Math.max(e.clientX,i.clientX)-o),p&&(_=Math.min(e.clientY,i.clientY)-s,Z=Math.max(e.clientY,i.clientY)-s);const j=h-m,lt=Z-_;return{left:m,top:_,right:h,bottom:Z,width:j,height:lt,zoomX:a&&j?1+(w-j)/w:1,zoomY:p&&lt?1+(J-lt)/J:1}}function jn(n,r){const e=l(n);if(!e.dragStart)return;H(n,"mousemove");const{mode:i,onZoomComplete:o,drag:{threshold:s=0}}=e.options.zoom,a=wn(n,i,e.dragStart,r),p=st(i,"x",n)?a.width:0,_=st(i,"y",n)?a.height:0,m=Math.sqrt(p*p+_*_);if(e.dragStart=e.dragEnd=null,m<=s)return e.dragging=!1,void n.update("none");bn(n,{x:a.left,y:a.top},{x:a.right,y:a.bottom},"zoom"),setTimeout(()=>e.dragging=!1,500),(0,b.Q)(o,[{chart:n}])}function Kn(n,r){const{handlers:{onZoomComplete:e},options:{zoom:i}}=l(n);if(!function Xn(n,r,e){if(!tt(_t(e.wheel),r))return!1!==Pn(n,r,e)&&(r.cancelable&&r.preventDefault(),void 0!==r.deltaY)||void 0;(0,b.Q)(e.onZoomRejected,[{chart:n,event:r}])}(n,r,i))return;const o=r.target.getBoundingClientRect(),s=1+(r.deltaY>=0?-i.wheel.speed:i.wheel.speed);gn(n,{x:s,y:s,focalPoint:{x:r.clientX-o.left,y:r.clientY-o.top}}),e&&e()}function ii(n,r){return function(e,i){const{pan:o,zoom:s={}}=r.options;if(!o||!o.enabled)return!1;const a=i&&i.srcEvent;return!(a&&!r.panning&&"mouse"===i.pointerType&&(tt(_t(o),a)||Mt(_t(s.drag),a))&&((0,b.Q)(o.onPanRejected,[{chart:n,event:i}]),1))}}function Ln(n,r,e){if(r.scale){const{center:i,pointers:o}=e,s=1/r.scale*e.scale,a=e.target.getBoundingClientRect(),p=function oi(n,r){const e=Math.abs(n.clientX-r.clientX),i=Math.abs(n.clientY-r.clientY),o=e/i;let s,a;return o>.3&&o<1.7?s=a=!0:e>i?s=!0:a=!0,{x:s,y:a}}(o[0],o[1]),_=r.options.zoom.mode;gn(n,{x:p.x&&st(_,"x",n)?s:1,y:p.y&&st(_,"y",n)?s:1,focalPoint:{x:i.x-a.left,y:i.y-a.top}}),r.scale=e.scale}}function On(n,r,e){const i=r.delta;i&&(r.panning=!0,yn(n,{x:e.deltaX-i.x,y:e.deltaY-i.y},r.panScales),r.delta={x:e.deltaX,y:e.deltaY})}const fn=new WeakMap;function Ae(n,r,e){const i=e.zoom.drag,{dragStart:o,dragEnd:s}=l(n);if(i.drawTime!==r||!s)return;const{left:a,top:p,width:_,height:m}=wn(n,e.zoom.mode,o,s),h=n.ctx;h.save(),h.beginPath(),h.fillStyle=i.backgroundColor||"rgba(225,225,225,0.3)",h.fillRect(a,p,_,m),i.borderWidth>0&&(h.lineWidth=i.borderWidth,h.strokeStyle=i.borderColor||"rgba(225,225,225)",h.strokeRect(a,p,_,m)),h.restore()}var ui={id:"zoom",version:"2.0.0",defaults:{pan:{enabled:!1,mode:"xy",threshold:10,modifierKey:null},zoom:{wheel:{enabled:!1,speed:.1,modifierKey:null},drag:{enabled:!1,drawTime:"beforeDatasetsDraw",modifierKey:null},pinch:{enabled:!1},mode:"xy"}},start:function(n,r,e){l(n).options=e,Object.prototype.hasOwnProperty.call(e.zoom,"enabled")&&console.warn("The option `zoom.enabled` is no longer supported. Please use `zoom.wheel.enabled`, `zoom.drag.enabled`, or `zoom.pinch.enabled`."),(Object.prototype.hasOwnProperty.call(e.zoom,"overScaleMode")||Object.prototype.hasOwnProperty.call(e.pan,"overScaleMode"))&&console.warn("The option `overScaleMode` is deprecated. Please use `scaleMode` instead (and update `mode` as desired)."),ut()&&function ci(n,r){const e=l(n),i=n.canvas,{pan:o,zoom:s}=r,a=new(ut().Manager)(i);s&&s.pinch.enabled&&(a.add(new(ut().Pinch)),a.on("pinchstart",()=>function ri(n,r){r.options.zoom.pinch.enabled&&(r.scale=1)}(0,e)),a.on("pinch",p=>Ln(n,e,p)),a.on("pinchend",p=>function si(n,r,e){r.scale&&(Ln(n,r,e),r.scale=null,(0,b.Q)(r.options.zoom.onZoomComplete,[{chart:n}]))}(n,e,p))),o&&o.enabled&&(a.add(new(ut().Pan)({threshold:o.threshold,enable:ii(n,e)})),a.on("panstart",p=>function li(n,r,e){const{enabled:i,onPanStart:o,onPanRejected:s}=r.options.pan;if(!i)return;const a=e.target.getBoundingClientRect(),p={x:e.center.x-a.left,y:e.center.y-a.top};if(!1===(0,b.Q)(o,[{chart:n,event:e,point:p}]))return(0,b.Q)(s,[{chart:n,event:e}]);r.panScales=Me(r.options.pan,p,n),r.delta={x:0,y:0},clearTimeout(r.panEndTimeout),On(n,r,e)}(n,e,p)),a.on("panmove",p=>On(n,e,p)),a.on("panend",()=>function ai(n,r){r.delta=null,r.panning&&(r.panEndTimeout=setTimeout(()=>r.panning=!1,500),(0,b.Q)(r.options.pan.onPanComplete,[{chart:n}]))}(n,e))),fn.set(n,a)}(n,e),n.pan=(o,s,a)=>yn(n,o,s,a),n.zoom=(o,s)=>gn(n,o,s),n.zoomRect=(o,s,a)=>bn(n,o,s,a),n.zoomScale=(o,s,a)=>function Qn(n,r,e,i="none"){re(n,l(n)),f(n.scales[r],e,void 0,!0),n.update(i)}(n,o,s,a),n.resetZoom=o=>function Hn(n,r="default"){const e=l(n),i=re(n,e);(0,b.F)(n.scales,function(o){const s=o.options;i[o.id]?(s.min=i[o.id].min.options,s.max=i[o.id].max.options):(delete s.min,delete s.max)}),n.update(r),(0,b.Q)(e.options.zoom.onZoomComplete,[{chart:n}])}(n,o),n.getZoomLevel=()=>function $n(n){const r=l(n);let e=1,i=1;return(0,b.F)(n.scales,function(o){const s=function Yn(n,r){const e=n.originalScaleLimits[r];if(!e)return;const{min:i,max:o}=e;return(0,b.v)(o.options,o.scale)-(0,b.v)(i.options,i.scale)}(r,o.id);if(s){const a=Math.round(s/(o.max-o.min)*100)/100;e=Math.min(e,a),i=Math.max(i,a)}}),e<1?e:i}(n),n.getInitialScaleBounds=()=>Zn(n),n.isZoomedOrPanned=()=>function Bn(n){const r=Zn(n);for(const e of Object.keys(n.scales)){const{min:i,max:o}=r[e];if(void 0!==i&&n.scales[e].min!==i||void 0!==o&&n.scales[e].max!==o)return!0}return!1}(n)},beforeEvent(n){const r=l(n);if(r.panning||r.dragging)return!1},beforeUpdate:function(n,r,e){l(n).options=e,function ei(n,r){const e=n.canvas,{wheel:i,drag:o,onZoomComplete:s}=r.zoom;i.enabled?(se(n,e,"wheel",Kn),function ti(n,r,e,i){e&&(l(n).handlers[r]=function ie(n,r){let e;return function(){return clearTimeout(e),e=setTimeout(n,r),r}}(()=>(0,b.Q)(e,[{chart:n}]),i))}(n,"onZoomComplete",s,250)):H(n,"wheel"),o.enabled?(se(n,e,"mousedown",Wn),se(n,e.ownerDocument,"mouseup",jn)):(H(n,"mousedown"),H(n,"mousemove"),H(n,"mouseup"),H(n,"keydown"))}(n,e)},beforeDatasetsDraw(n,r,e){Ae(n,"beforeDatasetsDraw",e)},afterDatasetsDraw(n,r,e){Ae(n,"afterDatasetsDraw",e)},beforeDraw(n,r,e){Ae(n,"beforeDraw",e)},afterDraw(n,r,e){Ae(n,"afterDraw",e)},stop:function(n){(function ni(n){H(n,"mousedown"),H(n,"mousemove"),H(n,"mouseup"),H(n,"wheel"),H(n,"click"),H(n,"keydown")})(n),ut()&&function di(n){const r=fn.get(n);r&&(r.remove("pinchstart"),r.remove("pinch"),r.remove("pinchend"),r.remove("panstart"),r.remove("pan"),r.remove("panend"),r.destroy(),fn.delete(n))}(n),function c(n){oe.delete(n)}(n)},panFunctions:_n,zoomFunctions:pn,zoomRectFunctions:un};let _i=(()=>{class n extends S.I{constructor(e){super(e,"chart"),this.http=e}getChartById(e,i){let o="";return null!=i&&i.forEach((s,a)=>{o+="&"+a+"="+s}),this.http.get(`${y.N.serverUrl}/${this.endpoint}/by-id?id=${e}${o}`)}getData(e,i,o){let s="";return null!=i&&i.filter(a=>""!==a.code).forEach(a=>{s+="&"+a.code+"="+a.fieldValue}),null!=o&&o.forEach((a,p)=>{s+="&"+p+"="+a}),this.http.get(`${y.N.serverUrl}/${this.endpoint}/data?id=${e}${s}`)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(L.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var gi=x(9541);function fi(n,r){if(1&n&&t._UZ(0,"i"),2&n){const e=t.oxw();t.Gre("fa ",null==e.dto?null:e.dto.icon,"")}}function mi(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",13)(1,"app-list-selector",14),t.NdJ("valueChange",function(o){return t.CHM(e),t.oxw().$implicit.fieldValue=o})("eventOccured",function(o){return t.CHM(e),t.oxw(2).fieldEventOccured(o)}),t.qZA(),t.TgZ(2,"div",15),t._uU(3),t.qZA()()}if(2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("editable",e.editable)("command",e.editor)("defaultValue",e.defaultValue)("displayValue",e.displayValue)("value",e.fieldValue),t.xp6(2),t.Oqu(e.description)}}function hi(n,r){if(1&n&&(t.ynx(0),t.YNc(1,mi,4,6,"div",12),t.BQk()),2&n){const e=r.$implicit;t.xp6(1),t.Q6J("ngIf","list"===e.type)}}function vi(n,r){if(1&n&&t._UZ(0,"canvas",16),2&n){const e=t.oxw();t.Q6J("type",e.chartOptions.type)("datasets",e.chartOptions.data.datasets)("labels",e.chartOptions.data.labels)("options",e.chartOptions.options)}}function xi(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",17),t._UZ(1,"hr"),t.TgZ(2,"div",18),t.NdJ("click",function(){return t.CHM(e),t.oxw().getData()}),t._UZ(3,"i",19),t._uU(4," Refresh "),t.qZA()()}}Jt.kL.register(ui);let Ci=(()=>{class n{constructor(e){this.service=e,this.chartInstanceId=Q.Z(),this.chartOptions=null}ngOnInit(){this.refresh()}executePeriodically(){null!=this.dto.executePeriodically&&(!0!==this.dto.executePeriodically||this.dto.executionInterval<=0||setInterval(function(){this.getData()}.bind(this),this.dto.executionInterval))}refresh(){this.service.getChartById(this.id,this.extraParamsMap).subscribe(e=>{this.dto=e,this.updateGraph()})}getData(){this.service.getData(this.id,this.dto.filterList,this.extraParamsMap).subscribe(e=>{this.dto.chartFieldList=e,this.updateGraph()})}updateGraph(){const e=[];this.dto.chartFieldList.filter(p=>p.name!==this.dto.horizontalAxe).forEach(p=>{const _=JSON.parse(p.chartJson);_.data=p.dataset,e.push(_)});const o=this.dto.chartFieldList.filter(p=>p.name===this.dto.horizontalAxe);if(1!==o.length)return;const s=o[0],a=JSON.parse(s.chartJson);a.labels=s.dataset,a.datasets=e,this.chartOptions=JSON.parse(this.dto.optionsJson),this.chartOptions.data=a}fieldEventOccured(e){"listselected"===e.eventtype&&this.getData()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(_i))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-chart"]],inputs:{id:"id",extraParamsMap:"extraParamsMap"},decls:14,vars:6,consts:[[1,"card"],[1,"card-header"],[1,"pull-left"],[1,"card-title"],[3,"class",4,"ngIf"],[1,"card-category"],[1,"pull-right"],[1,"row","filter-row"],[4,"ngFor","ngForOf"],[1,"card-body","graph-prev-body"],["baseChart","",3,"type","datasets","labels","options",4,"ngIf"],["class","card-footer",4,"ngIf"],["class","form-group col","style","min-width: 300px;",4,"ngIf"],[1,"form-group","col",2,"min-width","300px"],[3,"editable","command","defaultValue","displayValue","value","valueChange","eventOccured"],[1,"category"],["baseChart","",3,"type","datasets","labels","options"],[1,"card-footer"],[1,"stats",2,"cursor","pointer",3,"click"],[1,"fa","fa-sync"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h5",3),t.YNc(4,fi,1,3,"i",4),t._uU(5),t.qZA(),t.TgZ(6,"p",5),t._uU(7),t.qZA()(),t.TgZ(8,"div",6)(9,"div",7),t.YNc(10,hi,2,1,"ng-container",8),t.qZA()()(),t.TgZ(11,"div",9),t.YNc(12,vi,1,4,"canvas",10),t.qZA(),t.YNc(13,xi,5,0,"div",11),t.qZA()),2&e&&(t.xp6(4),t.Q6J("ngIf",null!=(null==i.dto?null:i.dto.icon)&&""!=(null==i.dto?null:i.dto.icon)),t.xp6(1),t.hij(" ",null==i.dto?null:i.dto.title," "),t.xp6(2),t.Oqu(null==i.dto?null:i.dto.secondTitle),t.xp6(3),t.Q6J("ngForOf",null==i.dto?null:i.dto.filterList),t.xp6(2),t.Q6J("ngIf",null!=i.chartOptions),t.xp6(1),t.Q6J("ngIf",null==i.dto?null:i.dto.refreshButton))},directives:[v.O5,v.sg,bt.p,gi.jh],styles:[".card-title[_ngcontent-%COMP%]{margin-bottom:0}.form-group[_ngcontent-%COMP%]{margin-top:8px;padding-right:5px;padding-left:5px}.filter-row[_ngcontent-%COMP%]{padding-right:10px}"]}),n})(),bi=(()=>{class n extends S.I{constructor(e){super(e,"html-dashboard"),this.http=e}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(L.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ti=(()=>{class n{constructor(e){this.sanitized=e}transform(e){return this.sanitized.bypassSecurityTrustHtml(e)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(q.H7,16))},n.\u0275pipe=t.Yjl({name:"safeHtml",type:n,pure:!0}),n})();function yi(n,r){if(1&n&&(t._UZ(0,"div",1),t.ALo(1,"safeHtml")),2&n){const e=t.oxw();t.Q6J("innerHTML",t.lcZ(1,1,null==e.dto?null:e.dto.html),t.oJD)}}let Zi=(()=>{class n{constructor(e){this.service=e,this.instanceId=Q.Z()}ngOnInit(){this.refresh()}refresh(){this.service.getById(this.id).subscribe(e=>{this.dto=e})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(bi))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-html-dashboard"]],inputs:{id:"id",extraParamsMap:"extraParamsMap"},decls:1,vars:1,consts:[[3,"innerHTML",4,"ngIf"],[3,"innerHTML"]],template:function(e,i){1&e&&t.YNc(0,yi,2,3,"div",0),2&e&&t.Q6J("ngIf",null!=i.dto)},directives:[v.O5],pipes:[Ti],styles:[".card-title[_ngcontent-%COMP%]{margin-bottom:2px!important}"]}),n})(),Pi=(()=>{class n extends S.I{constructor(e){super(e,"info-card"),this.http=e}getByIdWithParams(e,i){return this.http.get(`${y.N.serverUrl}/${this.endpoint}/by-id?id=${e}${i}`)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(L.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),wi=(()=>{class n{constructor(e,i,o,s){this.dynamicJavaScriptLoader=e,this.dynamicRequestService=i,this.navigatorService=o,this.staticJavascriptLoader=s,this.navigateToCommand=a=>{this.navigatorService.navigate(a)},this.getFromBackend=(a,p)=>{this.dynamicRequestService.getFromBackend(a).subscribe(_=>{p(_)})},this.getFromUrl=(a,p)=>{this.dynamicRequestService.getFromUrl(a).subscribe(_=>{p(_)})},this.postToBackend=(a,p,_)=>{this.dynamicRequestService.postToBackend(a,p).subscribe(m=>{_(m)})},this.postToUrl=(a,p,_)=>{this.dynamicRequestService.postToUrl(a,p).subscribe(m=>{_(m)})},this.putToBackend=(a,p,_)=>{this.dynamicRequestService.putToBackend(a,p).subscribe(m=>{_(m)})},this.putToUrl=(a,p,_)=>{this.dynamicRequestService.putToUrl(a,p).subscribe(m=>{_(m)})},this.deleteFromBackend=(a,p)=>{this.dynamicRequestService.deleteFromBackend(a).subscribe(_=>{p(_)})},this.deleteFromUrl=(a,p)=>{this.dynamicRequestService.deleteFromUrl(a).subscribe(_=>{p(_)})}}loadWithPromise(e){return new Promise((i,o)=>{this.staticJavascriptLoader.addScript("info-card").then(s=>{this.dynamicJavaScriptLoader.addScript(e.dto.id,"info-card").then(a=>{registerInfoCardDynamicScript(e.dto.id,e),defineInfoCardNavigator(e.dto.id,this.navigateToCommand),defineInfoCardGetFromBackend(e.dto.id,this.getFromBackend),defineInfoCardGetFromUrl(e.dto.id,this.getFromUrl),defineInfoCardPostToBackend(e.dto.id,this.postToBackend),defineInfoCardPostToUrl(e.dto.id,this.postToUrl),defineInfoCardPutToBackend(e.dto.id,this.putToBackend),defineInfoCardPutToUrl(e.dto.id,this.putToUrl),defineInfoCardDeleteFromBackend(e.dto.id,this.deleteFromBackend),defineInfoCardDeleteFromUrl(e.dto.id,this.deleteFromUrl),this.triggerInfoCardEvent(e.dto.id,"onInfoCardOpen",""),i({script:"infoCardScript",loaded:!0,status:"Loaded"})}).catch(a=>console.log(a))})})}triggerInfoCardEvent(e,i,o){nativeInfoCardEventsHandler(e,i,o)}getFromBackendWithCustomHeaders(e,i,o){this.dynamicRequestService.getFromBackendWithCustomHeaders(e,i).subscribe(s=>{o(s,!0)},s=>{o(null,!1)})}getFromUrlWithCustomHeaders(e,i,o){this.dynamicRequestService.getFromUrlWithCustomHeaders(e,i).subscribe(s=>{o(s,!0)},s=>{o(null,!1)})}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(at._),t.LFG(xt.g),t.LFG(A.s),t.LFG(Bt.w))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Li(n,r){if(1&n){const e=t.EpF();t.ynx(0),t._UZ(1,"hr"),t.TgZ(2,"div",12),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).openPage()}),t._UZ(3,"i"),t._uU(4),t.qZA(),t.BQk()}if(2&n){const e=t.oxw(2);t.xp6(3),t.Gre("fa ",null==e.dto?null:e.dto.commandIcon,""),t.xp6(1),t.hij(" ",null==e.dto?null:e.dto.description," ")}}function Oi(n,r){if(1&n&&(t.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5),t._UZ(5,"i"),t.qZA()(),t.TgZ(6,"div",6)(7,"div",7),t._UZ(8,"p",8)(9,"p",9)(10,"p"),t.qZA()()()(),t.TgZ(11,"div",10),t.YNc(12,Li,5,4,"ng-container",11),t.qZA()()),2&n){const e=t.oxw();t.xp6(5),t.Jzz("color:",null==e.dto?null:e.dto.iconColor,""),t.Gre("fa ",null==e.dto?null:e.dto.icon,""),t.xp6(3),t.Q6J("innerHTML",e.trustResource(null==e.dto?null:e.dto.title),t.oJD),t.xp6(1),t.Q6J("innerHTML",e.trustResource(null==e.dto?null:e.dto.cardText),t.oJD),t.xp6(3),t.Q6J("ngIf",null!=(null==e.dto?null:e.dto.commandIcon)&&""!=(null==e.dto?null:e.dto.commandIcon))}}let Mi=(()=>{class n{constructor(e,i,o,s){this.service=e,this.sanitizer=i,this.infoCartScriptService=o,this.navigatorService=s,this.dto=null}ngOnInit(){this.refresh()}refresh(){let e="";null!=this.extraParamsMap&&this.extraParamsMap.forEach((i,o)=>{e+="&"+encodeURI(o)+"="+encodeURI(i)}),this.service.getByIdWithParams(this.id,e).subscribe(i=>{this.dto=i,this.infoCartScriptService.loadWithPromise(this).then(o=>{})})}openPage(){this.navigatorService.navigate(this.dto.command)}trustResource(e){return this.sanitizer.bypassSecurityTrustHtml(e)}getFromBackendWithCustomHeaders(e,i,o){this.infoCartScriptService.getFromBackendWithCustomHeaders(e,i,o)}getFromUrlWithCustomHeaders(e,i,o){this.infoCartScriptService.getFromUrlWithCustomHeaders(e,i,o)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Pi),t.Y36(q.H7),t.Y36(wi),t.Y36(A.s))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-info-card"]],inputs:{id:"id",extraParamsMap:"extraParamsMap"},decls:1,vars:1,consts:[["class","card card-stats",4,"ngIf"],[1,"card","card-stats"],[1,"card-body"],[1,"row"],[1,"col-5","col-md-4"],[1,"icon-big","text-center","icon-warning"],[1,"col-7","col-md-8"],[1,"numbers"],[1,"card-category",3,"innerHTML"],[1,"card-title",3,"innerHTML"],[1,"card-footer"],[4,"ngIf"],[1,"stats",2,"cursor","pointer",3,"click"]],template:function(e,i){1&e&&t.YNc(0,Oi,13,9,"div",0),2&e&&t.Q6J("ngIf",null!=i.dto)},directives:[v.O5],styles:[""]}),n})();const Ai=["lists"];function Fi(n,r){if(1&n&&(t.TgZ(0,"div"),t._UZ(1,"app-chart",6),t.qZA()),2&n){const e=t.oxw().$implicit,i=t.oxw(3);t.Gre("",e.cssclass," dashboard-entity"),t.xp6(1),t.Q6J("extraParamsMap",i.extraParamsMap)("id",e.entityId)}}function Di(n,r){if(1&n&&(t.TgZ(0,"div"),t._UZ(1,"app-html-dashboard",6),t.qZA()),2&n){const e=t.oxw().$implicit,i=t.oxw(3);t.Gre("",e.cssclass," dashboard-entity"),t.xp6(1),t.Q6J("extraParamsMap",i.extraParamsMap)("id",e.entityId)}}function ki(n,r){if(1&n&&(t.TgZ(0,"div"),t._UZ(1,"app-info-card",6),t.qZA()),2&n){const e=t.oxw().$implicit,i=t.oxw(3);t.Gre("",e.cssclass," dashboard-entity"),t.xp6(1),t.Q6J("extraParamsMap",i.extraParamsMap)("id",e.entityId)}}function Ii(n,r){if(1&n&&(t.TgZ(0,"div",7),t._UZ(1,"app-list",8,9),t.qZA()),2&n){const e=t.oxw().$implicit,i=t.oxw(3);t.Gre("",e.cssclass," dashboard-entity"),t.xp6(1),t.Q6J("customCommand","LIST[LOCATE:(ID="+e.entityId+"),SHOWTITLE:NO"+i.extraParams+"]")("runCustomCommand",!0)}}function Ni(n,r){if(1&n&&(t.ynx(0),t.YNc(1,Fi,2,5,"div",4),t.YNc(2,Di,2,5,"div",4),t.YNc(3,ki,2,5,"div",4),t.YNc(4,Ii,3,5,"div",5),t.BQk()),2&n){const e=r.$implicit;t.xp6(1),t.Q6J("ngIf","chart"===e.type),t.xp6(1),t.Q6J("ngIf","html"===e.type),t.xp6(1),t.Q6J("ngIf","infoCard"===e.type),t.xp6(1),t.Q6J("ngIf","list"===e.type)}}function Ei(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"div")(2,"div",3),t.YNc(3,Ni,5,4,"ng-container",2),t.qZA()(),t.BQk()),2&n){const e=r.$implicit;t.xp6(1),t.Tol(e.cssclass),t.xp6(2),t.Q6J("ngForOf",null==e?null:e.dashboardItemList)}}function Ui(n,r){if(1&n&&(t.TgZ(0,"div",1),t.YNc(1,Ei,4,4,"ng-container",2),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",null==e.dto?null:e.dto.dashboardAreaList)}}let Mn=(()=>{class n extends Y.I{constructor(e,i,o,s){super(),this.service=e,this.navigatorService=i,this.activatedRoute=o,this.title=s,this.dto=null,this.extraParams=""}ngOnInit(){this.initNav(this.activatedRoute),this.refresh()}refresh(){let e="0";const i=this.getLocateParams();i.has("ID")&&(e=i.get("ID")),this.extraParams="",this.extraParamsMap=this.getParams("EXTRA-PARAMS"),this.extraParamsMap.size>0&&this.extraParamsMap.forEach((o,s)=>{this.extraParams+=","+s+":"+o}),this.service.getById(e).subscribe(o=>{this.dto=o,this.defineTitle()})}defineTitle(){this.commandShowCustomTitle()&&this.title.setTitle(this.getWindowCustomTitleFromCommand())}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(qt),t.Y36(A.s),t.Y36(D.gz),t.Y36(q.Dx))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-dashboard"]],viewQuery:function(e,i){if(1&e&&t.Gf(Ai,5),2&e){let o;t.iGM(o=t.CRH())&&(i.lists=o)}},features:[t.qOj],decls:1,vars:1,consts:[["class","row dashboard-entity main-dashboard-row",4,"ngIf"],[1,"row","dashboard-entity","main-dashboard-row"],[4,"ngFor","ngForOf"],[1,"row"],[3,"class",4,"ngIf"],["style","padding-top: 0px;",3,"class",4,"ngIf"],[3,"extraParamsMap","id"],[2,"padding-top","0px"],[3,"customCommand","runCustomCommand"],["lists",""]],template:function(e,i){1&e&&t.YNc(0,Ui,2,1,"div",0),2&e&&t.Q6J("ngIf",null!=i.dto)},directives:[v.O5,v.sg,Ci,Zi,Mi,B],styles:[".dashboard-entity[_ngcontent-%COMP%]{padding:5px}.main-dashboard-row[_ngcontent-%COMP%]{padding:10px}"]}),n})();class Si extends et.g{constructor(){super(),this.code="",this.name="",this.description="",this.icon="",this.firstLine=0,this.xlsIterationColumn="",this.xlsImportLineList=[],this.accessControls=[],this.xlsImportLineList=[]}}let qi=(()=>{class n extends S.I{constructor(e){super(e,"xls-import"),this.http=e}import(e,i){const o={headers:new L.WM({"content-type":"multipart/form-data"})},s=new FormData;return s.append("id",e),s.append("file",i,i.name),this.http.post(`${y.N.serverUrl}/${this.endpoint}`,s,o)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(L.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ji(n,r){if(1&n&&(t.TgZ(0,"code"),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Oqu(e.fileRequiredWarning)}}let Vi=(()=>{class n extends Y.I{constructor(e,i,o){super(),this.notificationService=e,this.activatedRoute=i,this.service=o,this.dto=new Si,this.fileToUpload=null,this.reportFilename="",this.fileRequiredWarning="",this.id=""}ngOnInit(){this.initNav(this.activatedRoute);const e=this.getLocateParams();e.has("ID")&&(this.id=e.get("ID"),this.refresh(this.id))}refresh(e){this.service.getById(e).subscribe(i=>{this.dto=i})}handleFileInput(e){this.fileToUpload=e.target.files.item(0),this.reportFilename=this.fileToUpload.name,this.fileRequiredWarning=""}clearFile(){this.fileToUpload=null,this.reportFilename=""}import(){if(null==this.reportFilename||""===this.reportFilename)return this.notificationService.showNotification("top","center","alert-danger","fa-file-code","<b>Xls File is required</b>"),void(this.fileRequiredWarning="File is required");""!==this.id?this.service.import(this.id,this.fileToUpload).subscribe(e=>{this.notificationService.showNotification("top","center","alert-success","fa-file-code","<b>Import Finished.</b>")}):this.notificationService.showNotification("top","center","alert-danger","fa-file-code","<b>No import selected</b>")}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(vt.g),t.Y36(D.gz),t.Y36(qi))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-xls-import"]],features:[t.qOj],decls:47,vars:3,consts:[[1,"row","formnav"],[1,"col-sm-12"],[1,"pull-left"],[1,"pull-right"],[1,"btn","btn-outline-success",2,"margin-top","0px",3,"click"],[1,"fa","fa-play"],[1,"row","form-area"],[1,"col-md-12"],[1,"card","card-user"],[1,"card-header"],[1,"row"],[1,"card-title","pull-left"],[1,"fas","fa-file-code"],[1,"card-body"],["type","file","accept",".xls",2,"display","none",3,"change"],["reportFileUploader",""],[1,"form-group"],[1,"input-group","input-group-selector","no-border"],[1,"input-group-prepend",3,"click"],[1,"input-group-text"],[1,"fas","fa-upload"],["readonly","","data-target","#selectComponentModal","data-toggle","modal","type","text",1,"form-control",3,"value","click"],[1,"input-group-append",3,"click"],[1,"input-group-text","input-group-text-rm"],[1,"fa","fa-window-close"],[4,"ngIf"],[1,"fas","fa-exclamation"],[1,"card-body",3,"innerHtml"]],template:function(e,i){if(1&e){const o=t.EpF();t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"div",2),t.TgZ(3,"div",3)(4,"button",4),t.NdJ("click",function(){return i.import()}),t._UZ(5,"i",5),t._uU(6," Run "),t.qZA()()()(),t.TgZ(7,"div",6)(8,"div",7)(9,"div",8)(10,"div",9)(11,"div",10)(12,"div",1)(13,"div",2)(14,"h5",11),t._UZ(15,"i",12),t._uU(16," Select Xls File "),t.qZA()(),t._UZ(17,"div",3),t.qZA()()(),t.TgZ(18,"div",13)(19,"div",10)(20,"div",7)(21,"input",14,15),t.NdJ("change",function(a){return i.handleFileInput(a)}),t.qZA(),t.TgZ(23,"div",16)(24,"label"),t._uU(25,"File"),t.qZA(),t.TgZ(26,"div",17)(27,"div",18),t.NdJ("click",function(){return t.CHM(o),t.MAs(22).click()}),t.TgZ(28,"span",19),t._UZ(29,"i",20),t.qZA()(),t.TgZ(30,"input",21),t.NdJ("click",function(){return t.CHM(o),t.MAs(22).click()}),t.qZA(),t.TgZ(31,"div",22),t.NdJ("click",function(){return i.clearFile()}),t.TgZ(32,"span",23),t._UZ(33,"i",24),t.qZA()()()(),t.YNc(34,Ji,2,1,"code",25),t.qZA()()()()()(),t.TgZ(35,"div",6)(36,"div",7)(37,"div",8)(38,"div",9)(39,"div",10)(40,"div",1)(41,"div",2)(42,"h5",11),t._UZ(43,"i",26),t._uU(44," Usage Information "),t.qZA()(),t._UZ(45,"div",3),t.qZA()()(),t._UZ(46,"div",27),t.qZA()()()}2&e&&(t.xp6(30),t.s9C("value",null==i?null:i.reportFilename),t.xp6(4),t.Q6J("ngIf",""!=i.fileRequiredWarning),t.xp6(12),t.Q6J("innerHtml",i.dto.description,t.oJD))},directives:[v.O5],styles:[""]}),n})(),Ri=(()=>{class n extends S.I{constructor(e){super(e,"search"),this.http=e}search(e,i){return this.http.get(`${y.N.serverUrl}/${this.endpoint}/data?id=${e}&search=${encodeURIComponent(i)}`)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(L.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Qi(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"tr",18),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw().nav(s.navigation)}),t.TgZ(1,"td",19),t._UZ(2,"i"),t.qZA(),t._UZ(3,"td",20)(4,"td",21),t.qZA()}if(2&n){const e=r.$implicit,i=t.oxw();t.xp6(1),t.Akn(i.setStyle(e.icon_color)),t.xp6(1),t.Gre("fa ",e.icon,""),t.xp6(1),t.Q6J("innerHTML",e.title,t.oJD),t.xp6(1),t.Q6J("innerHTML",e.description,t.oJD)}}let Hi=(()=>{class n extends Y.I{constructor(e,i,o){super(),this.activatedRoute=e,this.navigatorService=i,this.service=o,this.searchValue="",this.id="0"}ngOnInit(){this.initNav(this.activatedRoute);const e=this.getLocateParams();if(e.has("ID")&&(this.id=e.get("ID")),this.params.has("VALUE")){const i=this.params.get("VALUE");this.searchValue=atob(i)}this.service.search(this.id,this.searchValue).subscribe(i=>{this.dto=i}),this.focusElement()}focusElement(){const i=document.getElementsByClassName("search-field-box");return 1===i.length&&(i[0].focus(),!0)}onEnterMethod(){this.service.search(this.id,this.searchValue).subscribe(e=>{this.dto=e})}setStyle(e){return"font-size: 20px;color:"+e+";"}nav(e){this.selectEmmiter.emit(null),this.navigatorService.navigate(e)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(D.gz),t.Y36(A.s),t.Y36(Ri))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-search"]],features:[t.qOj],decls:22,vars:2,consts:[[1,"row","formnav"],[1,"col-sm-12"],[1,"row","form-area"],[1,"col-md-12"],[1,"card","card-user"],[1,"card-body"],[1,"row"],[1,"form-group"],[1,"search-field"],[1,"input-group","no-border"],["type","text","placeholder","Search...","name","search",1,"form-control","search-field-box",3,"ngModel","ngModelChange","keyup.enter"],[1,"input-group-append"],[1,"input-group-text"],[1,"fa","fa-search"],[1,"card"],[1,"table","table-fixed","table-striped"],[1,"body"],["style","cursor: pointer;",3,"click",4,"ngFor","ngForOf"],[2,"cursor","pointer",3,"click"],[1,"icon-td"],[1,"title-td",3,"innerHTML"],[1,"td-name","description-td",3,"innerHTML"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"div",1),t.qZA(),t.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",3)(8,"div",7)(9,"form",8)(10,"div",9)(11,"input",10),t.NdJ("ngModelChange",function(s){return i.searchValue=s})("keyup.enter",function(){return i.onEnterMethod()}),t.qZA(),t.TgZ(12,"div",11)(13,"div",12),t._UZ(14,"i",13),t.qZA()()()()()()()()()()(),t.TgZ(15,"div",2)(16,"div",3)(17,"div",14)(18,"div",5)(19,"table",15)(20,"tbody",16),t.YNc(21,Qi,5,8,"tr",17),t.qZA()()()()()()),2&e&&(t.xp6(11),t.Q6J("ngModel",i.searchValue),t.xp6(10),t.Q6J("ngForOf",i.dto))},directives:[T._Y,T.JL,T.F,T.Fj,T.JJ,T.On,v.sg],styles:[".form-group[_ngcontent-%COMP%], .input-group[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]{margin-bottom:0}.table-fixed[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.table-fixed[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table-fixed[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{flex-basis:0;flex-grow:1;max-width:100%}.icon-td[_ngcontent-%COMP%]{max-width:-moz-fit-content!important;max-width:fit-content!important;padding:1px 15px}.title-td[_ngcontent-%COMP%]{max-width:-moz-fit-content!important;max-width:fit-content!important;padding:5px 15px 1px 1px}.description-td[_ngcontent-%COMP%]{padding-top:5px}.table-fixed[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], .table-fixed[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{display:block;height:calc(100vh - 264px);overflow-y:auto}"]}),n})(),Yi=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-list-wrapper"]],decls:1,vars:0,template:function(e,i){1&e&&t._UZ(0,"app-list")},directives:[B],styles:[""]}),n})(),F=(()=>{class n{constructor(e){this.router=e}canActivate(e,i){return!!localStorage.getItem("jwt_token")||(this.router.navigate(["login"]),!1)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(D.F0))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$i=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-form-wrapper"]],decls:1,vars:0,template:function(e,i){1&e&&t._UZ(0,"app-form")},directives:[ee.U],styles:[""]}),n})();class Bi extends et.g{constructor(){super(...arguments),this.code="",this.name="",this.headerTitle="",this.headerDescription="",this.headerIcon="",this.groupingTitle="",this.groupingDescription="",this.title="",this.description="",this.icon="",this.selector="",this.filterFieldStructure="",this.customFilterFieldStructure=!1,this.defaultPage="list",this.autoRun=!1,this.listVisible=!0,this.filterVisible=!1,this.listActionButtons=[],this.listComponentColumnFieldList=[],this.listComponentFilterFieldList=[],this.listComponentLeftGroupFieldList=[],this.listComponentTopGroupFieldList=[],this.listComponentOrderByFieldList=[],this.listComponentActionFieldList=[],this.accessControls=[],this.translations=[]}}class An{constructor(r){this.displayValue="",this.isChecked=!0,this.isVisibleOnList=!0,this.displayValue=r,this.isChecked=!0,this.isVisibleOnList=!0}}let Gi=(()=>{class n extends S.I{constructor(e){super(e,"pivot-list"),this.http=e,this.cachedDtos=new Map}getListById(e,i){const o=localStorage.getItem("cachedList"+e);if(null!=o){const s=JSON.parse(o);if(s.instanceVersion.toString()===i)return new ht.y(a=>a.next(s))}return this.requestListFromBackend(e)}requestListFromBackend(e){return this.http.get(`${y.N.serverUrl}/${this.endpoint}/ui?id=${e}`)}getVersion(e){const o={headers:(new L.WM).set("Content-Type","text/plain; charset=utf-8"),responseType:"text"};return this.http.get(`${y.N.serverUrl}/${this.endpoint}/instance-version?id=${e}`,o)}getListResult(e,i){let o="?id="+i;for(const s of e.keys())o+="&"+encodeURIComponent(s)+"="+encodeURIComponent(e.get(s));return this.http.get(`${y.N.serverUrl}/${this.endpoint}/results/${o}`)}getListResultDataExcel(e){return this.http.post(`${y.N.serverUrl}/${this.endpoint}/data-excel`,e,{responseType:"blob"})}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(L.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function zi(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",38),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw(2).headerActionButtonClicked(s)}),t._UZ(1,"i"),t._uU(2),t.qZA()}if(2&n){const e=r.$implicit;t.Gre("btn ",e.cssClass,""),t.xp6(1),t.Gre("fa ",e.icon,""),t.xp6(1),t.hij(" ",e.description," ")}}function Wi(n,r){if(1&n&&(t.TgZ(0,"div",8)(1,"div",34)(2,"div",10)(3,"div",9)(4,"h3",35),t._UZ(5,"i",36),t._uU(6),t.qZA(),t._UZ(7,"p",23),t.qZA()(),t.TgZ(8,"div",14),t.YNc(9,zi,3,7,"button",37),t.qZA()()()),2&n){const e=t.oxw();t.xp6(5),t.Gre("fa fa ",e.listDto.headerIcon,""),t.xp6(1),t.hij("",e.listDto.headerTitle," "),t.xp6(1),t.Q6J("innerHTML",e.listDto.headerDescription,t.oJD),t.xp6(2),t.Q6J("ngForOf",null==e.listDto?null:e.listDto.listActionButtons)}}function ji(n,r){if(1&n&&(t.TgZ(0,"div",39)(1,"div",40)(2,"button",41),t._UZ(3,"i",42),t.qZA(),t.TgZ(4,"button",43),t._uU(5),t.qZA()()()),2&n){const e=r.$implicit;t.xp6(5),t.hij(" ",e.description," ")}}function Xi(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",50),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2).$implicit;return t.oxw(3).updateVisibility(o)}),t._UZ(1,"i",51),t.qZA()}}function Ki(n,r){1&n&&(t.TgZ(0,"button",52),t._UZ(1,"i",53),t.qZA())}function to(n,r){1&n&&t.GkF(0)}const Rt=function(n){return{$implicit:n}};function eo(n,r){if(1&n&&(t.TgZ(0,"ul"),t.YNc(1,to,1,0,"ng-container",45),t.qZA()),2&n){const e=t.oxw(2).$implicit;t.oxw(2);const i=t.MAs(2);t.xp6(1),t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.VKq(2,Rt,e.children))}}function no(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",46),t.YNc(2,Xi,2,0,"button",47),t.YNc(3,Ki,2,0,"button",48),t.TgZ(4,"button",49),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit;return t.oxw(3).filterGroup(o)}),t._uU(5),t.qZA()(),t.YNc(6,eo,2,4,"ul",18),t.BQk()}if(2&n){const e=t.oxw().$implicit,i=t.oxw(3);t.xp6(2),t.Q6J("ngIf",i.groupHasChildred(e.children)),t.xp6(1),t.Q6J("ngIf",!i.groupHasChildred(e.children)),t.xp6(2),t.hij(" ",e.value," "),t.xp6(1),t.Q6J("ngIf",null!=e.children&&e.childrenVisible)}}function io(n,r){if(1&n&&(t.TgZ(0,"li"),t.YNc(1,no,7,4,"ng-container",18),t.qZA()),2&n){const e=r.$implicit;t.xp6(1),t.Q6J("ngIf",""!=(e.value??""))}}function oo(n,r){1&n&&t.YNc(0,io,2,1,"li",21),2&n&&t.Q6J("ngForOf",r.$implicit)}function ro(n,r){1&n&&t.GkF(0)}function so(n,r){if(1&n&&(t.TgZ(0,"ul"),t.YNc(1,oo,1,1,"ng-template",null,44,t.W1O),t.YNc(3,ro,1,0,"ng-container",45),t.qZA()),2&n){const e=t.MAs(2),i=t.oxw();t.xp6(3),t.Q6J("ngTemplateOutlet",e)("ngTemplateOutletContext",t.VKq(2,Rt,i.groupContent))}}function lo(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",2)(1,"div",9)(2,"h6",54),t._uU(3," Selections "),t.TgZ(4,"span",55),t.NdJ("click",function(){return t.CHM(e),t.oxw().clearFilterGroup()}),t._UZ(5,"i",56),t._uU(6," Clear "),t.qZA()()()()}}function ao(n,r){1&n&&(t.TgZ(0,"div",59),t._UZ(1,"i",60),t.qZA())}function co(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",61)(1,"div",62)(2,"button",49),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit;return t.oxw().filterGroupOnField(o)}),t._uU(3),t.qZA()()()}if(2&n){const e=t.oxw().$implicit;t.xp6(3),t.hij(" ",e.fieldValue," ")}}function po(n,r){if(1&n&&(t.ynx(0),t.YNc(1,ao,2,0,"div",57),t.YNc(2,co,4,1,"div",58),t.BQk()),2&n){const e=r.$implicit,i=r.first;t.xp6(1),t.Q6J("ngIf",""!=(e.fieldValue??"")&&!i),t.xp6(1),t.Q6J("ngIf",""!=(e.fieldValue??""))}}const Fn=function(n,r){return{"btn-outline-info":n,"btn-outline-default":r}};function uo(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",39)(1,"div",40)(2,"button",63),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw().setSelectedListComponentField(s)}),t._UZ(3,"i",64),t.qZA(),t.TgZ(4,"button",43),t._uU(5),t.qZA()()()}if(2&n){const e=r.$implicit;t.xp6(2),t.Q6J("ngClass",t.WLB(2,Fn,!e.isFullChecked,e.isFullChecked)),t.xp6(3),t.hij(" ",e.description," ")}}function _o(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",50),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2).$implicit;return t.oxw(3).updateVisibility(o)}),t._UZ(1,"i",51),t.qZA()}}function go(n,r){1&n&&(t.TgZ(0,"button",52),t._UZ(1,"i",53),t.qZA())}function fo(n,r){1&n&&t.GkF(0)}function mo(n,r){if(1&n&&(t.TgZ(0,"ul"),t.YNc(1,fo,1,0,"ng-container",45),t.qZA()),2&n){const e=t.oxw(2).$implicit;t.oxw(2);const i=t.MAs(2);t.xp6(1),t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.VKq(2,Rt,e.children))}}function ho(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",46),t.YNc(2,_o,2,0,"button",47),t.YNc(3,go,2,0,"button",48),t.TgZ(4,"button",49),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit;return t.oxw(3).filterGroup(o)}),t._uU(5),t.qZA()(),t.YNc(6,mo,2,4,"ul",18),t.BQk()}if(2&n){const e=t.oxw().$implicit,i=t.oxw(3);t.xp6(2),t.Q6J("ngIf",i.groupHasChildred(e.children)),t.xp6(1),t.Q6J("ngIf",!i.groupHasChildred(e.children)),t.xp6(2),t.hij(" ",e.value," "),t.xp6(1),t.Q6J("ngIf",null!=e.children&&e.childrenVisible)}}function vo(n,r){if(1&n&&(t.TgZ(0,"li"),t.YNc(1,ho,7,4,"ng-container",18),t.qZA()),2&n){const e=r.$implicit;t.xp6(1),t.Q6J("ngIf",""!=(e.value??""))}}function xo(n,r){1&n&&t.YNc(0,vo,2,1,"li",21),2&n&&t.Q6J("ngForOf",r.$implicit)}function Co(n,r){1&n&&t.GkF(0)}function bo(n,r){if(1&n&&(t.TgZ(0,"ul"),t.YNc(1,xo,1,1,"ng-template",null,44,t.W1O),t.YNc(3,Co,1,0,"ng-container",45),t.qZA()),2&n){const e=t.MAs(2),i=t.oxw();t.xp6(3),t.Q6J("ngTemplateOutlet",e)("ngTemplateOutletContext",t.VKq(2,Rt,i.groupContent))}}function To(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",2)(1,"div",9)(2,"h6",54),t._uU(3," Selections "),t.TgZ(4,"span",55),t.NdJ("click",function(){return t.CHM(e),t.oxw().clearFilterGroup()}),t._UZ(5,"i",56),t._uU(6," Clear "),t.qZA()()()()}}function yo(n,r){1&n&&(t.TgZ(0,"div",59),t._UZ(1,"i",60),t.qZA())}function Zo(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",61)(1,"div",62)(2,"button",49),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit;return t.oxw().filterGroupOnField(o)}),t._uU(3),t.qZA()()()}if(2&n){const e=t.oxw().$implicit;t.xp6(3),t.hij(" ",e.fieldValue," ")}}function Po(n,r){if(1&n&&(t.ynx(0),t.YNc(1,yo,2,0,"div",57),t.YNc(2,Zo,4,1,"div",58),t.BQk()),2&n){const e=r.$implicit,i=r.first;t.xp6(1),t.Q6J("ngIf",""!=(e.fieldValue??"")&&!i),t.xp6(1),t.Q6J("ngIf",""!=(e.fieldValue??""))}}function wo(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",9)(1,"div",40)(2,"button",63),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw(3).setSelectedListComponentField(s)}),t._UZ(3,"i",64),t.qZA(),t.TgZ(4,"button",43),t._uU(5),t.qZA()()()}if(2&n){const e=r.$implicit;t.xp6(2),t.Q6J("ngClass",t.WLB(2,Fn,!e.isFullChecked,e.isFullChecked)),t.xp6(3),t.hij(" ",e.description," ")}}function Lo(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",50),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2).$implicit;return t.oxw(5).updateVisibility(o)}),t._UZ(1,"i",51),t.qZA()}}function Oo(n,r){1&n&&(t.TgZ(0,"button",52),t._UZ(1,"i",53),t.qZA())}function Mo(n,r){1&n&&t.GkF(0)}function Ao(n,r){if(1&n&&(t.TgZ(0,"ul"),t.YNc(1,Mo,1,0,"ng-container",45),t.qZA()),2&n){const e=t.oxw(2).$implicit;t.oxw(2);const i=t.MAs(2);t.xp6(1),t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.VKq(2,Rt,e.children))}}function Fo(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",46),t.YNc(2,Lo,2,0,"button",47),t.YNc(3,Oo,2,0,"button",48),t.TgZ(4,"button",49),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit;return t.oxw(5).filterGroup(o)}),t._uU(5),t.qZA()(),t.YNc(6,Ao,2,4,"ul",18),t.BQk()}if(2&n){const e=t.oxw().$implicit,i=t.oxw(5);t.xp6(2),t.Q6J("ngIf",i.groupHasChildred(e.children)),t.xp6(1),t.Q6J("ngIf",!i.groupHasChildred(e.children)),t.xp6(2),t.hij(" ",e.value," "),t.xp6(1),t.Q6J("ngIf",null!=e.children&&e.childrenVisible)}}function Do(n,r){if(1&n&&(t.TgZ(0,"li"),t.YNc(1,Fo,7,4,"ng-container",18),t.qZA()),2&n){const e=r.$implicit;t.xp6(1),t.Q6J("ngIf",""!=(e.value??""))}}function ko(n,r){1&n&&t.YNc(0,Do,2,1,"li",21),2&n&&t.Q6J("ngForOf",r.$implicit)}function Io(n,r){1&n&&t.GkF(0)}function No(n,r){if(1&n&&(t.TgZ(0,"ul"),t.YNc(1,ko,1,1,"ng-template",null,44,t.W1O),t.YNc(3,Io,1,0,"ng-container",45),t.qZA()),2&n){const e=t.MAs(2),i=t.oxw(3);t.xp6(3),t.Q6J("ngTemplateOutlet",e)("ngTemplateOutletContext",t.VKq(2,Rt,i.groupContent))}}function Eo(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",2)(1,"div",9)(2,"h6",54),t._uU(3," Selections "),t.TgZ(4,"span",55),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).clearFilterGroup()}),t._UZ(5,"i",56),t._uU(6," Clear "),t.qZA()()()()}}function Uo(n,r){1&n&&(t.TgZ(0,"div",59),t._UZ(1,"i",60),t.qZA())}function So(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",61)(1,"div",62)(2,"button",69),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit;return t.oxw(3).filterGroupOnField(o)}),t.qZA()()()}if(2&n){const e=t.oxw().$implicit;t.xp6(2),t.Q6J("innerHTML",e.fieldValue,t.oJD)}}function qo(n,r){if(1&n&&(t.ynx(0),t.YNc(1,Uo,2,0,"div",57),t.YNc(2,So,3,1,"div",58),t.BQk()),2&n){const e=r.$implicit,i=r.first;t.xp6(1),t.Q6J("ngIf",""!=(e.fieldValue??"")&&!i),t.xp6(1),t.Q6J("ngIf",""!=(e.fieldValue??""))}}function Jo(n,r){if(1&n&&(t.TgZ(0,"div",67)(1,"div",26)(2,"div",7)(3,"div",8)(4,"div",9)(5,"div",10)(6,"h5",11),t._UZ(7,"i",12),t._uU(8),t.qZA(),t._UZ(9,"p",23),t.qZA(),t._UZ(10,"div",14),t.qZA()()(),t.TgZ(11,"div",15)(12,"div",2),t.YNc(13,wo,6,5,"div",68),t.qZA(),t.YNc(14,No,4,4,"ul",18),t.YNc(15,Eo,7,0,"div",19),t.TgZ(16,"div",20),t.YNc(17,qo,3,2,"ng-container",21),t.qZA()()()()),2&n){const e=t.oxw(2);t.xp6(8),t.hij(" ",e.listDto.groupingTitle," "),t.xp6(1),t.Q6J("innerHTML",e.listDto.groupingDescription,t.oJD),t.xp6(4),t.Q6J("ngForOf",e.listDto.listComponentLeftGroupFieldList),t.xp6(1),t.Q6J("ngIf",(null==e.groupContent?null:e.groupContent.length)>0),t.xp6(1),t.Q6J("ngIf",e.hasSelections(e.listDto.listComponentLeftGroupFieldList)),t.xp6(2),t.Q6J("ngForOf",null==e.listDto?null:e.listDto.listComponentLeftGroupFieldList)}}const Qt=function(n){return{"is-hidden":n}},le=function(n){return{"text-danger":n}};function Vo(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",73)(2,"div",74)(3,"div",73),t._uU(4),t.qZA(),t.TgZ(5,"input",75),t.NdJ("ngModelChange",function(o){return t.CHM(e),t.oxw().$implicit.fieldValue=o}),t.qZA()()(),t.BQk()}if(2&n){const e=t.oxw().$implicit,i=t.oxw(3);t.xp6(1),t.Akn(e.css),t.DjV("",e.bclass,"  L",i.listDto.id,"-",i.listDto.code,"-",e.code," filter-col"),t.Q6J("ngClass",t.VKq(13,Qt,!e.visible)),t.xp6(2),t.Q6J("ngClass",t.VKq(15,le,e.required)),t.xp6(1),t.Oqu(e.description),t.xp6(1),t.Q6J("ngModel",e.fieldValue)}}function Ro(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",73)(2,"div",74)(3,"div",76),t._uU(4),t.qZA(),t.TgZ(5,"app-numeric-input",77),t.NdJ("inputValueChange",function(o){return t.CHM(e),t.oxw().$implicit.fieldValue=o}),t.qZA()()(),t.BQk()}if(2&n){const e=t.oxw().$implicit,i=t.oxw(3);t.xp6(1),t.Akn(e.css),t.DjV("",e.bclass," L",i.listDto.id,"-",i.listDto.code,"-",e.code," filter-col"),t.Q6J("ngClass",t.VKq(15,Qt,!e.visible)),t.xp6(2),t.Q6J("ngClass",t.VKq(17,le,e.required)),t.xp6(1),t.Oqu(e.description),t.xp6(1),t.Q6J("inputValue",e.fieldValue)("mask","0*.0000")("editable",e.editable)}}function Qo(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",73)(2,"div",74)(3,"div",73),t._uU(4),t.qZA(),t.TgZ(5,"app-numeric-input",78),t.NdJ("inputValueChange",function(o){return t.CHM(e),t.oxw().$implicit.fieldValue=o}),t.qZA()()(),t.BQk()}if(2&n){const e=t.oxw().$implicit,i=t.oxw(3);t.xp6(1),t.Akn(e.css),t.DjV("",e.bclass," L",i.listDto.id,"-",i.listDto.code,"-",e.code," filter-col"),t.Q6J("ngClass",t.VKq(15,Qt,!e.visible)),t.xp6(2),t.Q6J("ngClass",t.VKq(17,le,e.required)),t.xp6(1),t.Oqu(e.description),t.xp6(1),t.Q6J("inputValue",e.fieldValue)("mask","0*")("editable",e.editable)}}function Ho(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",73)(2,"div",74)(3,"div",73),t._uU(4),t.qZA(),t.TgZ(5,"app-list-selector",79),t.NdJ("valueChange",function(o){return t.CHM(e),t.oxw().$implicit.fieldValue=o}),t.qZA()()(),t.BQk()}if(2&n){const e=t.oxw().$implicit,i=t.oxw(3);t.xp6(1),t.Akn(e.css),t.DjV("",e.bclass," L",i.listDto.id,"-",i.listDto.code,"-",e.code," filter-col"),t.Q6J("ngClass",t.VKq(17,Qt,!e.visible)),t.xp6(2),t.Q6J("ngClass",t.VKq(19,le,e.required)),t.xp6(1),t.Oqu(e.description),t.xp6(1),t.Q6J("editable",e.editable)("command",e.editor)("defaultValue",e.defaultValue)("displayValue",e.displayValue)("value",e.fieldValue)}}function Yo(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",73)(2,"div",74)(3,"div",73),t._uU(4),t.qZA(),t.TgZ(5,"app-date-picker",80),t.NdJ("inputDateChange",function(o){return t.CHM(e),t.oxw().$implicit.fieldValue=o}),t.qZA()()(),t.BQk()}if(2&n){const e=t.oxw().$implicit,i=t.oxw(3);t.xp6(1),t.Akn(e.css),t.DjV("",e.bclass," L",i.listDto.id,"-",i.listDto.code,"-",e.code," filter-col"),t.Q6J("ngClass",t.VKq(15,Qt,!e.visible)),t.xp6(2),t.Q6J("ngClass",t.VKq(17,le,e.required)),t.xp6(1),t.Oqu(e.description),t.xp6(1),t.Q6J("inputDate",e.fieldValue)("mask","dd/MM/yyyy")("editable",e.editable)}}function $o(n,r){if(1&n&&(t.ynx(0),t.YNc(1,Vo,6,17,"ng-container",18),t.YNc(2,Ro,6,19,"ng-container",18),t.YNc(3,Qo,6,19,"ng-container",18),t.YNc(4,Ho,6,21,"ng-container",18),t.YNc(5,Yo,6,19,"ng-container",18),t.BQk()),2&n){const e=r.$implicit;t.xp6(1),t.Q6J("ngIf","varchar"===e.type||"text"===e.type),t.xp6(1),t.Q6J("ngIf","double"===e.type),t.xp6(1),t.Q6J("ngIf","int"===e.type||"bigint"===e.type),t.xp6(1),t.Q6J("ngIf","list"===e.type),t.xp6(1),t.Q6J("ngIf","datetime"===e.type)}}function Bo(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",67)(1,"div",26)(2,"div",7)(3,"div",8)(4,"div",9)(5,"div",10)(6,"h5",11),t._UZ(7,"i",70),t._uU(8," Filters "),t.qZA(),t.TgZ(9,"p",71),t._uU(10," Select & "),t.TgZ(11,"b"),t._uU(12,"Refine Seach"),t.qZA()()(),t.TgZ(13,"div",14)(14,"button",72),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).getListResultData()}),t._UZ(15,"i",64),t.qZA()()()()(),t.TgZ(16,"div",15)(17,"div",2),t.YNc(18,$o,6,5,"ng-container",21),t.qZA()()()()}if(2&n){const e=t.oxw(2);t.xp6(18),t.Q6J("ngForOf",null==e.listDto?null:e.listDto.listComponentFilterFieldList)}}function Go(n,r){if(1&n&&(t.TgZ(0,"div",65)(1,"div",2),t.YNc(2,Jo,18,6,"div",66),t.YNc(3,Bo,19,1,"div",66),t.qZA()()),2&n){const e=t.oxw();t.Q6J("hidden",e.hideSideMenus),t.xp6(2),t.Q6J("ngIf",e.isGroupContentDivVisible()),t.xp6(1),t.Q6J("ngIf",null==e.listDto?null:e.listDto.filterVisible)}}function zo(n,r){1&n&&(t.TgZ(0,"button",81),t._UZ(1,"i",12),t.qZA())}function Wo(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"td",84)(1,"button",85),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).showHideSideMenus()}),t._UZ(2,"i",86),t.qZA(),t.TgZ(3,"button",87),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).showHideSideMenus()}),t._UZ(4,"i",88),t.qZA()()}if(2&n){const e=t.oxw(2);t.uIk("colspan",e.topLeftColspan)("rowspan",e.topLeftRowspan),t.xp6(1),t.Q6J("hidden",e.hideSideMenus),t.xp6(2),t.Q6J("hidden",!e.hideSideMenus)}}function jo(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",92),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,s=t.oxw(2);return s.editBranchVisibility(o),s.refreshPivot()}),t._UZ(1,"i",93),t.qZA()}}function Xo(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",92),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,s=t.oxw(2);return s.editBranchVisibility(o),s.refreshPivot()}),t._UZ(1,"i",51),t.qZA()}}function Ko(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"td",89),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw(2).pivotCellClick(s)}),t.YNc(1,jo,2,0,"button",90),t.YNc(2,Xo,2,0,"button",90),t._UZ(3,"span",91),t.qZA()}if(2&n){const e=r.$implicit;t.Akn(e.css),t.Gre("top-cells ",e.class,""),t.uIk("colspan",e.colspan)("rowspan",e.rowspan),t.xp6(1),t.Q6J("ngIf",1!=e.isBottomBranch&&e.isVisible),t.xp6(1),t.Q6J("ngIf",1!=e.isBottomBranch&&!e.isVisible),t.xp6(1),t.Q6J("innerHTML",e.displayValue,t.oJD)}}function tr(n,r){if(1&n&&(t.TgZ(0,"tr"),t.YNc(1,Wo,5,4,"td",82),t.YNc(2,Ko,4,11,"td",83),t.qZA()),2&n){const e=r.$implicit,i=r.index;t.xp6(1),t.Q6J("ngIf",0==i),t.xp6(1),t.Q6J("ngForOf",e)}}function er(n,r){if(1&n&&(t.TgZ(0,"td",95),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.uIk("colspan",1)("rowspan",1),t.xp6(1),t.hij(" ",e.description," ")}}function nr(n,r){if(1&n&&(t.ynx(0),t.YNc(1,er,2,3,"td",94),t.BQk()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.listDto.listComponentColumnFieldList)}}function ir(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",92),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,s=t.oxw(2);return s.editBranchVisibility(o),s.refreshPivot()}),t._UZ(1,"i",93),t.qZA()}}function or(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",92),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,s=t.oxw(2);return s.editBranchVisibility(o),s.refreshPivot()}),t._UZ(1,"i",51),t.qZA()}}function rr(n,r){if(1&n&&t._UZ(0,"span",91),2&n){const e=t.oxw().$implicit;t.Q6J("innerHTML",e.displayValue,t.oJD)}}const sr=function(n,r){return{"left-cells":n,"value-cells":r}};function lr(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"td",97),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw(2).pivotCellClick(s)}),t.YNc(1,ir,2,0,"button",90),t.YNc(2,or,2,0,"button",90),t.YNc(3,rr,1,1,"span",98),t.qZA()}if(2&n){const e=r.$implicit;t.Akn(e.css),t.Tol(e.class),t.Q6J("ngClass",t.WLB(12,sr,"group"==e.type,"value"==e.type)),t.uIk("rowspan",e.rowspan)("colspan",e.colspan),t.xp6(1),t.Q6J("ngIf",1!=e.isBottomBranch&&"group"==e.type&&e.isVisible),t.xp6(1),t.Q6J("ngIf",1!=e.isBottomBranch&&"group"==e.type&&!e.isVisible),t.xp6(1),t.Q6J("ngIf","empty-value"!=e.type)}}function ar(n,r){if(1&n&&(t.TgZ(0,"tr"),t.ynx(1),t.YNc(2,lr,4,15,"td",96),t.BQk(),t.qZA()),2&n){const e=r.$implicit;t.xp6(2),t.Q6J("ngForOf",e)}}function cr(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"label",114)(1,"label",115)(2,"input",116),t.NdJ("change",function(o){t.CHM(e);const s=t.oxw(2);return s.setAllFilterFieldsChecked(o,s.selectedListComponentField)}),t.qZA(),t._UZ(3,"span",117),t.qZA(),t.TgZ(4,"span",118),t._uU(5,"Select All"),t.qZA()()}}function dr(n,r){1&n&&(t.TgZ(0,"label",114)(1,"label",119),t._UZ(2,"input",120)(3,"span",117),t.qZA(),t.TgZ(4,"span",118),t._uU(5,"Select All"),t.qZA()())}function pr(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"tr",121)(1,"td")(2,"label",114)(3,"label",115)(4,"input",122),t.NdJ("change",function(o){t.CHM(e);const s=t.oxw(2);return s.refreshIsCheckedFlag(o,s.selectedListComponentField)})("ngModelChange",function(o){return t.CHM(e).$implicit.isChecked=o}),t.qZA(),t._UZ(5,"span",117),t.qZA()()(),t._UZ(6,"td",123),t.qZA()}if(2&n){const e=r.$implicit;t.xp6(4),t.Q6J("ngModel",e.isChecked),t.xp6(2),t.Q6J("innerHTML",e.displayValue,t.oJD)}}function ur(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",99)(1,"div",100)(2,"h4",101),t._UZ(3,"i",64),t._uU(4),t.qZA(),t.TgZ(5,"button",102),t._UZ(6,"i",103),t.qZA()(),t.TgZ(7,"div",104)(8,"div",2)(9,"div",9)(10,"table",105)(11,"thead",106)(12,"tr"),t._UZ(13,"th"),t.TgZ(14,"th"),t._uU(15,"Name"),t.qZA()(),t.TgZ(16,"tr")(17,"th"),t.YNc(18,cr,6,0,"label",107),t.YNc(19,dr,6,0,"label",107),t.qZA(),t.TgZ(20,"th")(21,"input",108),t.NdJ("keydown",function(o){return t.CHM(e),t.oxw().columnFilterFieldSearch(o)})("ngModelChange",function(o){return t.CHM(e),t.oxw().filterFieldSearch=o}),t.qZA()()()(),t.TgZ(22,"tbody"),t.YNc(23,pr,7,2,"tr",109),t.qZA()()()()(),t.TgZ(24,"div",110)(25,"div",111)(26,"button",112),t.NdJ("click",function(o){t.CHM(e);const s=t.oxw();return s.setAllFilterFieldsChecked(o,s.selectedListComponentField)}),t._uU(27,"Select All"),t.qZA(),t.TgZ(28,"button",113),t.NdJ("click",function(){return t.CHM(e),t.oxw().refreshPivot()}),t._uU(29,"Apply"),t.qZA()()()()}if(2&n){const e=t.oxw();t.xp6(4),t.hij(" ",e.selectedListComponentField.description," Values"),t.xp6(14),t.Q6J("ngIf",!e.selectedListComponentField.isFullChecked),t.xp6(1),t.Q6J("ngIf",e.selectedListComponentField.isFullChecked),t.xp6(2),t.Q6J("ngModel",e.filterFieldSearch),t.xp6(2),t.Q6J("ngForOf",e.returnVisibleFilterFields(e.selectedListComponentField.filterFields))}}const _r=function(n,r){return{"col-md-12":n,"col-md-10":r}};navigator;class Dn{constructor(){this.rowspan=1,this.colspan=1,this.isVisible=!0,this.isHiddenByParrent=!1,this.islineHidden=!1,this.children=[],this.class="",this.leftArrayLine=null,this.topArrayLine=null}}let kn=(()=>{class n extends Y.I{constructor(e,i,o,s,a,p,_,m,h){super(),this.service=e,this.commandNavigatorService=i,this.notificationService=o,this.datepipe=s,this.activatedRoute=a,this.tableComponentService=p,this.title=_,this.listScriptsService=m,this.dynamicCssScriptLoader=h,this.initialTopFieldTree=[],this.initialLeftFieldTree=[],this.topFieldTree=[],this.leftFieldTree=[],this.topViewArrayLines=new Array,this.leftViewArrayLines=new Array,this.topArrayLines=new Array,this.leftArrayLines=new Array,this.valuesArray=new Array,this.totalTopCols=0,this.showPrevPagination=!1,this.showNextPagination=!1,this.listHeaderVisible=!1,this.filterHeaderVisible=!1,this.listBodyVisible=!0,this.topLeftColspan=0,this.topLeftRowspan=0,this.embeded=!1,this.embededParams="",this.hideSideMenus=!1,this.filterFieldSearch=""}counter(e){return new Array(e)}ngOnInit(){if(this.initNav(this.activatedRoute),this.getLocateParams().has("ID")){const e=this.getLocateParams().get("ID");this.refresh(e)}}refresh(e){this.listDto=new Bi,this.service.getVersion(e).pipe((0,I.b)(i=>this.service.getListById(e,i))).subscribe(i=>{localStorage.setItem("cachedList"+e,JSON.stringify(i)),this.listDto=i,this.listDto.listComponentTopGroupFieldList=this.listDto.listComponentTopGroupFieldList.filter(o=>!0===o.visible),this.listDto.listComponentLeftGroupFieldList=this.listDto.listComponentLeftGroupFieldList.filter(o=>!0===o.visible),this.listDto.listComponentTopGroupFieldList.forEach(o=>o.isExpanded=!0),this.listDto.listComponentLeftGroupFieldList.forEach(o=>o.isExpanded=!0),this.listHeaderVisible=this.listDto.listVisible,this.filterHeaderVisible=this.listDto.filterVisible,this.setDefaultCommandParams(),this.dynamicCssScriptLoader.addScript(e,"list"),this.defineTitle(),this.listScriptsService.loadWithPromise(this).then(o=>{this.listDto.autoRun&&this.getListResultData()})})}defineTitle(){this.commandShowCustomTitle()&&this.title.setTitle(this.getWindowCustomTitleFromCommand())}getListResultData(){let e=!1;for(const o of this.listDto.listComponentFilterFieldList)(null==o.fieldValue||""===o.fieldValue)&&o.required&&(this.notificationService.showNotification("top","center","alert-danger","fa-id-card","<b>Filters error</b> Required filter field "+o.description+" is empty!"),e=!0);if(e)return;const i=new Map;for(const o of this.listDto.listComponentFilterFieldList)if(null!=o.fieldValue&&""!==o.fieldValue){let s="";s="datetime"===o.type?this.datepipe.transform(o.fieldValue,"yyyyMMddHHmmss","UTC"):o.fieldValue,i.set(o.code,s)}this.service.getListResult(i,this.listDto.id).subscribe(o=>{this.listResultsData=o,this.createPivot(),this.listScriptsService.triggerListEvent(this.listDto.id,"onListDataLoaded",o)})}export_xls(){let e='<html xmlns:x="urn:schemas-microsoft-com:office:excel">';if(e+="<head><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet>",e+="<x:Name>Test Sheet</x:Name>",e+="<x:WorksheetOptions><x:Panes></x:Panes></x:WorksheetOptions></x:ExcelWorksheet>",e+="</x:ExcelWorksheets></x:ExcelWorkbook></xml></head><body>",e+='<table border="1px"">',e+='<tr><td rowspan="2" style="cursor: pointer;border: 1px solid #b3d7ff;background-color: #f7f7f7;padding: 130px;">a</td><td>b</td></tr>',e+="<tr><td>c</td></tr>",e+="</table></body></html>",window.navigator.userAgent.indexOf("MSIE ")>0||navigator.userAgent.match(/Trident.*rv\:11\./)){if(window.navigator.msSaveBlob){const a=new Blob([e],{type:"application/csv;charset=utf-8;"});navigator.msSaveBlob(a,"Test file.xlsx")}}else{const a=document.createElement("a");document.body.appendChild(a),a.href="data:application/vnd.ms-excel, "+encodeURIComponent(e),a.download="Test file.xlsx",a.click()}}createPivot(){this.createInitialPivotTrees(),this.createDefaultPivotTrees(),this.editInitialHiddenBranchesVisibility(),this.editPivotLinesVisibility(),this.createFilterFields(),this.createPivotViewArrays(),this.createPivotArrays(),this.createPivotValuesArray()}refreshPivot(){this.createPivotTrees(),0!==this.leftFieldTree.length&&0!==this.topFieldTree.length&&(this.editPivotLinesVisibility(),this.createPivotViewArrays(),this.createPivotArrays(),this.createPivotValuesArray())}createInitialPivotTrees(){this.initialLeftFieldTree=this.createFieldTree(this.listDto.listComponentLeftGroupFieldList,this.listResultsData),this.initialTopFieldTree=this.createFieldTree(this.listDto.listComponentTopGroupFieldList,this.listResultsData)}createDefaultPivotTrees(){this.leftFieldTree=this.initialLeftFieldTree,this.topFieldTree=this.initialTopFieldTree}createPivotTrees(){this.leftFieldTree=this.applyFieldsFiltersToPivotTrees(this.listDto.listComponentLeftGroupFieldList,this.initialLeftFieldTree,0),this.topFieldTree=this.applyFieldsFiltersToPivotTrees(this.listDto.listComponentTopGroupFieldList,this.initialTopFieldTree,0)}applyFieldsFiltersToPivotTrees(e,i,o){let s;const a=[],p=e[o];if(p.isFullChecked)s=i;else{const _=p.filterFields.filter(h=>h.isChecked).map(h=>h.displayValue);s=i.filter(h=>-1!==_.indexOf(h.displayValue.toString()))}return s.forEach(_=>{_.isBottomBranch||(_.children=this.applyFieldsFiltersToPivotTrees(e,_.children,o+1)),(_.children.length>0||_.isBottomBranch)&&a.push(_)}),a}createPivotViewArrays(){this.leftViewArrayLines=[],this.leftViewArrayLines=this.leftTreeToViewArray(this.leftFieldTree),this.topViewArrayLines=[],this.topTreeToViewArray(this.topFieldTree,this.topViewArrayLines,0,this.listDto.listComponentColumnFieldList.length)}createFilterFields(){const e=new Array;this.treeToVisibilityLineArray(this.topFieldTree,e,0);let i=0;this.listDto.listComponentTopGroupFieldList.forEach(s=>{s.filterFields=[],s.isFullChecked=!0;const a=[];e[i].forEach(p=>{a.includes(p.displayValue)||a.push(p.displayValue)}),a.sort(),a.forEach(p=>s.filterFields.push(new An(p))),i++});const o=new Array;this.treeToVisibilityLineArray(this.leftFieldTree,o,0),i=0,this.listDto.listComponentLeftGroupFieldList.forEach(s=>{s.filterFields=[],s.isFullChecked=!0;const a=[];o[i].forEach(p=>{a.includes(p.displayValue)||a.push(p.displayValue)}),a.sort(),a.forEach(p=>s.filterFields.push(new An(p))),i++})}editPivotLinesVisibility(){const e=new Array;this.treeToVisibilityLineArray(this.topFieldTree,e,0);const i=new Array;this.treeToVisibilityLineArray(this.leftFieldTree,i,0),e.concat(i).forEach(o=>{let s=!0;o.filter(a=>!a.isHiddenByParrent).length>0&&(s=!1),o.forEach(a=>a.islineHidden=s)})}createPivotArrays(){this.leftArrayLines=[],this.leftArrayLines=this.treeToArray(this.leftFieldTree),this.topArrayLines=[],this.topArrayLines=this.treeToArray(this.topFieldTree)}createPivotValuesArray(){this.valuesArray=this.calcValueArray(this.leftArrayLines,this.topArrayLines,this.listDto.listComponentColumnFieldList),this.totalTopCols=this.findTotalTopCols(this.topFieldTree,0),this.topLeftColspan=0,this.leftArrayLines[0].forEach(e=>this.topLeftColspan+=e.colspan),this.topLeftRowspan=1,this.topArrayLines[0].forEach(e=>this.topLeftRowspan+=e.rowspan);for(let e=0;e<this.leftViewArrayLines.length;e++)this.leftViewArrayLines[e]=this.leftViewArrayLines[e].concat(this.valuesArray[e])}findTotalTopCols(e,i){return e.forEach(o=>{(o.isBottomBranch||!o.isVisible)&&(i+=1),null!=o.children&&o.isVisible&&(i=this.findTotalTopCols(o.children,i))}),i}createFieldTree(e,i){const o=[];return i.listContent.forEach(s=>{let a,p=o;e.forEach(_=>{const m=s[_.code],h=p.filter(Z=>Z.displayValue===m);0===h.length?(a=new Dn,a.code=_.code,a.displayValue=m,a.type="group",a.children=[],a.listRows=[],a.isBottomBranch=!1,a.isVisible=_.isExpanded,p.push(a)):a=h[0],p=a.children}),a.listRows.push(s),a.isBottomBranch=!0}),o}createSpansOnTopTree(e,i){e.forEach(s=>{let a=i;s.children.length>0&&(a=this.createSpansOnTopTree(s.children,i)),s.colspan=a});let o=0;return e.forEach(s=>{o+=s.colspan}),o}getTopTreeValueLinesList(e,i){e.filter(o=>!0===o.isBottomBranch).forEach(o=>{i.push(o.listRows)}),e.forEach(o=>{o.children.length>0&&this.getTopTreeValueLinesList(o.children,i)})}leftTreeToArray(e){const i=new Array;return e.forEach(o=>{o.children.length>0?this.leftTreeToArray(o.children).forEach(a=>{i.push([o].concat(a))}):i.push([o])}),i}topTreeToViewArray(e,i,o,s){i[o]=null==i[o]?e:i[o].concat(e),e.forEach(a=>{if(a.children.length>0&&a.isVisible)a.rowspan=1,a.colspan=a.children.length*s,this.topTreeToViewArray(a.children,i,o+1,s);else if(a.children.length>0){const p=this.findTreeRemainingDepth(a,1);a.rowspan=p,a.colspan=s}else a.rowspan=1,a.colspan=s})}treeToVisibilityLineArray(e,i,o){i[o]=null==i[o]?e:i[o].concat(e),e.forEach(s=>{s.children.length>0&&this.treeToVisibilityLineArray(s.children,i,o+1)})}leftTreeToViewArray(e){const i=new Array;return e.forEach(o=>{if(o.children.length>0&&o.isVisible){const s=this.leftTreeToViewArray(o.children);let a=0;o.children.forEach(_=>a+=_.rowspan);let p=0;s.forEach(_=>{0===p?(o.rowspan=a,o.colspan=1,i.push([o].concat(_))):i.push(_),p++})}else if(o.children.length>0){const s=this.findTreeRemainingDepth(o,1);o.rowspan=1,o.colspan=s,i.push([o])}else o.rowspan=1,o.colspan=1,i.push([o])}),i}treeToArray(e){const i=new Array;return e.forEach(o=>{o.children.length>0&&o.isVisible?this.treeToArray(o.children).forEach(a=>{i.push([o].concat(a))}):i.push([o])}),i}createArrayFromTree(e){const i=[];return e.forEach(o=>{o.children.length>0?this.createArrayFromTree(o.children).forEach(a=>{i.push([o].concat(a))}):i.push([o])}),i}reverseArray(e){const i=[],o=e.length,s=e[0].length;for(let a=0;a<s;a++){const p=[];for(let _=0;_<o;_++)p.push(e[_][a]);i.push(p)}return i}countTreePaths(e){let i=0;return e.forEach(o=>{i+=o.children.length>0?this.countTreePaths(o.children):1}),i}listDeleteCommandExecute(e){const i=this.commandParserService.parse(e);"LIST-DELETE"===i.get("COMMAND-TYPE")&&i.has("COMPONENT-ID")&&i.has("SELECTION-ID")&&this.tableComponentService.deleteComponentData(i.get("COMPONENT-ID"),i.get("SELECTION-ID")).subscribe(s=>{this.getListResultData()})}updateVisibility(e){e.childrenVisible=!e.childrenVisible}filterGroup(e){this.clearValuesToListComponentLeftGroupFieldList(),this.setValueToListComponentLeftGroupFieldList(e.code,e.value),null!=e.parrent&&this.filterGroupParrent(e.parrent),this.getListResultData()}filterGroupOnField(e){let i=!1,o=!1;for(const s of this.listDto.listComponentLeftGroupFieldList)i&&(s.fieldValue="",o=!0),s.id===e.id&&(i=!0);o&&this.getListResultData()}clearFilterGroup(){this.clearValuesToListComponentLeftGroupFieldList(),this.getListResultData()}filterGroupParrent(e){this.setValueToListComponentLeftGroupFieldList(e.code,e.value),null!=e.parrent&&this.filterGroupParrent(e.parrent)}isGroupContentDivVisible(){return this.listDto.listComponentLeftGroupFieldList.length>0}columnFilterFieldSearch(e){"Enter"===e.key&&this.selectedListComponentField.filterFields.forEach(i=>{i.isVisibleOnList=!(""!==this.filterFieldSearch&&null!=this.filterFieldSearch&&!i.displayValue.match(this.filterFieldSearch))})}columnFilterRefreshData(e,i){if(e.shiftKey&&"ArrowLeft"===e.key){const o=document.getElementsByClassName("header-col-"+(i-1));o.length>0&&this.findContorlField(o[0].children)}if(e.shiftKey&&"ArrowRight"===e.key){const o=document.getElementsByClassName("header-col-"+(i+1));o.length>0&&this.findContorlField(o[0].children)}if(e.shiftKey&&"ArrowDown"===e.key){const o=document.getElementsByClassName("row-0-col-"+i);o.length>0&&this.findContorlField(o[0].children)}e.altKey&&"Enter"===e.key&&1===this.listResultsData.listContent.length&&this.emitReturningValues(this.listResultsData.listContent[0]),"Enter"===e.key&&this.getListResultData()}emitReturningValues(e){if(this.params.has("RETURN")){const i=[],o=this.params.get("RETURN");o in e&&(i.RETURN=e[o]);const s=[],a=this.getReturningDisplayValues();for(const[p,_]of a)p in e&&s.push(e[p]);i["RETURN-DISLPAY"]=s.join(" "),i.EXECUTED=!0,this.selectEmmiter.emit(i)}}showPreviousPageButton(){return null!==this.previousPage}navigateToPreviousPage(){this.commandNavigatorService.navigateToPreviousPage(this.pageId)}headerActionButtonClicked(e){this.listScriptsService.listNativeHeaderButtonClickHandler(this.listDto.id,e.code),this.commandNavigatorService.navigate(e.editor)}showTopHeader(){return(null==this.listDto.headerIcon?0:this.listDto.headerIcon.length)>0||(null==this.listDto.headerTitle?0:this.listDto.headerTitle.length)>0||(null==this.listDto.headerDescription?0:this.listDto.headerDescription.length)>0}groupHasChildred(e){return e.filter(o=>""!==(o.value??"")).length>0}hasSelections(e){return e.filter(o=>""!==(o.fieldValue??"")).length>0}calcColSpan(e,i){let o=0;return null!=i&&(o=i.length),null!=e&&e.length>0&&(o+=1),o}filterHiddenColumns(e){return null==e?null:e.filter(i=>i.visible)}filterHiddenRows(e){return null==e?null:e.filter(i=>!0!==i["hide-row"])}listEventOccured(e,i,o){["listselected","listcleared"].includes(e.eventtype)}showHideSideMenus(){this.hideSideMenus=!this.hideSideMenus}editBranchVisibility(e){e.isVisible?(e.isVisible=!1,this.editChildBranchesVisibility(e.children,!0)):(e.isVisible=!0,this.editChildBranchesVisibility(e.children,!1))}setAllFilterFieldsChecked(e,i){i.filterFields.forEach(o=>o.isChecked=!0),i.isFullChecked=!0}refreshIsCheckedFlag(e,i){i.isFullChecked=!(i.filterFields.filter(s=>!s.isChecked).length>0)}setSelectedListComponentField(e){this.selectedListComponentField=e,this.selectedListComponentField.filterFields.forEach(i=>i.isVisibleOnList=!0),this.filterFieldSearch=""}returnVisibleFilterFields(e){return e.filter(i=>i.isVisibleOnList)}findTreeRemainingDepth(e,i){if(e.children.length>0){let o=i;return e.children[0].islineHidden||(o+=1),this.findTreeRemainingDepth(e.children[0],o)}return i}calcValueArray(e,i,o){const s=[];return e.forEach(p=>{const _=this.findListRowsOfArrayLine(p),m=[];i.forEach(h=>{const Z=this.filterRows(_,h);o.forEach(w=>{const J=this.calcValueBranch(w,Z,p,h);m.push(J)})}),s.push(m)}),s}findListRowsOfArrayLine(e){if(e[e.length-1].isBottomBranch)return e[e.length-1].listRows;const o=[];return this.findListRowsOfBranches(e[e.length-1].children,o),o}findListRowsOfBranches(e,i){e.forEach(o=>{o.isBottomBranch?o.listRows.forEach(s=>i.push(s)):this.findListRowsOfBranches(o.children,i)})}filterRows(e,i){let o=[],s=e;return i.forEach(a=>{s.forEach(p=>{p[a.code]===a.displayValue&&o.push(p)}),s=o,o=[]}),s}setDefaultCommandParams(){this.getParams("DEFAULTS").forEach((e,i)=>{this.listDto.listComponentFilterFieldList.filter(o=>o.code===i).forEach(o=>o.fieldValue=e),this.listDto.listComponentColumnFieldList.filter(o=>o.code===i).forEach(o=>o.fieldValue=e)})}clearValuesToListComponentLeftGroupFieldList(){for(const e of this.listDto.listComponentLeftGroupFieldList)e.fieldValue=""}setValueToListComponentLeftGroupFieldList(e,i){for(const o of this.listDto.listComponentLeftGroupFieldList)o.code===e&&(o.fieldValue=i)}findContorlField(e){for(let i=0;i<e.length;i++)if(e[i].classList.contains("ctrl-field"))return e[i].focus(),!0;for(let i=0;i<e.length;i++)if(this.findContorlField(e[i].children))return!0;return!1}calcValueBranch(e,i,o,s){let a=this.listScriptsService.calcPivotValueBranch(this.listDto.id,e,i,o,s);return null==a?(a=new Dn,a.displayValue="",a.type="empty-value"):(a.colspan=1,a.rowspan=1,a.code=e.code,a.listRows=i,a.leftArrayLine=o,a.topArrayLine=s),a}editChildBranchesVisibility(e,i){e.forEach(o=>{o.isHiddenByParrent=i,this.editChildBranchesVisibility(o.children,i)})}editInitialHiddenBranchesVisibility(){this.leftFieldTree.forEach(e=>this.editInitialHiddenBranchVisibility(e)),this.topFieldTree.forEach(e=>this.editInitialHiddenBranchVisibility(e))}editInitialHiddenBranchVisibility(e){e.isVisible||(e.isVisible=!1,this.editChildBranchesVisibility(e.children,!0)),e.children.forEach(i=>this.editInitialHiddenBranchVisibility(i))}pivotCellClick(e){this.listScriptsService.pivotCellClick(this.listDto.id,e)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Gi),t.Y36(A.s),t.Y36(vt.g),t.Y36(v.uU),t.Y36(D.gz),t.Y36(nt.q),t.Y36(q.Dx),t.Y36(Ct),t.Y36(de.z))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-pivol-list"]],inputs:{embeded:"embeded",embededParams:"embededParams"},features:[t.qOj],decls:57,vars:32,consts:[["class","row formnav",4,"ngIf"],[1,"tab-pane","form-area",3,"ngClass"],[1,"row"],[1,"col"],[1,"row",2,"padding-right","10px","padding-left","10px"],[1,"col-md-2","col-sm-12","col-12","top-row-padding",3,"hidden"],[1,"card","top-card"],[1,"card-header"],[1,"row","formnav"],[1,"col-12"],[1,"pull-left"],[1,"card-title",2,"margin-bottom","0px"],[1,"fas","fa-stream"],[2,"margin-bottom","21px"],[1,"pull-right"],[1,"card-body"],[1,"row","row-small-padding"],["class","col-md-auto col-no-padding",4,"ngFor","ngForOf"],[4,"ngIf"],["class","row",4,"ngIf"],[1,"row",2,"padding-right","15px","padding-left","15px"],[4,"ngFor","ngForOf"],[1,"col","top-row-padding",2,"margin-bottom","10px",3,"hidden"],[2,"margin-bottom","0px",3,"innerHTML"],["class","col-md-2 col-sm-12 col-12 entity-parent-col","style","padding-right: 5px;padding-left: 5px;",3,"hidden",4,"ngIf"],[1,"col-sm-12","col-12",2,"padding-right","5px","padding-left","5px",3,"ngClass"],[1,"card"],[1,"card-body","card-body-overflow"],["type","button","style","position: absolute; top: 15px; left: 17px;display: none;","class","btn btn-outline-default btn-icon btn-sm",4,"ngIf"],[1,"container",2,"padding","0px","margin","0px"],[2,"margin-bottom","0rem"],["aria-labelledby","ModalLabel","id","filterRowValuesModal","role","dialog","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],["class","modal-content",4,"ngIf"],[1,"col-sm-12"],[2,"margin-top","20px","margin","0px","margin-top","10px"],[2,"padding-right","5px"],["style","margin-top: 0px;",3,"class","click",4,"ngFor","ngForOf"],[2,"margin-top","0px",3,"click"],[1,"col-md-auto","col-no-padding"],[1,"btn-group"],["type","button",1,"btn","left-group-button","btn-outline-default","active-header","side-field-button"],[1,"fa","fa-circle-dot"],[1,"btn","left-group-button","btn-outline-default","side-field-button",2,"border","1px solid #66615b !important"],["recursiveList",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,""],["type","button","class","btn left-group-button btn-outline-info active-header","style","padding: 2px;font-size: 10px;",3,"click",4,"ngIf"],["type","button","class","btn left-group-button btn-outline-default active-header","style","padding: 2px;font-size: 10px;border: 2px solid #959494 !important; color: #959494;",4,"ngIf"],[1,"btn","left-group-button","btn-outline-default",2,"border","1px solid #66615b !important",3,"click"],["type","button",1,"btn","left-group-button","btn-outline-info","active-header",2,"padding","2px","font-size","10px",3,"click"],[1,"fa","fa-plus"],["type","button",1,"btn","left-group-button","btn-outline-default","active-header",2,"padding","2px","font-size","10px","border","2px solid #959494 !important","color","#959494"],[1,"fas","fa-circle",2,"color","#959494"],[1,"float-left"],[2,"color","#ff733e","cursor","pointer",3,"click"],[1,"fas","fa-trash"],["class","col-md-auto","style","padding-left: 0px;padding-right: 0px;",4,"ngIf"],["class","col-md-auto","style","padding-left: 0px;padding-right: 0px;padding-top: 2px;",4,"ngIf"],[1,"col-md-auto",2,"padding-left","0px","padding-right","0px"],[1,"fas","fa-angle-double-right",2,"padding-top","8px"],[1,"col-md-auto",2,"padding-left","0px","padding-right","0px","padding-top","2px"],[1,"text-center"],["type","button","data-target","#filterRowValuesModal","data-toggle","modal",1,"btn","left-group-button","btn-outline-info","active-header","side-field-button",3,"ngClass","click"],[1,"fa","fa-filter"],[1,"col-md-2","col-sm-12","col-12","entity-parent-col",2,"padding-right","5px","padding-left","5px",3,"hidden"],["style","margin-bottom: 10px;","class","col-12",4,"ngIf"],[1,"col-12",2,"margin-bottom","10px"],["class","col-12",4,"ngFor","ngForOf"],[1,"btn","left-group-button","btn-outline-default",2,"border","1px solid #66615b !important",3,"innerHTML","click"],[1,"fas","fa-filter"],[2,"margin-bottom","5px"],["title","Filter",1,"btn","btn-icon","btn-sm","btn-outline-success",3,"click"],[3,"ngClass"],[1,"form-group"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"text-danger",3,"ngClass"],[3,"inputValue","mask","editable","inputValueChange"],["readonly","",3,"inputValue","mask","editable","inputValueChange"],[3,"editable","command","defaultValue","displayValue","value","valueChange"],[3,"inputDate","mask","editable","inputDateChange"],["type","button",1,"btn","btn-outline-default","btn-icon","btn-sm",2,"position","absolute","top","15px","left","17px","display","none"],["valign","top",4,"ngIf"],[3,"class","style","click",4,"ngFor","ngForOf"],["valign","top"],["title","Show Side Menus",1,"btn","btn-icon","btn-sm","btn-outline-default","side-toggle",3,"hidden","click"],[1,"fa","fa-up-right-and-down-left-from-center"],["title","Hide Side Menus",1,"btn","btn-icon","btn-sm","btn-outline-default","side-toggle",3,"hidden","click"],[1,"fa","fa-down-left-and-up-right-to-center"],[3,"click"],["type","button","class","btn btn-outline-info btn-expand",3,"click",4,"ngIf"],[2,"padding-left","2px",3,"innerHTML"],["type","button",1,"btn","btn-outline-info","btn-expand",3,"click"],[1,"fa","fa-minus"],["class","col-header-cells",4,"ngFor","ngForOf"],[1,"col-header-cells"],[3,"ngClass","class","style","click",4,"ngFor","ngForOf"],[3,"ngClass","click"],["style","padding-left: 2px",3,"innerHTML",4,"ngIf"],[1,"modal-content"],[1,"modal-header","justify-content-center"],[1,"title","title-up","modal-title",2,"margin-top","0px"],["aria-label","Close","data-dismiss","modal","type","button",1,"close"],[1,"fa","fa-times"],[1,"modal-body"],[1,"table","table-striped","table-fixed"],[1,"text-primary"],["class","form-check-label",4,"ngIf"],["type","text",1,"ctrl-field","form-control",3,"ngModel","keydown","ngModelChange"],["style","cursor: pointer;",4,"ngFor","ngForOf"],[1,"modal-footer"],[1,"left-side"],["type","button",1,"btn","btn-outline-default",3,"click"],["data-dismiss","modal","type","button",1,"btn","btn-outline-info",3,"click"],[1,"form-check-label"],[1,"checkbox",2,"margin-bottom","0px","margin-top","0px"],["type","checkbox",3,"change"],[1,"info"],[2,"position","absolute","top","28px"],[1,"checkbox","checkbox-disabled",2,"margin-bottom","0px","margin-top","0px"],["type","checkbox","checked","","disabled","disabled"],[2,"cursor","pointer"],["type","checkbox",3,"ngModel","change","ngModelChange"],[3,"innerHTML"]],template:function(e,i){1&e&&(t.YNc(0,Wi,10,6,"div",0),t.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9)(10,"div",10)(11,"h5",11),t._UZ(12,"i",12),t._uU(13," Analysis Fields "),t.qZA(),t._UZ(14,"p",13),t.qZA(),t._UZ(15,"div",14),t.qZA()()(),t.TgZ(16,"div",15)(17,"div",16),t.YNc(18,ji,6,1,"div",17),t.qZA(),t.YNc(19,so,4,4,"ul",18),t.YNc(20,lo,7,0,"div",19),t.TgZ(21,"div",20),t.YNc(22,po,3,2,"ng-container",21),t.qZA()()()(),t.TgZ(23,"div",22)(24,"div",6)(25,"div",7)(26,"div",8)(27,"div",9)(28,"div",10)(29,"h5",11),t._UZ(30,"i"),t._uU(31),t.qZA(),t._UZ(32,"p",23),t.qZA(),t._UZ(33,"div",14),t.qZA()()(),t.TgZ(34,"div",15)(35,"div",16),t.YNc(36,uo,6,5,"div",17),t.qZA(),t.YNc(37,bo,4,4,"ul",18),t.YNc(38,To,7,0,"div",19),t.TgZ(39,"div",20),t.YNc(40,Po,3,2,"ng-container",21),t.qZA()()()()(),t.TgZ(41,"div",4),t.YNc(42,Go,4,3,"div",24),t.TgZ(43,"div",25)(44,"div",26)(45,"div",27),t.YNc(46,zo,2,0,"button",28),t.TgZ(47,"div",29)(48,"table",30)(49,"tbody"),t.YNc(50,tr,3,2,"tr",21),t.TgZ(51,"tr"),t.YNc(52,nr,2,1,"ng-container",21),t.qZA(),t.YNc(53,ar,3,1,"tr",21),t.qZA()()()()()()()()()(),t.TgZ(54,"div",31)(55,"div",32),t.YNc(56,ur,30,5,"div",33),t.qZA()()),2&e&&(t.Q6J("ngIf",i.showTopHeader()),t.xp6(1),t.Q6J("ngClass",t.VKq(27,Qt,!i.listBodyVisible)),t.xp6(4),t.Q6J("hidden",i.hideSideMenus),t.xp6(13),t.Q6J("ngForOf",i.listDto.listComponentColumnFieldList),t.xp6(1),t.Q6J("ngIf",(null==i.groupContent?null:i.groupContent.length)>0),t.xp6(1),t.Q6J("ngIf",i.hasSelections(i.listDto.listComponentLeftGroupFieldList)),t.xp6(2),t.Q6J("ngForOf",null==i.listDto?null:i.listDto.listComponentLeftGroupFieldList),t.xp6(1),t.Q6J("hidden",i.hideSideMenus),t.xp6(7),t.Gre("fas ",i.listDto.icon,""),t.xp6(1),t.hij(" ",i.listDto.title," "),t.xp6(1),t.Q6J("innerHTML",i.listDto.description,t.oJD),t.xp6(4),t.Q6J("ngForOf",i.listDto.listComponentTopGroupFieldList),t.xp6(1),t.Q6J("ngIf",(null==i.groupContent?null:i.groupContent.length)>0),t.xp6(1),t.Q6J("ngIf",i.hasSelections(i.listDto.listComponentLeftGroupFieldList)),t.xp6(2),t.Q6J("ngForOf",null==i.listDto?null:i.listDto.listComponentLeftGroupFieldList),t.xp6(2),t.Q6J("ngIf",i.isGroupContentDivVisible()||i.listDto.filterVisible),t.xp6(1),t.Q6J("ngClass",t.WLB(29,_r,i.hideSideMenus,!i.hideSideMenus)),t.xp6(3),t.Q6J("ngIf",i.isGroupContentDivVisible()),t.xp6(3),t.Gre("list-table-body list-table-body-",i.listDto.id,""),t.xp6(1),t.Q6J("ngForOf",i.topViewArrayLines),t.xp6(2),t.Q6J("ngForOf",i.counter(i.totalTopCols)),t.xp6(1),t.Q6J("ngForOf",i.leftViewArrayLines),t.xp6(3),t.Q6J("ngIf",null!=i.selectedListComponentField))},directives:[v.O5,v.sg,v.mk,v.tP,T.Fj,T.JJ,T.On,ue.A,bt.p,Gt.L,T.Wl],styles:['.side-field-button[_ngcontent-%COMP%]{margin:2px;padding:2px;font-size:10px;border:1px solid #51bcda!important}.col-no-padding[_ngcontent-%COMP%]{padding:0}.row-small-padding[_ngcontent-%COMP%]{padding-left:15px}.top-row-padding[_ngcontent-%COMP%]{margin-bottom:10px;padding-left:5px;padding-right:5px}.top-card[_ngcontent-%COMP%]{height:100%}.top-cells[_ngcontent-%COMP%], .left-cells[_ngcontent-%COMP%]{cursor:pointer;border:1px solid #b3d7ff;background-color:#f7f7f7;padding:3px}.value-cells[_ngcontent-%COMP%]{border:1px solid #b3d7ff;padding:3px}.col-header-cells[_ngcontent-%COMP%]{cursor:pointer;border:1px solid #b3d7ff;background-color:#d3eeff;padding:3px}.btn-expand[_ngcontent-%COMP%]{padding:1px;font-size:9px;border:1px solid #51bcda!important;color:#51bcda;margin:0 0 2px}.side-toggle[_ngcontent-%COMP%]{margin-top:0!important;margin-right:13px!important;height:1.675rem!important;min-width:1.675rem!important;width:1.675rem!important}.side-toggle[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:10px!important}.card-body-overflow[_ngcontent-%COMP%]{overflow:auto!important}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding-top:1px;padding-bottom:1px;font-size:12px;border-top:0px solid #dee2e6}.table[_ngcontent-%COMP%]{margin-bottom:1px;margin-top:3px}@keyframes check{0%{height:0;width:0}25%{height:0;width:10px}50%{height:20px;width:10px}}.checkbox-disabled[_ngcontent-%COMP%]{background-color:#bbb!important}.checkbox[_ngcontent-%COMP%]{background-color:#fff;display:inline-block;height:28px;margin:4px;width:28px;border-radius:4px;border:1px solid #ccc;cursor:pointer}.checkbox[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;height:28px;position:relative;width:28px;padding:0}.checkbox[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:after{transform:scaleX(-1) rotate(135deg);transform-origin:left top;border-right:4px solid #fff;border-top:4px solid #fff;content:"";display:block;height:20px;left:3px;position:absolute;top:15px;width:10px}.checkbox[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover:after{border-color:#999}.checkbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}.checkbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + span[_ngcontent-%COMP%]:after{animation:check .8s;border-color:#555}.checkbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .default[_ngcontent-%COMP%]:after{border-color:#444}.checkbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .primary[_ngcontent-%COMP%]:after{border-color:#2196f3}.checkbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .success[_ngcontent-%COMP%]:after{border-color:#8bc34a}.checkbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .info[_ngcontent-%COMP%]:after{border-color:#3de0f5}.checkbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .warning[_ngcontent-%COMP%]:after{border-color:#ffc107}.checkbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .danger[_ngcontent-%COMP%]:after{border-color:#f44336}.table-fixed[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{width:100%}.table-fixed[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], .table-fixed[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{display:block}.table-fixed[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.table-fixed[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table-fixed[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{flex-basis:0;flex-grow:1;max-width:100%;padding:1px}.table-fixed[_ngcontent-%COMP%]   .sortable[_ngcontent-%COMP%]:after{content:"\\f0dc";position:relative;bottom:1px;display:inline-block;right:-7px;font-family:FontAwesome;opacity:.4;font-size:11px}.table-fixed[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{max-height:400px;overflow-y:auto}.is-hidden[_ngcontent-%COMP%]{display:none}']}),n})(),gr=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-pivot-list-wrapper"]],decls:1,vars:0,template:function(e,i){1&e&&t._UZ(0,"app-pivol-list")},directives:[kn],styles:[""]}),n})();class fr extends et.g{constructor(){super(),this.filterList=new Array}}var mr=x(4850);class hr{}let vr=(()=>{class n extends S.I{constructor(e){super(e,"timeline"),this.http=e}getByIdWithParams(e,i,o){return this.http.get(`${y.N.serverUrl}/${this.endpoint}/data/?id=${e}${i}&currentPage=${o}`)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(L.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xr=(()=>{class n{constructor(e){this.datepipe=e}replaceIsoToClientDateFormatsInText(e){return e=this.replaceIsoToClientDateFormatInText(e),this.replaceIsoToClientDateTimeFormatInText(e)}replaceIsoToClientDateFormatInText(e){const i=e?.match(/isoToClientDateFormat\([^\)]+\)/g);return i&&i.forEach(o=>{const s=o.substring(22,o.length-1),a=new Date(s),p=this.datepipe.transform(a,"dd/MM/yyyy");e=e.replace(o,p)}),e}replaceIsoToClientDateTimeFormatInText(e){const i=e?.match(/isoToClientDateTimeFormat\([^\)]+\)/g);return i&&i.forEach(o=>{const s=o.substring(26,o.length-1),a=new Date(s),p=this.datepipe.transform(a,"dd/MM/yyyy hh:mm");e=e.replace(o,p)}),e}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(v.uU))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Cr(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",20)(1,"app-date-picker",21),t.NdJ("inputDateChange",function(o){return t.CHM(e),t.oxw().$implicit.fieldValue=o}),t.qZA(),t.TgZ(2,"div",22),t._uU(3),t.qZA()()}if(2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("inputDate",e.fieldValue)("mask","dd/MM/yyyy")("editable",e.editable),t.xp6(2),t.Oqu(e.description)}}function br(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",20)(1,"app-list-selector",23),t.NdJ("valueChange",function(o){return t.CHM(e),t.oxw().$implicit.fieldValue=o}),t.qZA(),t.TgZ(2,"div",22),t._uU(3),t.qZA()()}if(2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("value",e.fieldValue)("command",e.editor)("defaultValue",e.defaultValue)("displayValue",e.displayValue)("editable",e.editable),t.xp6(2),t.Oqu(e.description)}}function Tr(n,r){if(1&n&&(t.ynx(0),t.YNc(1,Cr,4,4,"div",19),t.YNc(2,br,4,6,"div",19),t.BQk()),2&n){const e=r.$implicit;t.xp6(1),t.Q6J("ngIf","datetime"===e.type),t.xp6(1),t.Q6J("ngIf","list"===e.type)}}function yr(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",24),t.NdJ("click",function(){return t.CHM(e),t.oxw().refreshByFilters()}),t._UZ(1,"i",25),t.qZA()}}const Zr=function(n){return{"timeline-inverted":n}};function Pr(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"li",26)(2,"div",27),t._UZ(3,"i"),t.qZA(),t.TgZ(4,"div",28)(5,"div",29)(6,"span",30),t._uU(7),t.qZA()(),t.TgZ(8,"div",31),t._UZ(9,"p",32),t.qZA(),t.TgZ(10,"h6",33),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw().minTitleClicked(null==s?null:s.nav)}),t.qZA()()(),t.BQk()}if(2&n){const e=r.$implicit;t.xp6(1),t.Q6J("ngClass",t.VKq(11,Zr,!(null!=e&&e.left_side))),t.xp6(1),t.Udp("background-color",null==e?null:e.color),t.xp6(1),t.Gre("fa ",e.icon,""),t.xp6(3),t.Udp("background-color",null==e?null:e.color),t.xp6(1),t.Oqu(null==e?null:e.title),t.xp6(2),t.Q6J("innerHTML",null==e?null:e.description,t.oJD),t.xp6(1),t.Q6J("innerHTML",null==e?null:e.min_title,t.oJD)}}const wr=function(n,r){return{"background-color":n,cursor:r}};let Lr=(()=>{class n extends Y.I{constructor(e,i,o,s,a){super(),this.service=e,this.datepipe=i,this.dateConverterService=o,this.activatedRoute=s,this.navigatorService=a,this.timelineResponseDTO=new hr,this.timelineDTO=new fr,this.currentPage=1,this.id="0",this.extraParams="",this.filterParams="",this.resultList=new Array}ngOnInit(){this.initNav(this.activatedRoute),this.buildParameters(),this.getTimelineHeader()}buildParameters(){this.extraParamsMap=this.getParams("extraparams");const e=this.getLocateParams();null!=this.extraParamsMap&&this.extraParamsMap.forEach((i,o)=>{this.extraParams+="&"+encodeURI(o)+"="+encodeURI(i)}),e.has("ID")&&(this.id=e.get("ID"))}getTimelineHeader(){"0"!==this.id&&this.service.getById(this.id).pipe((0,I.b)(e=>(this.timelineDTO=e,this.sortFilters(),this.generateFilterParams(),this.service.getByIdWithParams(this.id,this.extraParams+this.filterParams,this.currentPage).pipe((0,mr.U)(i=>{this.timelineResponseDTO=i,this.timelineResponseDTO?.resultList.forEach(o=>o.title=this.dateConverterService.replaceIsoToClientDateFormatsInText(o?.title)),this.timelineResponseDTO?.resultList.forEach(o=>o.description=this.dateConverterService.replaceIsoToClientDateFormatsInText(o?.description)),this.resultList.push(...this.timelineResponseDTO?.resultList)}))))).subscribe()}refresh(){"0"!==this.id&&this.service.getByIdWithParams(this.id,this.extraParams+this.filterParams,this.currentPage).subscribe(e=>{this.timelineResponseDTO=e,this.timelineResponseDTO?.resultList.forEach(i=>i.title=this.dateConverterService.replaceIsoToClientDateFormatsInText(i.title)),this.timelineResponseDTO?.resultList.forEach(i=>i.description=this.dateConverterService.replaceIsoToClientDateFormatsInText(i.description)),this.resultList.push(...this.timelineResponseDTO?.resultList)})}fieldEventOccurred(e){["listselected","listcleared"].includes(e.eventtype)&&this.refreshByFilters()}refreshByFilters(){this.generateFilterParams(),this.resultList=[],this.currentPage=1,this.refresh()}generateFilterParams(){this.filterParams="",console.log(this.timelineDTO?.filterList),this.timelineDTO?.filterList.forEach(e=>{let i="";i="datetime"===e?.type?null==e.fieldValue?"":e?.fieldValue?.toISOString():e.fieldValue??"",this.filterParams+="&"+encodeURI(e.code)+"="+encodeURI(i)})}minTitleClicked(e){this.navigatorService.navigate(e)}goToTheNextPage(){this.currentPage+=1,this.refresh()}sortFilters(){this.timelineDTO?.filterList.sort((e,i)=>e.shortOrder>i.shortOrder?1:-1)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(vr),t.Y36(v.uU),t.Y36(xr),t.Y36(D.gz),t.Y36(A.s))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-timeline"]],features:[t.qOj],decls:23,vars:12,consts:[[1,"row","formnav"],[1,"col-sm-12"],[1,"pull-left"],[1,"col-12"],[2,"margin-top","20px","margin","0px","margin-top","10px"],[2,"padding-right","5px"],[2,"margin-bottom","5px"],[1,"pull-right"],[1,"row","filter-row"],[4,"ngFor","ngForOf"],["class","btn btn-outline-info  btn-round btn-icon",3,"click",4,"ngIf"],[1,"main-content"],[1,"row"],[1,"col-md-12"],[1,"card","card-timeline","card-plain"],[1,"card-body"],[1,"timeline"],[1,"timeline-badge",3,"ngStyle","click"],[1,"fa","fa-chevron-down"],["class","form-group col-3","style","min-width: 300px;",4,"ngIf"],[1,"form-group","col-3",2,"min-width","300px"],[3,"inputDate","mask","editable","inputDateChange"],[1,"category"],[3,"value","command","defaultValue","displayValue","editable","valueChange"],[1,"btn","btn-outline-info","btn-round","btn-icon",3,"click"],[1,"fa","fa-filter"],[3,"ngClass"],[1,"timeline-badge"],[1,"timeline-panel"],[1,"timeline-heading"],[1,"badge","badge-pill",2,"color","white"],[1,"timeline-body"],[3,"innerHTML"],[1,"min-title",3,"innerHTML","click"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),t._UZ(5,"i",5),t._uU(6),t.qZA(),t.TgZ(7,"p",6),t._uU(8),t.qZA()()(),t.TgZ(9,"div",7)(10,"div",8),t.YNc(11,Tr,3,2,"ng-container",9),t.YNc(12,yr,2,0,"button",10),t.qZA()()()(),t.TgZ(13,"div",11)(14,"div",12)(15,"div",13)(16,"div",14)(17,"div",15)(18,"ul",16),t.YNc(19,Pr,11,13,"ng-container",9),t.TgZ(20,"li")(21,"div",17),t.NdJ("click",function(){return i.goToTheNextPage()}),t._UZ(22,"i",18),t.qZA()()()()()()()()),2&e&&(t.xp6(5),t.Gre("fa ",null==i.timelineDTO?null:i.timelineDTO.icon,""),t.xp6(1),t.hij(" ",null==i.timelineDTO?null:i.timelineDTO.title," "),t.xp6(2),t.hij(" ",null==i.timelineDTO?null:i.timelineDTO.description," "),t.xp6(3),t.Q6J("ngForOf",null==i||null==i.timelineDTO?null:i.timelineDTO.filterList),t.xp6(1),t.Q6J("ngIf",(null==i||null==i.timelineDTO?null:i.timelineDTO.filterList.length)>0),t.xp6(7),t.Q6J("ngForOf",i.resultList),t.xp6(2),t.Q6J("ngStyle",t.WLB(9,wr,null!=i.timelineResponseDTO&&i.timelineResponseDTO.isTheLastPage?"#9A9A9A":"darkgreen",null!=i.timelineResponseDTO&&i.timelineResponseDTO.isTheLastPage?"not-allowed":"pointer")))},directives:[v.sg,v.O5,Gt.L,bt.p,v.mk,v.PC],styles:['.card-timeline[_ngcontent-%COMP%]   .timeline[_ngcontent-%COMP%]{list-style:none;padding:20px 0;position:relative}.card-timeline[_ngcontent-%COMP%]   .timeline[_ngcontent-%COMP%]:before{top:0;bottom:0;position:absolute;content:" ";width:3px;background-color:#dbdbdb;left:50%;margin-left:-1.5px}.card-timeline[_ngcontent-%COMP%]   .timeline[_ngcontent-%COMP%]   .timeline-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin:0}.card-timeline[_ngcontent-%COMP%]   .timeline[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{color:#9a9a9a;font-weight:400;margin:10px 0 0}.card-timeline[_ngcontent-%COMP%]   .timeline.timeline-simple[_ngcontent-%COMP%]:before{left:5%}.card-timeline[_ngcontent-%COMP%]   .timeline.timeline-simple[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .timeline-panel[_ngcontent-%COMP%]{width:86%}.card-timeline[_ngcontent-%COMP%]   .timeline.timeline-simple[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .timeline-badge[_ngcontent-%COMP%]{left:5%}.card-timeline[_ngcontent-%COMP%]   .timeline[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{margin-bottom:20px;position:relative}.card-timeline[_ngcontent-%COMP%]   .timeline[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:before, .card-timeline[_ngcontent-%COMP%]   .timeline[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:after{content:" ";display:table}.card-timeline[_ngcontent-%COMP%]   .timeline[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:after{clear:both}.card-timeline[_ngcontent-%COMP%]   .timeline[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .timeline-panel[_ngcontent-%COMP%]{width:45%;float:left;padding:20px;border-radius:3px;box-shadow:0 2px 2px #ccc5b980;background-color:#fff;color:#2c2c2c;margin-bottom:20px;position:relative}.card-timeline[_ngcontent-%COMP%]   .timeline[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .timeline-panel[_ngcontent-%COMP%]:before{position:absolute;top:26px;right:-15px;display:inline-block;border-top:15px solid transparent;border-left:15px solid #E3E3E3;border-right:0 solid #E3E3E3;border-bottom:15px solid transparent;content:" "}.card-timeline[_ngcontent-%COMP%]   .timeline[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .timeline-panel[_ngcontent-%COMP%]:after{position:absolute;top:27px;right:-14px;display:inline-block;border-top:14px solid transparent;border-left:14px solid #FFFFFF;border-right:0 solid #FFFFFF;border-bottom:14px solid transparent;content:" "}.card-timeline[_ngcontent-%COMP%]   .timeline[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .timeline-badge[_ngcontent-%COMP%]{color:#fff;width:50px;height:50px;text-align:center;position:absolute;top:16px;left:50%;margin-left:-25px;background-color:#9a9a9a;z-index:100;border-radius:50%;border:3px solid #f4f3ef}.card-timeline[_ngcontent-%COMP%]   .timeline[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .timeline-badge[_ngcontent-%COMP%]   [class^=fa-][_ngcontent-%COMP%], .card-timeline[_ngcontent-%COMP%]   .timeline[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .timeline-badge[_ngcontent-%COMP%]   [class*=" fa-"][_ngcontent-%COMP%]{line-height:2.1;width:25px;text-align:center;font-size:21px}.card-timeline[_ngcontent-%COMP%]   .timeline[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .timeline-badge[_ngcontent-%COMP%]   .nc-icon[_ngcontent-%COMP%]{line-height:2.1;width:25px;text-align:center;font-size:21px}.card-timeline[_ngcontent-%COMP%]   .timeline[_ngcontent-%COMP%] > li.timeline-inverted[_ngcontent-%COMP%] > .timeline-panel[_ngcontent-%COMP%]{float:right;background-color:#fff}.card-timeline[_ngcontent-%COMP%]   .timeline[_ngcontent-%COMP%] > li.timeline-inverted[_ngcontent-%COMP%] > .timeline-panel[_ngcontent-%COMP%]:before{border-left-width:0;border-right-width:15px;left:-15px;right:auto}.card-timeline[_ngcontent-%COMP%]   .timeline[_ngcontent-%COMP%] > li.timeline-inverted[_ngcontent-%COMP%] > .timeline-panel[_ngcontent-%COMP%]:after{border-left-width:0;border-right-width:14px;left:-14px;right:auto}.card-timeline[_ngcontent-%COMP%]   .timeline-heading[_ngcontent-%COMP%]{margin-bottom:15px}.card-timeline[_ngcontent-%COMP%]   .timeline-badge.primary[_ngcontent-%COMP%], .card-timeline[_ngcontent-%COMP%]   .timeline-badge.info[_ngcontent-%COMP%]{background-color:#51bcda!important}.card-timeline[_ngcontent-%COMP%]   .timeline-badge.success[_ngcontent-%COMP%]{background-color:#6bd098!important}.card-timeline[_ngcontent-%COMP%]   .timeline-badge.warning[_ngcontent-%COMP%]{background-color:#fbc658!important}.card-timeline[_ngcontent-%COMP%]   .timeline-badge.danger[_ngcontent-%COMP%]{background-color:#ef8157!important}.card-timeline[_ngcontent-%COMP%]   .timeline-title[_ngcontent-%COMP%]{margin-top:0;color:inherit}.card-timeline[_ngcontent-%COMP%]   .timeline-body[_ngcontent-%COMP%] > p[_ngcontent-%COMP%], .card-timeline[_ngcontent-%COMP%]   .timeline-body[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]{margin-bottom:0}.card-timeline[_ngcontent-%COMP%]   .timeline-body[_ngcontent-%COMP%] > p[_ngcontent-%COMP%] + p[_ngcontent-%COMP%]{margin-top:5px}.min-title[_ngcontent-%COMP%]{cursor:pointer}.next-page-button[_ngcontent-%COMP%]{color:#fff;width:50px;height:50px;text-align:center;position:absolute;top:-50px;left:50%;margin-left:-25px;background-color:#006400;z-index:100;border-radius:50%;border:3px solid #f4f3ef;line-height:2.1;font-size:21px;padding:0!important;padding:initial!important}.next-page-button[_ngcontent-%COMP%]:hover{background-color:#228b22!important}.form-group[_ngcontent-%COMP%]{margin-top:8px;padding-right:5px;padding-left:5px}.filter-row[_ngcontent-%COMP%]{padding-right:10px}']}),n})(),Or=(()=>{class n extends S.I{constructor(e){super(e,"html-template"),this.http=e}printPreview(e,i){return new L.WM({"Content-Type":"application/json"}),this.http.get(`${y.N.serverUrl}/${this.endpoint}/print-preview?id=${e}&selection-id=${i}`)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(L.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Mr=(()=>{class n extends Y.I{constructor(e,i,o,s){super(),this.service=e,this.activatedRoute=i,this.sanitizer=o,this.domSanitizer=s,this.html="",this.id="",this.selectionId="",this.visibleSection="preview"}ngOnInit(){this.initNav(this.activatedRoute),this.selectionId="";const e=this.getLocateParams();e.has("ID")&&(this.id=e.get("ID")),e.has("SELECTION-ID")&&(this.selectionId=e.get("SELECTION-ID")),this.createIframe()}createIframe(){const e=document.createElement("iframe");e.setAttribute("src","http://localhost:15502/api/html-template/preview-page.html?id="+this.id+"&selection-id="+this.selectionId),e.style.display="none",document.body.appendChild(e),setTimeout(()=>{document.body.removeChild(e)},500)}trustResource(e){return this.sanitizer.bypassSecurityTrustHtml(e)}printPreview(){document.getElementById("frameId").contentWindow.print()}transform(){return this.domSanitizer.bypassSecurityTrustResourceUrl("http://localhost:15502/api/html-template/preview-page.html?id="+this.id+"&selection-id="+this.selectionId)}printDiv(e){var i=document.getElementById(e).innerHTML,o=document.body.innerHTML;document.body.innerHTML="<html><head><title></title></head><body>"+i+"</body>",window.print(),document.body.innerHTML=o}setVisibleSection(e){window.print(),this.visibleSection=e}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Or),t.Y36(D.gz),t.Y36(q.H7),t.Y36(q.H7))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-html-template-preview"]],features:[t.qOj],decls:27,vars:0,consts:[[1,"row","formnav"],[1,"col-sm-12"],[1,"pull-left"],[1,"col-12"],[2,"margin-top","20px","margin","0px","margin-top","10px"],[1,"fa","fa-calendar-days",2,"padding-right","5px"],[2,"margin-bottom","5px"],[1,"pull-right"],[1,"btn","btn-outline-success",2,"margin-top","0px",3,"click"],[1,"fa","fa-print"],[1,"btn","btn-outline-danger"],[1,"fa","fa-times"],["type","button",1,"btn","btn-outline-default","btn-round","btn-white","header-tab",3,"click"],[1,"fas","fa-tools"],[1,"fas","fa-pencil-ruler"],[1,"row","formnav",3,"click"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),t._UZ(5,"i",5),t._uU(6," Print Preview "),t.qZA(),t.TgZ(7,"p",6),t._uU(8," Print Preview "),t.qZA()()(),t.TgZ(9,"div",7)(10,"button",8),t.NdJ("click",function(){return i.printPreview()}),t._UZ(11,"i",9),t._uU(12," Print "),t.qZA(),t.TgZ(13,"button",10),t._UZ(14,"i",11),t._uU(15," Delete "),t.qZA()()()(),t.TgZ(16,"div",0)(17,"div",1)(18,"div",2)(19,"button",12),t.NdJ("click",function(){return i.setVisibleSection("preview")}),t._UZ(20,"i",13),t._uU(21," Preview "),t.qZA(),t.TgZ(22,"button",12),t.NdJ("click",function(){return i.setVisibleSection("design")}),t._UZ(23,"i",14),t._uU(24," Design "),t.qZA()()()(),t.TgZ(25,"div",15),t.NdJ("click",function(){return i.printDiv("printform")}),t._UZ(26,"div",1),t.qZA())},styles:[""]}),n})(),Ar=(()=>{class n extends Y.I{constructor(e,i,o){super(),this.activatedRoute=e,this.http=i,this.sanitizer=o}ngOnInit(){this.initNav(this.activatedRoute),console.log(this.params),console.log(this.params.get("HTML"));for(let e of this.params.get("JS"))console.log(e);this.loadMyPageContent(this.params.get("CONTEXT"),this.params.get("HTML"),this.params.get("JS"))}loadMyPageContent(e,i,o){this.http.get(`assets/ui-plugins/${e}/${i}`,{responseType:"text"}).subscribe(s=>{const a=this.sanitizer.bypassSecurityTrustHtml(s);this.pluginContent=a;const p=document.getElementById("my-page");for(let _ of o){const m=this.createScriptTag(e,_);p.appendChild(m)}},s=>{console.error("Error loading mypage.html",s)})}createScriptTag(e,i){const o=document.createElement("script");return o.src=`assets/ui-plugins/${e}/${i}`,o}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(D.gz),t.Y36(L.eN),t.Y36(q.H7))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-ui-plugin"]],features:[t.qOj],decls:1,vars:1,consts:[["id","my-page",3,"innerHTML"]],template:function(e,i){1&e&&t._UZ(0,"div",0),2&e&&t.Q6J("innerHTML",i.pluginContent,t.oJD)},styles:[""]}),n})();class Fr extends et.g{constructor(){super(),this.ruleExpressionList=[],this.expressionPreview=""}}class Dr extends et.g{constructor(){super(),this.childrenColor="",this.color="",this.ruleExpressionList=[],this.expanded=!1,this.joinType="and",this.childrenJoinType="and"}}class kr extends et.g{constructor(){super()}}let Ir=(()=>{class n extends S.I{constructor(e){super(e,"rule"),this.http=e}getSettingsById(e){return this.http.get(`${y.N.serverUrl}/${this.endpoint}/settings/by-id?id=${e}`)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(L.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Nr(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",67),t.NdJ("click",function(){return t.CHM(e),t.oxw().navigateToPreviousPage()}),t._UZ(1,"i",68),t._uU(2," Back "),t.qZA()}}function Er(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",67),t.NdJ("click",function(){return t.CHM(e),t.oxw().navigateToNextPage()}),t._UZ(1,"i",69),t._uU(2," Next "),t.qZA()}}function Ur(n,r){1&n&&(t.TgZ(0,"div",70),t._uU(1,"Empty!"),t.qZA())}const Fe=function(n){return{"background-color":n,color:"#404040"}};function Sr(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",94)(1,"div",95)(2,"button",96),t.NdJ("click",function(){return t.CHM(e),t.oxw().$implicit.joinType="and"}),t._uU(3,"And"),t.qZA(),t.TgZ(4,"button",97),t.NdJ("click",function(){return t.CHM(e),t.oxw().$implicit.joinType="or"}),t._uU(5,"Or"),t.qZA()()()}if(2&n){const e=t.oxw().$implicit;t.xp6(2),t.Q6J("ngStyle",t.VKq(2,Fe,"and"==e.joinType?e.color:"white")),t.xp6(2),t.Q6J("ngStyle",t.VKq(4,Fe,"or"==e.joinType?e.color:"white"))}}function qr(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",98),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit;return t.oxw(2).hideChildren(o)}),t._UZ(1,"i",99),t.qZA()}}function Jr(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",100),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit;return t.oxw(2).showChildren(o)}),t._UZ(1,"i",101),t.qZA()}}function Vr(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",102)(1,"button",96),t.NdJ("click",function(){return t.CHM(e),t.oxw().$implicit.childrenJoinType="and"}),t._uU(2,"And"),t.qZA(),t.TgZ(3,"button",97),t.NdJ("click",function(){return t.CHM(e),t.oxw().$implicit.childrenJoinType="or"}),t._uU(4,"Or"),t.qZA()()}if(2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngStyle",t.VKq(2,Fe,"and"==e.childrenJoinType?e.childrenColor:"white")),t.xp6(2),t.Q6J("ngStyle",t.VKq(4,Fe,"or"==e.childrenJoinType?e.childrenColor:"white"))}}function Rr(n,r){1&n&&t.GkF(0)}const In=function(n){return{$implicit:n}};function Qr(n,r){if(1&n&&(t.TgZ(0,"ul"),t.YNc(1,Rr,1,0,"ng-container",38),t.qZA()),2&n){const e=t.oxw().$implicit;t.oxw(2);const i=t.MAs(77);t.xp6(1),t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.VKq(2,In,e.ruleExpressionList))}}const De=function(n){return{"background-color":n}};function Hr(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"li")(1,"div",19)(2,"div",72)(3,"div",20)(4,"div",73)(5,"div",74)(6,"span",75),t._UZ(7,"i",76),t.qZA()(),t.TgZ(8,"div",74)(9,"input",77),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw(2).selectField(s)}),t.qZA()(),t.TgZ(10,"div",74)(11,"span",78),t._UZ(12,"i",79),t.qZA()(),t.TgZ(13,"div",74)(14,"input",80),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw(2).selectOperator(s)}),t.qZA()(),t.TgZ(15,"div",74)(16,"span",81),t._UZ(17,"i",82),t.qZA()(),t.TgZ(18,"input",83),t.NdJ("ngModelChange",function(o){return t.CHM(e).$implicit.command=o}),t.qZA()()()(),t.YNc(19,Sr,6,6,"div",84),t.qZA(),t.TgZ(20,"h6")(21,"button",85),t.NdJ("click",function(){const s=t.CHM(e).$implicit,a=t.oxw().$implicit;return t.oxw().upItemInList(s,a)}),t._UZ(22,"i",86),t.qZA(),t.TgZ(23,"button",87),t.NdJ("click",function(){const s=t.CHM(e).$implicit,a=t.oxw().$implicit;return t.oxw().downItemInList(s,a)}),t._UZ(24,"i",88),t.qZA(),t.TgZ(25,"button",89),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw(2).addMenuField(s)}),t._UZ(26,"i",34),t.qZA(),t.TgZ(27,"button",90),t.NdJ("click",function(){const s=t.CHM(e).$implicit,a=t.oxw(2);return a.removeRuleExpression(s,a.dto.ruleExpressionList)}),t._UZ(28,"i",11),t.qZA(),t.YNc(29,qr,2,0,"button",91),t.YNc(30,Jr,2,0,"button",92),t.YNc(31,Vr,5,6,"div",93),t._UZ(32,"i"),t._uU(33),t.qZA(),t.YNc(34,Qr,2,4,"ul",48),t.qZA()}if(2&n){const e=r.$implicit,i=r.last,o=t.oxw(2);t.xp6(6),t.Q6J("ngStyle",t.VKq(16,De,e.color)),t.xp6(3),t.s9C("value",e.fieldName),t.Q6J("ngStyle",t.VKq(18,De,e.color)),t.xp6(2),t.Q6J("ngStyle",t.VKq(20,De,e.color)),t.xp6(3),t.s9C("value",e.operatorName),t.Q6J("ngStyle",t.VKq(22,De,e.color)),t.xp6(4),t.Q6J("ngModel",e.command),t.xp6(1),t.Q6J("ngIf",!i),t.xp6(10),t.Q6J("ngIf",o.hasChildren(e)&&!0===e.expanded),t.xp6(1),t.Q6J("ngIf",o.hasChildren(e)&&!0!==e.expanded),t.xp6(1),t.Q6J("ngIf",o.hasChildren(e)),t.xp6(1),t.Gre("fa ",e.icon,""),t.xp6(1),t.hij(" ",e.name," "),t.xp6(1),t.Q6J("ngIf",null!=e.ruleExpressionList&&!0===e.expanded)}}function Yr(n,r){1&n&&t.YNc(0,Hr,35,24,"li",71),2&n&&t.Q6J("ngForOf",r.$implicit)}function $r(n,r){1&n&&t.GkF(0)}function Br(n,r){1&n&&(t.TgZ(0,"tr")(1,"td",103),t._uU(2,"Empty!"),t.qZA()())}function Gr(n,r){1&n&&(t.TgZ(0,"tr")(1,"td",103),t._uU(2,"Empty!"),t.qZA()())}const zr=function(n){return{"is-hidden":n}};let Wr=(()=>{class n extends Y.I{constructor(e,i,o,s,a,p,_,m){super(),this.activatedRoute=e,this.service=i,this.router=o,this.location=s,this.navigatorService=a,this.notificationService=p,this.sanitizer=_,this.commandNavigatorService=m,this.linecounter=0,this.visibleSection="general"}ngOnInit(){this.initNav(this.activatedRoute);let e="",i="";this.mode="new-record",this.dto=new Fr,this.settingsDTO=new kr;const o=this.getLocateParams();o.has("ID")&&(e=o.get("ID")),o.has("SELECTION-ID")&&(i=o.get("SELECTION-ID"),this.mode="edit-record"),this.service.getSettingsById(e).subscribe(s=>{this.settingsDTO=s}),"edit-record"===this.mode&&this.service.getById(i).subscribe(s=>{this.dto=s,null!=this.dto.ruleExpressionList&&this.expandAll(this.dto.ruleExpressionList),this.cleanIdsIfCloneEnabled()})}expandAll(e){null!=e&&e.forEach(i=>{i.expanded=!0,null!=i.ruleExpressionList&&this.expandAll(i.ruleExpressionList)})}cleanIdsIfCloneEnabled(){this.params.has("TYPE")&&"CLONE"===this.params.get("TYPE").toUpperCase()&&(this.dto.id=null,this.dto.version=null,null!=this.dto.ruleExpressionList&&this.cleanFieldListIdsIfCloneEnabled(this.dto.ruleExpressionList),this.mode="new-record")}cleanFieldListIdsIfCloneEnabled(e){if(this.params.has("TYPE")&&"CLONE"===this.params.get("TYPE").toUpperCase())for(const i of e)i.id=null,i.version=null,null!=i.ruleExpressionList&&this.cleanFieldListIdsIfCloneEnabled(i.ruleExpressionList)}showPreviousPageButton(){return null!==this.previousPage}navigateToPreviousPage(){this.navigatorService.navigateToPreviousPage(this.pageId)}navigateToNextPage(){this.navigatorService.navigateToNextPage(this.pageId)}showNextPageButton(){return null!==this.nextPage}selectField(e){const i=this.commandNavigatorService.navigate(this.settingsDTO.fieldCommand);i.instance.setPresetCommand(this.settingsDTO.fieldCommand),i.instance.selectEmmiter.subscribe(o=>{e.fieldCode=o.RETURN,e.fieldName=o["RETURN-DISLPAY"]})}selectOperator(e){const i=this.commandNavigatorService.navigate(this.settingsDTO.operatorCommand);i.instance.setPresetCommand(this.settingsDTO.operatorCommand),i.instance.selectEmmiter.subscribe(o=>{e.operatorCode=o.RETURN,e.operatorName=o["RETURN-DISLPAY"]})}addMenuField(e){this.linecounter++;const i=new Dr;i.expanded=!0,i.ruleExpressionList=[],i.shortOrder=this.linecounter,i.childrenColor=this.getRandomColor(),null==e?(i.color="#FDEDD7",this.dto.ruleExpressionList.push(i)):(e.expanded=!0,e.ruleExpressionList.push(i),i.color=e.childrenColor)}getRandomColor(){for(var e="BCDEF".split(""),i="#",o=0;o<6;o++)i+=e[Math.floor(Math.random()*e.length)];return i}removeRuleExpression(e,i){if(void 0!==i){i.indexOf(e)>=0&&i.splice(i.indexOf(e),1);for(const o of i)this.removeRuleExpression(e,o.ruleExpressionList)}}upItemInList(e,i){let o=0;for(const s of i)e===s&&o>0&&(i[o]=i[o-1],i[o-1]=s),o++}downItemInList(e,i){let o=0;for(const s of i){if(e===s&&o+1<i.length){i[o]=i[o+1],i[o+1]=s;break}o++}}save(){if(null==this.dto.code||""==this.dto.code)return void this.notificationService.showNotification("top","center","alert-danger","fa-exclamation","The Code Field Cannot be empty!");if(null==this.dto.name||""==this.dto.name)return void this.notificationService.showNotification("top","center","alert-danger","fa-exclamation","The Name Field Cannot be empty!");if(this.checkEmptyExpressionFields(this.dto.ruleExpressionList))return void this.notificationService.showNotification("top","center","alert-danger","fa-exclamation","There are empty fields on the expression! <br> Fill them to be able to Save!");let i=this.createExpressionPreview(this.dto.ruleExpressionList);this.dto.expressionPreview=i,this.dto.ruleExpressionList=this.updateShortOrderAndClearParrents(this.dto.ruleExpressionList),"edit-record"===this.mode?this.service.update(this.dto).subscribe(o=>{this.location.back()}):this.service.save(this.dto).subscribe(o=>{this.location.back()})}updateShortOrderAndClearParrents(e){if(null==e)return null;let i=1;for(const o of e)o.shortOrder=i,null!=o.ruleExpressionList&&(o.ruleExpressionList=this.updateShortOrderAndClearParrents(o.ruleExpressionList)),i++;return e}delete(){this.service.delete(this.dto.id).subscribe(e=>{this.location.back()})}hasChildren(e){return!(null==e.ruleExpressionList||0===e.ruleExpressionList.length)}hideChildren(e){e.expanded=!1}showChildren(e){e.expanded=!0}setVisibleSection(e){this.visibleSection=e}createPreview(){if(this.checkEmptyExpressionFields(this.dto.ruleExpressionList))return void this.notificationService.showNotification("top","center","alert-danger","fa-exclamation","There are empty fields on the expression! <br> Fill them to be able to Preview or Save!");let i=this.createExpressionPreview(this.dto.ruleExpressionList);this.dto.expressionPreview=i,document.getElementById("openPreviewButton").click()}checkEmptyExpressionFields(e){for(const i of e)if(null==i.fieldName||""==i.fieldName||null==i.operatorName||""==i.operatorName||null==i.command||""==i.command||null!=i.ruleExpressionList&&i.ruleExpressionList.length>0&&this.checkEmptyExpressionFields(i.ruleExpressionList))return!0;return!1}createExpressionPreview(e){let i="";return e.forEach((o,s)=>{let a="";if(a="and"==o.joinType?`<button class="btn" class="col" style="border: 2px solid ${o.color}; padding: 6px;"><b style="color: #0c5460">AND</b></button>`:`<button class="btn" class="col" style="border: 2px solid ${o.color}; padding: 6px;"><b style="color: #0c5460">OR</b></button>`,s===e.length-1&&(a=""),i+=`<button class="btn btn-round" style="border: 2px solid ${o.color}; padding: 6px;"> `,i+=`<b style="color: #385f89"> ${o.fieldName}</b>`,i+=` <b style="color: #476636">${o.operatorName}</b>`,i+=` <b style="color: #385f89"> ${o.command}  </b> </button>`,null!=o.ruleExpressionList&&o.ruleExpressionList.length>0){let p="";p="and"==o.childrenJoinType?`<button class="btn" class="col" style="border: 2px solid ${o.childrenColor};background-color: ${o.color}; padding: 6px;"><b style="color: #0c5460">AND</b></button>`:`<button class="btn" class="col" style="border: 2px solid ${o.childrenColor};background-color: ${o.color}; padding: 6px;"><b style="color: #0c5460">OR</b></button>`,i+=p,i+=`<button class="btn" class="col" style="border: 2px solid ${o.childrenColor};background-color: ${o.color}; padding: 6px;"><b style="color: #0c5460">(</b></button>`,i+=this.createExpressionPreview(o.ruleExpressionList),i+=`<button class="btn" class="col" style="border: 2px solid ${o.childrenColor};background-color: ${o.color}; padding: 6px;"><b style="color: #0c5460">)</b></button>`}i+=`${a}`}),i}trustResource(e){return this.sanitizer.bypassSecurityTrustHtml(e)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(D.gz),t.Y36(Ir),t.Y36(D.F0),t.Y36(v.Ye),t.Y36(A.s),t.Y36(vt.g),t.Y36(q.H7),t.Y36(A.s))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-rule-designer"]],features:[t.qOj],decls:191,vars:22,consts:[[1,"row","formnav"],[1,"col-sm-12"],[1,"pull-left"],[1,"col-12"],[2,"margin-top","20px","margin","0px","margin-top","10px"],[1,"fa","fa-puzzle-piece",2,"padding-right","5px"],[2,"margin-bottom","5px",3,"innerHTML"],[1,"pull-right"],[1,"btn","btn-outline-success",2,"margin-top","0px",3,"click"],[1,"fa","fa-save"],[1,"btn","btn-outline-danger",2,"margin-top","0px",3,"hidden","click"],[1,"fa","fa-times"],["class","btn btn-outline-primary","style","margin-top: 0px;",3,"click",4,"ngIf"],["type","button",1,"btn","btn-outline-default","btn-round","btn-white","header-tab",3,"click"],[1,"fa","fa-sliders-h"],[1,"row","form-area",3,"ngClass"],[1,"col-md-12"],[1,"card","card-user"],[1,"card-body"],[1,"row"],[1,"form-group"],["type","text","readonly","",1,"form-control",3,"value"],["type","text","mask","S*",1,"form-control",3,"ngModel","ngModelChange"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],["name","description",1,"form-control","textarea",3,"ngModel","ngModelChange"],[1,"row","form-area"],[1,"card"],[1,"card-header"],[1,"card-title",2,"margin-bottom","0px"],[1,"fa-regular","fa-clipboard"],[1,"btn","btn-round","btn-outline-primary",3,"click"],[1,"fa-solid","fa-magnifying-glass"],["id","openPreviewButton","data-target","#expressionPreview","data-toggle","modal",2,"display","none"],[1,"btn","btn-round","btn-outline-success",3,"click"],[1,"fa","fa-plus-circle"],["class","empty-table-row",4,"ngIf"],["","","RuleExpressionDTO[]",""],["recursiveList",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-labelledby","ModalLabel","id","fieldSelectionArea","role","dialog","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header","justify-content-center"],[1,"title","title-up","modal-title"],["aria-label","Close","data-dismiss","modal","type","button",1,"close"],[1,"modal-body"],[1,"table","table-striped","table-fixed"],[1,"text-primary"],[4,"ngIf"],["type","button","title","Select","data-dismiss","modal",1,"btn","btn-outline-success","btn-icon","btn-sm"],[1,"fa","fa-plus"],["type","text","readonly","","value","First Name",1,"form-control","transparent-input"],["type","text","readonly","","value","Last Name",1,"form-control","transparent-input"],["type","text","readonly","","value","Telephone",1,"form-control","transparent-input"],["type","text","readonly","","value","Address",1,"form-control","transparent-input"],[1,"modal-footer"],[1,"left-side"],["data-dismiss","modal","type","button",1,"btn","btn-outline-danger"],["aria-labelledby","ModalLabel","id","operatorSelectionArea","role","dialog","aria-hidden","true",1,"modal","fade"],["type","text","readonly","","value","Equals",1,"form-control","transparent-input"],["type","text","readonly","","value","Greater Than",1,"form-control","transparent-input"],["type","text","readonly","","value","Smaller Than",1,"form-control","transparent-input"],["type","text","readonly","","value","Starts With",1,"form-control","transparent-input"],["aria-labelledby","ModalLabel","id","expressionPreview","role","dialog","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered",2,"max-width","800px"],[1,"fa","fa-puzzle-piece"],[1,"col-12",3,"innerHTML"],[1,"btn","btn-outline-primary",2,"margin-top","0px",3,"click"],[1,"fa","fa-chevron-left"],[1,"fa","fa-chevron-right"],[1,"empty-table-row"],[4,"ngFor","ngForOf"],[1,"col"],[1,"input-group","input-group-alternative"],[1,"input-group-prepend"],[1,"input-group-text","textfield-button-info","expand-button","ruleSettings-field-icon",3,"ngStyle"],[1,"fa-solid","fa-bars-staggered",2,"color","#000000"],["type","text","readonly","","placeholder","Select Field",1,"form-control","textfield-area","expr-unit-type","ruleSettings-field",3,"ngStyle","value","click"],[1,"input-group-text","textfield-button-info","expand-button","expand-button2","ruleSettings-type-icon",3,"ngStyle"],[1,"fa-solid","fa-grip-vertical",2,"color","#000000"],["type","text","readonly","","placeholder","Select Operator",1,"form-control","textfield-area","expr-unit-type","ruleSettings-type",3,"ngStyle","value","click"],[1,"input-group-text","textfield-button-info","expand-button","expand-button2","ruleSettings-expression-icon"],[1,"fa-solid","fa-marker"],["type","text","placeholder","Write Expression",1,"form-control","textfield-area","expr-unit-type","ruleSettings-expression",3,"ngModel","ngModelChange"],["class","col-md-auto","style","padding-left: 0px;",4,"ngIf"],["type","button","title","Move Up",1,"btn","btn-round","btn-outline-warning","btn-icon","btn-sm",3,"click"],[1,"fa","fa-angle-up"],["type","button","title","Move Down",1,"btn","btn-round","btn-outline-warning","btn-icon","btn-sm",3,"click"],[1,"fa","fa-angle-down"],["type","button","title","New Sub Expression",1,"btn","btn-round","btn-outline-success","btn-icon","btn-sm",3,"click"],["type","button","title","Delete",1,"btn","btn-round","btn-outline-danger","btn-icon","btn-sm",3,"click"],["type","button","title","Compress","class","btn btn-round btn-outline-primary btn-icon btn-sm",3,"click",4,"ngIf"],["type","button","title","Expand","class","btn btn-round btn-outline-primary btn-icon btn-sm last-menu-item-button",3,"click",4,"ngIf"],["style","padding-left: 5px","class","btn-group",4,"ngIf"],[1,"col-md-auto",2,"padding-left","0px"],[1,"btn-group"],["type","button",1,"btn","btn-outline-default",3,"ngStyle","click"],["type","button",1,"btn","btn-outline-default","and-or-left-btn",3,"ngStyle","click"],["type","button","title","Compress",1,"btn","btn-round","btn-outline-primary","btn-icon","btn-sm",3,"click"],[1,"fa","fa-compress"],["type","button","title","Expand",1,"btn","btn-round","btn-outline-primary","btn-icon","btn-sm","last-menu-item-button",3,"click"],[1,"fa","fa-expand"],[1,"btn-group",2,"padding-left","5px"],["colspan","2",1,"empty-table-row"]],template:function(e,i){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),t._UZ(5,"i",5),t._uU(6),t.qZA(),t._UZ(7,"p",6),t.qZA()(),t.TgZ(8,"div",7)(9,"button",8),t.NdJ("click",function(){return i.save()}),t._UZ(10,"i",9),t._uU(11," Save "),t.qZA(),t.TgZ(12,"button",10),t.NdJ("click",function(){return i.delete()}),t._UZ(13,"i",11),t._uU(14," Delete "),t.qZA(),t.YNc(15,Nr,3,0,"button",12),t.YNc(16,Er,3,0,"button",12),t.qZA()()(),t.TgZ(17,"div",0)(18,"div",1)(19,"div",2)(20,"button",13),t.NdJ("click",function(){return i.setVisibleSection("general")}),t._UZ(21,"i",14),t._uU(22," General "),t.qZA()()()(),t.TgZ(23,"div",15)(24,"div",16)(25,"div",17)(26,"div",18)(27,"div",19)(28,"div",3)(29,"div",20)(30,"b"),t._uU(31,"Id"),t.qZA(),t._UZ(32,"input",21)(33,"code"),t.qZA()(),t.TgZ(34,"div",3)(35,"div",20)(36,"b"),t._uU(37,"Code"),t.qZA(),t.TgZ(38,"input",22),t.NdJ("ngModelChange",function(s){return i.dto.code=s}),t.qZA(),t.TgZ(39,"code"),t._uU(40,"*Required Field"),t.qZA()()(),t.TgZ(41,"div",3)(42,"div",20)(43,"b"),t._uU(44,"Name"),t.qZA(),t.TgZ(45,"input",23),t.NdJ("ngModelChange",function(s){return i.dto.name=s}),t.qZA(),t.TgZ(46,"code"),t._uU(47,"*Required Field"),t.qZA()()(),t.TgZ(48,"div",3)(49,"div",20)(50,"b"),t._uU(51,"Description"),t.qZA(),t.TgZ(52,"textarea",24),t.NdJ("ngModelChange",function(s){return i.dto.description=s}),t.qZA()()()()()()()(),t.TgZ(53,"div",25)(54,"div",16)(55,"div",26)(56,"div",27)(57,"div",19)(58,"div",3)(59,"div",2)(60,"h5",28),t._UZ(61,"i",29),t._uU(62),t.qZA(),t._UZ(63,"p",6),t.qZA(),t.TgZ(64,"div",7)(65,"button",30),t.NdJ("click",function(){return i.createPreview()}),t._UZ(66,"i",31),t._uU(67," Preview "),t.qZA(),t.TgZ(68,"button",32),t._UZ(69,"i",31),t.qZA(),t.TgZ(70,"button",33),t.NdJ("click",function(){return i.addMenuField(null)}),t._UZ(71,"i",34),t._uU(72," Expression "),t.qZA()()()()(),t.TgZ(73,"div",18),t.YNc(74,Ur,2,0,"div",35),t.TgZ(75,"ul"),t.YNc(76,Yr,1,1,"ng-template",36,37,t.W1O),t.YNc(78,$r,1,0,"ng-container",38),t.qZA()()()()(),t.TgZ(79,"div",39)(80,"div",40)(81,"div",41)(82,"div",42)(83,"h4",43),t._uU(84,"Select Field"),t.qZA(),t.TgZ(85,"button",44),t._UZ(86,"i",11),t.qZA()(),t.TgZ(87,"div",45)(88,"form")(89,"div",19)(90,"div",3)(91,"table",46)(92,"thead",47)(93,"tr"),t._UZ(94,"th"),t.TgZ(95,"th"),t._uU(96,"Title"),t.qZA()()(),t.TgZ(97,"tbody"),t.YNc(98,Br,3,0,"tr",48),t.TgZ(99,"tr")(100,"td")(101,"button",49),t._UZ(102,"i",50),t.qZA()(),t.TgZ(103,"td"),t._UZ(104,"input",51),t.qZA()(),t.TgZ(105,"tr")(106,"td")(107,"button",49),t._UZ(108,"i",50),t.qZA()(),t.TgZ(109,"td"),t._UZ(110,"input",52),t.qZA()(),t.TgZ(111,"tr")(112,"td")(113,"button",49),t._UZ(114,"i",50),t.qZA()(),t.TgZ(115,"td"),t._UZ(116,"input",53),t.qZA()(),t.TgZ(117,"tr")(118,"td")(119,"button",49),t._UZ(120,"i",50),t.qZA()(),t.TgZ(121,"td"),t._UZ(122,"input",54),t.qZA()()()()()()()(),t.TgZ(123,"div",55)(124,"div",56)(125,"button",57),t._uU(126,"Close"),t.qZA()()()()()(),t.TgZ(127,"div",58)(128,"div",40)(129,"div",41)(130,"div",42)(131,"h4",43),t._uU(132,"Select Operator"),t.qZA(),t.TgZ(133,"button",44),t._UZ(134,"i",11),t.qZA()(),t.TgZ(135,"div",45)(136,"form")(137,"div",19)(138,"div",3)(139,"table",46)(140,"thead",47)(141,"tr"),t._UZ(142,"th"),t.TgZ(143,"th"),t._uU(144,"Title"),t.qZA()()(),t.TgZ(145,"tbody"),t.YNc(146,Gr,3,0,"tr",48),t.TgZ(147,"tr")(148,"td")(149,"button",49),t._UZ(150,"i",50),t.qZA()(),t.TgZ(151,"td"),t._UZ(152,"input",59),t.qZA()(),t.TgZ(153,"tr")(154,"td")(155,"button",49),t._UZ(156,"i",50),t.qZA()(),t.TgZ(157,"td"),t._UZ(158,"input",60),t.qZA()(),t.TgZ(159,"tr")(160,"td")(161,"button",49),t._UZ(162,"i",50),t.qZA()(),t.TgZ(163,"td"),t._UZ(164,"input",61),t.qZA()(),t.TgZ(165,"tr")(166,"td")(167,"button",49),t._UZ(168,"i",50),t.qZA()(),t.TgZ(169,"td"),t._UZ(170,"input",62),t.qZA()()()()()()()(),t.TgZ(171,"div",55)(172,"div",56)(173,"button",57),t._uU(174,"Close"),t.qZA()()()()()(),t.TgZ(175,"div",63)(176,"div",64)(177,"div",41)(178,"div",42)(179,"h4",43),t._UZ(180,"i",65),t._uU(181," Expression Preview"),t.qZA(),t.TgZ(182,"button",44),t._UZ(183,"i",11),t.qZA()(),t.TgZ(184,"div",45)(185,"div",19),t._UZ(186,"div",66),t.qZA()(),t.TgZ(187,"div",55)(188,"div",56)(189,"button",57),t._uU(190,"Close"),t.qZA()()()()()()),2&e){const o=t.MAs(77);t.xp6(6),t.hij(" ",i.settingsDTO.title," "),t.xp6(1),t.Q6J("innerHTML",i.trustResource(i.settingsDTO.description),t.oJD),t.xp6(5),t.Q6J("hidden","new-record"===i.mode),t.xp6(3),t.Q6J("ngIf",i.showPreviousPageButton()),t.xp6(1),t.Q6J("ngIf",i.showNextPageButton()),t.xp6(7),t.Q6J("ngClass",t.VKq(18,zr,"general"!==i.visibleSection)),t.xp6(9),t.s9C("value",i.dto.id),t.xp6(6),t.Q6J("ngModel",i.dto.code),t.xp6(7),t.Q6J("ngModel",i.dto.name),t.xp6(7),t.Q6J("ngModel",i.dto.description),t.xp6(10),t.hij(" ",i.settingsDTO.ruleSectionTitle," "),t.xp6(1),t.Q6J("innerHTML",i.trustResource(i.settingsDTO.ruleSectionDescription),t.oJD),t.xp6(11),t.Q6J("ngIf",0==i.dto.ruleExpressionList.length),t.xp6(4),t.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.VKq(20,In,i.dto.ruleExpressionList)),t.xp6(20),t.Q6J("ngIf",!1),t.xp6(48),t.Q6J("ngIf",!1),t.xp6(40),t.Q6J("innerHTML",i.trustResource(i.dto.expressionPreview),t.oJD)}},directives:[v.O5,v.mk,Ft.hx,T.Fj,T.JJ,T.On,v.sg,v.PC,v.tP,T._Y,T.JL,T.F],styles:['.modal-title[_ngcontent-%COMP%]{margin:0}.code-textarea[_ngcontent-%COMP%]{min-height:800px;padding:1px 5px;font-family:Tahoma;max-height:400px;line-height:1.4}li[_ngcontent-%COMP%]{list-style-type:none}.checkbox[_ngcontent-%COMP%]{background-color:#fff;display:inline-block;height:28px;margin:4px;width:28px;border-radius:4px;border:1px solid #ccc;cursor:pointer}.checkbox[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;height:28px;position:relative;width:28px;padding:0}.checkbox[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:after{transform:scaleX(-1) rotate(135deg);transform-origin:left top;border-right:4px solid #fff;border-top:4px solid #fff;content:"";display:block;height:20px;left:3px;position:absolute;top:15px;width:10px}.checkbox[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover:after{border-color:#999}.checkbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}.checkbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + span[_ngcontent-%COMP%]:after{animation:check .8s;border-color:#555}.checkbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .default[_ngcontent-%COMP%]:after{border-color:#444}.checkbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .primary[_ngcontent-%COMP%]:after{border-color:#2196f3}.checkbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .success[_ngcontent-%COMP%]:after{border-color:#8bc34a}.checkbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .info[_ngcontent-%COMP%]:after{border-color:#3de0f5}.checkbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .warning[_ngcontent-%COMP%]:after{border-color:#ffc107}.checkbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .danger[_ngcontent-%COMP%]:after{border-color:#f44336}.btn.btn-icon[_ngcontent-%COMP%], .navbar[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%] > a.btn.btn-icon[_ngcontent-%COMP%]{height:1.775rem;min-width:1.775rem;width:1.775rem}.btn-chips[_ngcontent-%COMP%]{margin:1px;padding:8px}.btn-delete-node[_ngcontent-%COMP%]{color:red}.btn-delete-node[_ngcontent-%COMP%]:hover{color:#b60000}.btn-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:9px;margin:0}.expr-unit-type[_ngcontent-%COMP%]{font-size:11px;color:green;background-color:#fff;border-right:1px solid #51cbce;border-bottom:1px solid #51cbce;border-top:1px solid #51cbce}.expand-button[_ngcontent-%COMP%]{border-bottom:1px solid #51cbce;border-top:1px solid #51cbce;border-left:1px solid #51cbce}.expand-button2[_ngcontent-%COMP%]{border-right:0px}.rule-field-icon[_ngcontent-%COMP%], .rule-field[_ngcontent-%COMP%], .rule-type-icon[_ngcontent-%COMP%], .rule-type[_ngcontent-%COMP%]{cursor:pointer}.selected-and-or[_ngcontent-%COMP%]{background-color:#6ec8f1;color:#fff}.empty-table-row[_ngcontent-%COMP%]{padding:15px!important;text-align:center;background-color:#f1f1f1;border-top:1px solid #d7d7d7;border-bottom:1px solid #d7d7d7}.and-or-left-btn[_ngcontent-%COMP%]{border-left:0px!important}input[_ngcontent-%COMP%]::-moz-placeholder{color:red}input[_ngcontent-%COMP%]::placeholder{color:red}.ruleSettings-type[_ngcontent-%COMP%], .ruleSettings-field[_ngcontent-%COMP%]{cursor:pointer}']}),n})();var jr=x(5964);function Xr(n,r){if(1&n&&(t.TgZ(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"h3",6),t._UZ(5,"i",7)(6,"span",8),t.qZA(),t.TgZ(7,"p",9),t._uU(8),t.ALo(9,"date"),t.qZA()()(),t._UZ(10,"div",10),t.qZA()()),2&n){const e=t.oxw();t.xp6(6),t.Q6J("innerHTML",e.data.title,t.oJD),t.xp6(2),t.hij(" Notification created at ",t.xi3(9,2,e.data.createdOn,"medium")," ")}}function Kr(n,r){if(1&n&&(t.TgZ(0,"div",11)(1,"div",12)(2,"div",13)(3,"div",14)(4,"div",15)(5,"div",5)(6,"div",16)(7,"b"),t._uU(8,"Description"),t.qZA(),t._UZ(9,"span",8),t.qZA()()()()()()()),2&n){const e=t.oxw();t.xp6(9),t.Q6J("innerHTML",e.data.message,t.oJD)}}const Nn=[{path:"user",component:$,canActivate:[F]},{path:"user",component:$,canActivate:[F]},{path:"table",component:ce,canActivate:[F]},{path:"list",component:B,canActivate:[F]},{path:"list-alt",component:Yi,canActivate:[F]},{path:"pivotlist",component:kn,canActivate:[F]},{path:"pivotlist-alt",component:gr,canActivate:[F]},{path:"form",component:ee.U,canActivate:[F]},{path:"form-alt",component:$i,canActivate:[F]},{path:"xls-import",component:Vi,canActivate:[F]},{path:"dashboard",component:Mn,canActivate:[F]},{path:"dashboard-alt",component:Mn,canActivate:[F]},{path:"default",component:Le,canActivate:[F]},{path:"search",component:Hi,canActivate:[F]},{path:"timeline",component:Lr,canActivate:[F]},{path:"html-template-preview",component:Mr,canActivate:[F]},{path:"ui-plugin",component:Ar,canActivate:[F]},{path:"rule-designer",component:Wr,canActivate:[F]},{path:"ws-notification",component:(()=>{class n extends Y.I{constructor(e,i){super(),this.activatedRoute=e,this.service=i,this.data=null}ngOnInit(){this.initNav(this.activatedRoute);let i=this.getLocateParams().get("ID");this.service.getById(i).subscribe(o=>{this.data=o})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(D.gz),t.Y36(jr.b))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-ws-notification"]],features:[t.qOj],decls:2,vars:2,consts:[["class","row formnav",4,"ngIf"],["class","row form-area",4,"ngIf"],[1,"row","formnav"],[1,"col-sm-12"],[1,"pull-left"],[1,"col-12"],[2,"margin-top","20px","margin","0px","margin-top","10px"],[1,"fa-solid","fa-circle-notch",2,"padding-right","5px"],[3,"innerHTML"],[2,"margin-bottom","5px"],[1,"pull-right"],[1,"row","form-area"],[1,"col-md-12"],[1,"card","card-user"],[1,"card-body"],[1,"row"],[1,"form-group"]],template:function(e,i){1&e&&(t.YNc(0,Xr,11,5,"div",0),t.YNc(1,Kr,10,1,"div",1)),2&e&&(t.Q6J("ngIf",null!=i.data),t.xp6(1),t.Q6J("ngIf",null!=i.data))},directives:[v.O5],pipes:[v.uU],styles:[""]}),n})(),canActivate:[F]}];A.s.NavPages=Nn;var En=x(7252);const es={};let ns=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[{provide:En.td,useValue:es}],imports:[[v.ez,D.Bz.forChild(Nn),T.u5,En.dC]]}),n})()},5386:(ke,Ht,x)=>{var D;!function(v,T,et,k){"use strict";var $,Ie=["","webkit","Moz","MS","ms","o"],Ne=T.createElement("div"),gt=Math.round,t=Math.abs,Yt=Date.now;function $t(l,c,d){return setTimeout(L(l,d),c)}function A(l,c,d){return!!Array.isArray(l)&&(X(l,d[c],d),!0)}function X(l,c,d){var u;if(l)if(l.forEach)l.forEach(c,d);else if(l.length!==k)for(u=0;u<l.length;)c.call(d,l[u],u,l),u++;else for(u in l)l.hasOwnProperty(u)&&c.call(d,l[u],u,l)}function ae(l,c,d){var u="DEPRECATED METHOD: "+c+"\n"+d+" AT \n";return function(){var g=new Error("get-stack-trace"),f=g&&g.stack?g.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",C=v.console&&(v.console.warn||v.console.log);return C&&C.call(v.console,u,f),l.apply(this,arguments)}}$="function"!=typeof Object.assign?function(c){if(c===k||null===c)throw new TypeError("Cannot convert undefined or null to object");for(var d=Object(c),u=1;u<arguments.length;u++){var g=arguments[u];if(g!==k&&null!==g)for(var f in g)g.hasOwnProperty(f)&&(d[f]=g[f])}return d}:Object.assign;var ce=ae(function(c,d,u){for(var g=Object.keys(d),f=0;f<g.length;)(!u||u&&c[g[f]]===k)&&(c[g[f]]=d[g[f]]),f++;return c},"extend","Use `assign`."),Ee=ae(function(c,d){return ce(c,d,!0)},"merge","Use `assign`.");function I(l,c,d){var g,u=c.prototype;(g=l.prototype=Object.create(u)).constructor=l,g._super=u,d&&$(g,d)}function L(l,c){return function(){return l.apply(c,arguments)}}function S(l,c){return"function"==typeof l?l.apply(c&&c[0]||k,c):l}function y(l,c){return l===k?c:l}function ht(l,c,d){X(q(c),function(u){l.addEventListener(u,d,!1)})}function At(l,c,d){X(q(c),function(u){l.removeEventListener(u,d,!1)})}function vt(l,c){for(;l;){if(l==c)return!0;l=l.parentNode}return!1}function nt(l,c){return l.indexOf(c)>-1}function q(l){return l.trim().split(/\s+/g)}function at(l,c,d){if(l.indexOf&&!d)return l.indexOf(c);for(var u=0;u<l.length;){if(d&&l[u][d]==c||!d&&l[u]===c)return u;u++}return-1}function xt(l){return Array.prototype.slice.call(l,0)}function Bt(l,c,d){for(var u=[],g=[],f=0;f<l.length;){var C=c?l[f][c]:l[f];at(g,C)<0&&u.push(l[f]),g[f]=C,f++}return d&&(u=c?u.sort(function(M,E){return M[c]>E[c]}):u.sort()),u}function Ct(l,c){for(var d,u,g=c[0].toUpperCase()+c.slice(1),f=0;f<Ie.length;){if((u=(d=Ie[f])?d+g:c)in l)return u;f++}return k}var de=1;function pe(l){var c=l.ownerDocument||l;return c.defaultView||c.parentWindow||v}var bt="ontouchstart"in v,Gt=Ct(v,"PointerEvent")!==k,Se=bt&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),Tt="touch",Ft="mouse",ge=["x","y"],kt=["clientX","clientY"];function V(l,c){var d=this;this.manager=l,this.callback=c,this.element=l.element,this.target=l.options.inputTarget,this.domHandler=function(u){S(l.options.enable,[l])&&d.handler(u)},this.init()}function Re(l,c,d){var u=d.pointers.length,g=d.changedPointers.length,f=1&c&&u-g==0,C=12&c&&u-g==0;d.isFirst=!!f,d.isFinal=!!C,f&&(l.session={}),d.eventType=c,function Qe(l,c){var d=l.session,u=c.pointers,g=u.length;d.firstInput||(d.firstInput=ot(c)),g>1&&!d.firstMultiple?d.firstMultiple=ot(c):1===g&&(d.firstMultiple=!1);var f=d.firstInput,C=d.firstMultiple,O=C?C.center:f.center,M=c.center=fe(u);c.timeStamp=Yt(),c.deltaTime=c.timeStamp-f.timeStamp,c.angle=Wt(O,M),c.distance=It(O,M),function He(l,c){var d=c.center,u=l.offsetDelta||{},g=l.prevDelta||{},f=l.prevInput||{};(1===c.eventType||4===f.eventType)&&(g=l.prevDelta={x:f.deltaX||0,y:f.deltaY||0},u=l.offsetDelta={x:d.x,y:d.y}),c.deltaX=g.x+(d.x-u.x),c.deltaY=g.y+(d.y-u.y)}(d,c),c.offsetDirection=he(c.deltaX,c.deltaY);var E=me(c.deltaTime,c.deltaX,c.deltaY);c.overallVelocityX=E.x,c.overallVelocityY=E.y,c.overallVelocity=t(E.x)>t(E.y)?E.x:E.y,c.scale=C?function $e(l,c){return It(c[0],c[1],kt)/It(l[0],l[1],kt)}(C.pointers,u):1,c.rotation=C?function Ye(l,c){return Wt(c[1],c[0],kt)+Wt(l[1],l[0],kt)}(C.pointers,u):0,c.maxPointers=d.prevInput?c.pointers.length>d.prevInput.maxPointers?c.pointers.length:d.prevInput.maxPointers:c.pointers.length,function it(l,c){var g,f,C,O,d=l.lastInterval||c,u=c.timeStamp-d.timeStamp;if(8!=c.eventType&&(u>25||d.velocity===k)){var M=c.deltaX-d.deltaX,E=c.deltaY-d.deltaY,W=me(u,M,E);f=W.x,C=W.y,g=t(W.x)>t(W.y)?W.x:W.y,O=he(M,E),l.lastInterval=c}else g=d.velocity,f=d.velocityX,C=d.velocityY,O=d.direction;c.velocity=g,c.velocityX=f,c.velocityY=C,c.direction=O}(d,c);var W=l.element;vt(c.srcEvent.target,W)&&(W=c.srcEvent.target),c.target=W}(l,d),l.emit("hammer.input",d),l.recognize(d),l.session.prevInput=d}function ot(l){for(var c=[],d=0;d<l.pointers.length;)c[d]={clientX:gt(l.pointers[d].clientX),clientY:gt(l.pointers[d].clientY)},d++;return{timeStamp:Yt(),pointers:c,center:fe(c),deltaX:l.deltaX,deltaY:l.deltaY}}function fe(l){var c=l.length;if(1===c)return{x:gt(l[0].clientX),y:gt(l[0].clientY)};for(var d=0,u=0,g=0;g<c;)d+=l[g].clientX,u+=l[g].clientY,g++;return{x:gt(d/c),y:gt(u/c)}}function me(l,c,d){return{x:c/l||0,y:d/l||0}}function he(l,c){return l===c?1:t(l)>=t(c)?l<0?2:4:c<0?8:16}function It(l,c,d){d||(d=ge);var u=c[d[0]]-l[d[0]],g=c[d[1]]-l[d[1]];return Math.sqrt(u*u+g*g)}function Wt(l,c,d){return d||(d=ge),180*Math.atan2(c[d[1]]-l[d[1]],c[d[0]]-l[d[0]])/Math.PI}V.prototype={handler:function(){},init:function(){this.evEl&&ht(this.element,this.evEl,this.domHandler),this.evTarget&&ht(this.target,this.evTarget,this.domHandler),this.evWin&&ht(pe(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&At(this.element,this.evEl,this.domHandler),this.evTarget&&At(this.target,this.evTarget,this.domHandler),this.evWin&&At(pe(this.element),this.evWin,this.domHandler)}};var Be={mousedown:1,mousemove:2,mouseup:4},Ge="mousedown",ze="mousemove mouseup";function Nt(){this.evEl=Ge,this.evWin=ze,this.pressed=!1,V.apply(this,arguments)}I(Nt,V,{handler:function(c){var d=Be[c.type];1&d&&0===c.button&&(this.pressed=!0),2&d&&1!==c.which&&(d=4),this.pressed&&(4&d&&(this.pressed=!1),this.callback(this.manager,d,{pointers:[c],changedPointers:[c],pointerType:Ft,srcEvent:c}))}});var We={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},je={2:Tt,3:"pen",4:Ft,5:"kinect"},ve="pointerdown",xe="pointermove pointerup pointercancel";function jt(){this.evEl=ve,this.evWin=xe,V.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}v.MSPointerEvent&&!v.PointerEvent&&(ve="MSPointerDown",xe="MSPointerMove MSPointerUp MSPointerCancel"),I(jt,V,{handler:function(c){var d=this.store,u=!1,g=c.type.toLowerCase().replace("ms",""),f=We[g],C=je[c.pointerType]||c.pointerType,O=C==Tt,M=at(d,c.pointerId,"pointerId");1&f&&(0===c.button||O)?M<0&&(d.push(c),M=d.length-1):12&f&&(u=!0),!(M<0)&&(d[M]=c,this.callback(this.manager,f,{pointers:d,changedPointers:[c],pointerType:C,srcEvent:c}),u&&d.splice(M,1))}});var Xe={touchstart:1,touchmove:2,touchend:4,touchcancel:8},Ke="touchstart",tn="touchstart touchmove touchend touchcancel";function Ce(){this.evTarget=Ke,this.evWin=tn,this.started=!1,V.apply(this,arguments)}function en(l,c){var d=xt(l.touches),u=xt(l.changedTouches);return 12&c&&(d=Bt(d.concat(u),"identifier",!0)),[d,u]}I(Ce,V,{handler:function(c){var d=Xe[c.type];if(1===d&&(this.started=!0),this.started){var u=en.call(this,c,d);12&d&&u[0].length-u[1].length==0&&(this.started=!1),this.callback(this.manager,d,{pointers:u[0],changedPointers:u[1],pointerType:Tt,srcEvent:c})}}});var nn={touchstart:1,touchmove:2,touchend:4,touchcancel:8},on="touchstart touchmove touchend touchcancel";function Et(){this.evTarget=on,this.targetIds={},V.apply(this,arguments)}function rn(l,c){var d=xt(l.touches),u=this.targetIds;if(3&c&&1===d.length)return u[d[0].identifier]=!0,[d,d];var g,f,C=xt(l.changedTouches),O=[],M=this.target;if(f=d.filter(function(E){return vt(E.target,M)}),1===c)for(g=0;g<f.length;)u[f[g].identifier]=!0,g++;for(g=0;g<C.length;)u[C[g].identifier]&&O.push(C[g]),12&c&&delete u[C[g].identifier],g++;return O.length?[Bt(f.concat(O),"identifier",!0),O]:void 0}function Xt(){V.apply(this,arguments);var l=L(this.handler,this);this.touch=new Et(this.manager,l),this.mouse=new Nt(this.manager,l),this.primaryTouch=null,this.lastTouches=[]}function ln(l,c){1&l?(this.primaryTouch=c.changedPointers[0].identifier,Te.call(this,c)):12&l&&Te.call(this,c)}function Te(l){var c=l.changedPointers[0];if(c.identifier===this.primaryTouch){var d={x:c.clientX,y:c.clientY};this.lastTouches.push(d);var u=this.lastTouches;setTimeout(function(){var f=u.indexOf(d);f>-1&&u.splice(f,1)},2500)}}function an(l){for(var c=l.srcEvent.clientX,d=l.srcEvent.clientY,u=0;u<this.lastTouches.length;u++){var g=this.lastTouches[u],f=Math.abs(c-g.x),C=Math.abs(d-g.y);if(f<=25&&C<=25)return!0}return!1}I(Et,V,{handler:function(c){var d=nn[c.type],u=rn.call(this,c,d);!u||this.callback(this.manager,d,{pointers:u[0],changedPointers:u[1],pointerType:Tt,srcEvent:c})}}),I(Xt,V,{handler:function(c,d,u){var f=u.pointerType==Ft;if(!(f&&u.sourceCapabilities&&u.sourceCapabilities.firesTouchEvents)){if(u.pointerType==Tt)ln.call(this,d,u);else if(f&&an.call(this,u))return;this.callback(c,d,u)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var ye=Ct(Ne.style,"touchAction"),Ze=ye!==k,Pe="compute",Kt="manipulation",pt="none",wt="pan-x",Lt="pan-y",Ut=function dn(){if(!Ze)return!1;var l={},c=v.CSS&&v.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(d){l[d]=!c||v.CSS.supports("touch-action",d)}),l}();function te(l,c){this.manager=l,this.set(c)}te.prototype={set:function(l){l==Pe&&(l=this.compute()),Ze&&this.manager.element.style&&Ut[l]&&(this.manager.element.style[ye]=l),this.actions=l.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var l=[];return X(this.manager.recognizers,function(c){S(c.options.enable,[c])&&(l=l.concat(c.getTouchAction()))}),function cn(l){if(nt(l,pt))return pt;var c=nt(l,wt),d=nt(l,Lt);return c&&d?pt:c||d?c?wt:Lt:nt(l,Kt)?Kt:"auto"}(l.join(" "))},preventDefaults:function(l){var c=l.srcEvent,d=l.offsetDirection;if(!this.manager.session.prevented){var u=this.actions,g=nt(u,pt)&&!Ut[pt],f=nt(u,Lt)&&!Ut[Lt],C=nt(u,wt)&&!Ut[wt];if(g&&1===l.pointers.length&&l.distance<2&&l.deltaTime<250)return;return C&&f||!(g||f&&6&d||C&&24&d)?void 0:this.preventSrc(c)}c.preventDefault()},preventSrc:function(l){this.manager.session.prevented=!0,l.preventDefault()}};var z=32;function B(l){this.options=$({},this.defaults,l||{}),this.id=function Ue(){return de++}(),this.manager=null,this.options.enable=y(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function ee(l){return 16&l?"cancel":8&l?"end":4&l?"move":2&l?"start":""}function Le(l){return 16==l?"down":8==l?"up":2==l?"left":4==l?"right":""}function qt(l,c){var d=c.manager;return d?d.get(l):l}function Q(){B.apply(this,arguments)}function Jt(){Q.apply(this,arguments),this.pX=null,this.pY=null}function ne(){Q.apply(this,arguments)}function ut(){B.apply(this,arguments),this._timer=null,this._input=null}function b(){Q.apply(this,arguments)}function _t(){Q.apply(this,arguments)}function Mt(){B.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function tt(l,c){return(c=c||{}).recognizers=y(c.recognizers,tt.defaults.preset),new ie(l,c)}function ie(l,c){this.options=$({},tt.defaults,c||{}),this.options.inputTarget=this.options.inputTarget||l,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=l,this.input=function Ve(l){return new(l.options.inputClass||(Gt?jt:Se?Et:bt?Xt:Nt))(l,Re)}(this),this.touchAction=new te(this,this.options.touchAction),Oe(this,!0),X(this.options.recognizers,function(d){var u=this.add(new d[0](d[1]));d[2]&&u.recognizeWith(d[2]),d[3]&&u.requireFailure(d[3])},this)}function Oe(l,c){var u,d=l.element;d.style&&(X(l.options.cssProps,function(g,f){u=Ct(d.style,f),c?(l.oldCssProps[u]=d.style[u],d.style[u]=g):d.style[u]=l.oldCssProps[u]||""}),c||(l.oldCssProps={}))}B.prototype={defaults:{},set:function(l){return $(this.options,l),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(l){if(A(l,"recognizeWith",this))return this;var c=this.simultaneous;return c[(l=qt(l,this)).id]||(c[l.id]=l,l.recognizeWith(this)),this},dropRecognizeWith:function(l){return A(l,"dropRecognizeWith",this)||(l=qt(l,this),delete this.simultaneous[l.id]),this},requireFailure:function(l){if(A(l,"requireFailure",this))return this;var c=this.requireFail;return-1===at(c,l=qt(l,this))&&(c.push(l),l.requireFailure(this)),this},dropRequireFailure:function(l){if(A(l,"dropRequireFailure",this))return this;l=qt(l,this);var c=at(this.requireFail,l);return c>-1&&this.requireFail.splice(c,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(l){return!!this.simultaneous[l.id]},emit:function(l){var c=this,d=this.state;function u(g){c.manager.emit(g,l)}d<8&&u(c.options.event+ee(d)),u(c.options.event),l.additionalEvent&&u(l.additionalEvent),d>=8&&u(c.options.event+ee(d))},tryEmit:function(l){if(this.canEmit())return this.emit(l);this.state=z},canEmit:function(){for(var l=0;l<this.requireFail.length;){if(!(33&this.requireFail[l].state))return!1;l++}return!0},recognize:function(l){var c=$({},l);if(!S(this.options.enable,[this,c]))return this.reset(),void(this.state=z);56&this.state&&(this.state=1),this.state=this.process(c),30&this.state&&this.tryEmit(c)},process:function(l){},getTouchAction:function(){},reset:function(){}},I(Q,B,{defaults:{pointers:1},attrTest:function(l){var c=this.options.pointers;return 0===c||l.pointers.length===c},process:function(l){var c=this.state,d=l.eventType,u=6&c,g=this.attrTest(l);return u&&(8&d||!g)?16|c:u||g?4&d?8|c:2&c?4|c:2:z}}),I(Jt,Q,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var l=this.options.direction,c=[];return 6&l&&c.push(Lt),24&l&&c.push(wt),c},directionTest:function(l){var c=this.options,d=!0,u=l.distance,g=l.direction,f=l.deltaX,C=l.deltaY;return g&c.direction||(6&c.direction?(g=0===f?1:f<0?2:4,d=f!=this.pX,u=Math.abs(l.deltaX)):(g=0===C?1:C<0?8:16,d=C!=this.pY,u=Math.abs(l.deltaY))),l.direction=g,d&&u>c.threshold&&g&c.direction},attrTest:function(l){return Q.prototype.attrTest.call(this,l)&&(2&this.state||!(2&this.state)&&this.directionTest(l))},emit:function(l){this.pX=l.deltaX,this.pY=l.deltaY;var c=Le(l.direction);c&&(l.additionalEvent=this.options.event+c),this._super.emit.call(this,l)}}),I(ne,Q,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[pt]},attrTest:function(l){return this._super.attrTest.call(this,l)&&(Math.abs(l.scale-1)>this.options.threshold||2&this.state)},emit:function(l){1!==l.scale&&(l.additionalEvent=this.options.event+(l.scale<1?"in":"out")),this._super.emit.call(this,l)}}),I(ut,B,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(l){var c=this.options,d=l.pointers.length===c.pointers,u=l.distance<c.threshold,g=l.deltaTime>c.time;if(this._input=l,!u||!d||12&l.eventType&&!g)this.reset();else if(1&l.eventType)this.reset(),this._timer=$t(function(){this.state=8,this.tryEmit()},c.time,this);else if(4&l.eventType)return 8;return z},reset:function(){clearTimeout(this._timer)},emit:function(l){8===this.state&&(l&&4&l.eventType?this.manager.emit(this.options.event+"up",l):(this._input.timeStamp=Yt(),this.manager.emit(this.options.event,this._input)))}}),I(b,Q,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[pt]},attrTest:function(l){return this._super.attrTest.call(this,l)&&(Math.abs(l.rotation)>this.options.threshold||2&this.state)}}),I(_t,Q,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return Jt.prototype.getTouchAction.call(this)},attrTest:function(l){var d,c=this.options.direction;return 30&c?d=l.overallVelocity:6&c?d=l.overallVelocityX:24&c&&(d=l.overallVelocityY),this._super.attrTest.call(this,l)&&c&l.offsetDirection&&l.distance>this.options.threshold&&l.maxPointers==this.options.pointers&&t(d)>this.options.velocity&&4&l.eventType},emit:function(l){var c=Le(l.offsetDirection);c&&this.manager.emit(this.options.event+c,l),this.manager.emit(this.options.event,l)}}),I(Mt,B,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Kt]},process:function(l){var c=this.options,d=l.pointers.length===c.pointers,u=l.distance<c.threshold,g=l.deltaTime<c.time;if(this.reset(),1&l.eventType&&0===this.count)return this.failTimeout();if(u&&g&&d){if(4!=l.eventType)return this.failTimeout();var f=!this.pTime||l.timeStamp-this.pTime<c.interval,C=!this.pCenter||It(this.pCenter,l.center)<c.posThreshold;if(this.pTime=l.timeStamp,this.pCenter=l.center,C&&f?this.count+=1:this.count=1,this._input=l,0==this.count%c.taps)return this.hasRequireFailures()?(this._timer=$t(function(){this.state=8,this.tryEmit()},c.interval,this),2):8}return z},failTimeout:function(){return this._timer=$t(function(){this.state=z},this.options.interval,this),z},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),tt.VERSION="2.0.7",tt.defaults={domEvents:!1,touchAction:Pe,enable:!0,inputTarget:null,inputClass:null,preset:[[b,{enable:!1}],[ne,{enable:!1},["rotate"]],[_t,{direction:6}],[Jt,{direction:6},["swipe"]],[Mt],[Mt,{event:"doubletap",taps:2},["tap"]],[ut]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},ie.prototype={set:function(l){return $(this.options,l),l.touchAction&&this.touchAction.update(),l.inputTarget&&(this.input.destroy(),this.input.target=l.inputTarget,this.input.init()),this},stop:function(l){this.session.stopped=l?2:1},recognize:function(l){var c=this.session;if(!c.stopped){this.touchAction.preventDefaults(l);var d,u=this.recognizers,g=c.curRecognizer;(!g||g&&8&g.state)&&(g=c.curRecognizer=null);for(var f=0;f<u.length;)d=u[f],2===c.stopped||g&&d!=g&&!d.canRecognizeWith(g)?d.reset():d.recognize(l),!g&&14&d.state&&(g=c.curRecognizer=d),f++}},get:function(l){if(l instanceof B)return l;for(var c=this.recognizers,d=0;d<c.length;d++)if(c[d].options.event==l)return c[d];return null},add:function(l){if(A(l,"add",this))return this;var c=this.get(l.options.event);return c&&this.remove(c),this.recognizers.push(l),l.manager=this,this.touchAction.update(),l},remove:function(l){if(A(l,"remove",this))return this;if(l=this.get(l)){var c=this.recognizers,d=at(c,l);-1!==d&&(c.splice(d,1),this.touchAction.update())}return this},on:function(l,c){if(l!==k&&c!==k){var d=this.handlers;return X(q(l),function(u){d[u]=d[u]||[],d[u].push(c)}),this}},off:function(l,c){if(l!==k){var d=this.handlers;return X(q(l),function(u){c?d[u]&&d[u].splice(at(d[u],c),1):delete d[u]}),this}},emit:function(l,c){this.options.domEvents&&function Me(l,c){var d=T.createEvent("Event");d.initEvent(l,!0,!0),d.gesture=c,c.target.dispatchEvent(d)}(l,c);var d=this.handlers[l]&&this.handlers[l].slice();if(d&&d.length){c.type=l,c.preventDefault=function(){c.srcEvent.preventDefault()};for(var u=0;u<d.length;)d[u](c),u++}},destroy:function(){this.element&&Oe(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},$(tt,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:z,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:ie,Input:V,TouchAction:te,TouchInput:Et,MouseInput:Nt,PointerEventInput:jt,TouchMouseInput:Xt,SingleTouchInput:Ce,Recognizer:B,AttrRecognizer:Q,Tap:Mt,Pan:Jt,Swipe:_t,Pinch:ne,Rotate:b,Press:ut,on:ht,off:At,each:X,merge:Ee,extend:ce,assign:$,inherit:I,bindFn:L,prefixed:Ct}),(typeof v<"u"?v:typeof self<"u"?self:{}).Hammer=tt,(D=function(){return tt}.call(Ht,x,Ht,ke))!==k&&(ke.exports=D)}(window,document)}}]);